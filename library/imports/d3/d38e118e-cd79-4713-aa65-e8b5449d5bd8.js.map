{"version":3,"sources":["assets/scripts/Gate2.js"],"names":["$pool","require","$battleGround2Ctrl","$role2","c","cc","_decorator","s","ccclass","r","property","l","e","t","apply","arguments","sep","gates","gateStrs","gateColors","par","sepWidth","nextHitTime","v","buffs","__extends","prototype","init","JSONManager","ConfigBattle","WIDTH","width","x","gateInfo","setText","moving","state","node","y","addBuff","setGateWidth","endLineY","height","use","getComponent","Sprite","spriteFrame","beHit","player","getBuff","parent","destroyPoolItem","o","bulletConfig","rate","Math","abs","nums","dmg","floor","refreshAtk","setScale","string","start","update","__decorate","Node","Label","SpriteFrame","Component","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var $pool = require(\"./Pool\");\nvar $battleGround2Ctrl = require(\"./BattleGround2Ctrl\");\nvar $role2 = require(\"./Role2\");\nvar c = cc._decorator;\nvar s = c.ccclass;\nvar r = c.property;\nvar l = (function (e) {\n    function t() {\n        var t = (null !== e && e.apply(this, arguments)) || this;\n        t.sep = null;\n        t.gates = [];\n        t.gateStrs = [];\n        t.gateColors = [];\n        t.par = null;\n        t.sepWidth = 5;\n        t.nextHitTime = 0;\n        t.v = 0;\n        t.buffs = [\n            [300, 0, 0, 0],\n            [300, 0, 0, 0]\n        ];\n        return t;\n    }\n    __extends(t, e);\n    t.prototype.init = function (e) {\n        if (void 0 === e) {\n            e = {};\n        }\n        this.par = e.par;\n        this.v = $battleGround2Ctrl.default.JSONManager.ConfigBattle[6].v[0];\n        this.buffs[0][0] = this.par.WIDTH / 2;\n        this.buffs[1][0] = this.par.WIDTH / 2;\n        this.buffs[0][3] = 0;\n        this.buffs[1][3] = 0;\n        this.gates[0].width = this.par.WIDTH / 2;\n        this.gates[0].x = -this.par.WIDTH / 4;\n        this.gates[1].width = this.par.WIDTH / 2;\n        this.gates[1].x = this.par.WIDTH / 4;\n        this.buffs[0][1] = e.gateInfo[0][0];\n        this.buffs[0][2] = e.gateInfo[0][1];\n        this.buffs[1][1] = e.gateInfo[1][0];\n        this.buffs[1][2] = e.gateInfo[1][1];\n        this.sep.x = 0;\n        this.nextHitTime = 0;\n        this.setText();\n    };\n    t.prototype.moving = function (e) {\n        if (10 === this.par.state) {\n            this.node.y -= this.v * e;\n            this.nextHitTime -= e;\n            if (this.nextHitTime <= 0) {\n                if (this.buffs[0][3] > 0) {\n                    this.addBuff(0);\n                    if (this.buffs[0][3] > this.buffs[1][3]) {\n                        this.setGateWidth(0, this.sepWidth);\n                        this.setGateWidth(1, -this.sepWidth);\n                    }\n                    this.nextHitTime = $battleGround2Ctrl.default.JSONManager.ConfigBattle[6].v[1];\n                }\n                if (this.buffs[1][3] > 0) {\n                    this.addBuff(1);\n                    if (this.buffs[1][3] > this.buffs[0][3]) {\n                        this.setGateWidth(1, this.sepWidth);\n                        this.setGateWidth(0, -this.sepWidth);\n                    }\n                    this.nextHitTime = $battleGround2Ctrl.default.JSONManager.ConfigBattle[6].v[1];\n                }\n                this.buffs[0][3] = 0;\n                this.buffs[1][3] = 0;\n            }\n            if (this.node.y < this.par.endLineY + this.node.height / 2) {\n                this.use();\n            }\n        }\n    };\n    t.prototype.addBuff = function (e) {\n        this.buffs[e][2]++;\n        if (0 === this.buffs[e][2]) {\n            this.buffs[e][2] = 1;\n        }\n        if (2 === this.buffs[e][1] && this.buffs[e][2] > 8) {\n            this.buffs[e][2] = 8;\n        }\n    };\n    t.prototype.setGateWidth = function (e, t) {\n        this.buffs[e][0] += t;\n        if (this.buffs[e][0] < 10 * this.sepWidth) {\n            this.buffs[e][0] = 10 * this.sepWidth;\n        } else {\n            if (this.buffs[e][0] > this.par.WIDTH - 10 * this.sepWidth) {\n                this.buffs[e][0] = this.par.WIDTH - 10 * this.sepWidth;\n            }\n        }\n        this.gates[e].width = this.buffs[e][0];\n        if (0 === e) {\n            this.gates[e].x = -this.par.WIDTH / 2 + this.gates[e].width / 2;\n            this.sep.x = -this.par.WIDTH / 2 + this.gates[e].width;\n        } else {\n            this.gates[e].x = this.par.WIDTH / 2 - this.gates[e].width / 2;\n        }\n        this.gates[e].getComponent(cc.Sprite).spriteFrame = this.gateColors[t > 0 ? 0 : 1];\n    };\n    t.prototype.beHit = function (e) {\n        if (e.node.x < -this.par.WIDTH / 2 + this.buffs[0][0]) {\n            this.buffs[0][3]++;\n        } else {\n            this.buffs[1][3]++;\n        }\n        this.setText();\n    };\n    t.prototype.use = function () {\n        if (this.par.player.x < this.sep.x) {\n            this.getBuff(this.buffs[0][1], this.buffs[0][2]);\n        } else {\n            this.getBuff(this.buffs[1][1], this.buffs[1][2]);\n        }\n        this.node.parent.getComponent($pool.default).destroyPoolItem(this.node);\n    };\n    t.prototype.getBuff = function (e, t) {\n        var o = this.par.player.getComponent($role2.default);\n        switch (e) {\n            case 1:\n                if (t > 0) {\n                    o.bulletConfig.rate -= 0.015 * t;\n                    o.bulletConfig.rate < 1 / 15 && (o.bulletConfig.rate = 1 / 15);\n                } else {\n                    o.bulletConfig.rate *= Math.abs(t);\n                }\n                break;\n            case 2:\n                o.bulletConfig.nums += t;\n                if (o.bulletConfig.nums < 1) {\n                    o.bulletConfig.nums = 1;\n                }\n                if (o.bulletConfig.nums > 10) {\n                    o.bulletConfig.nums = 10;\n                }\n                break;\n            case 3:\n                if (t > 0) {\n                    o.bulletConfig.dmg *= t;\n                } else {\n                    o.bulletConfig.dmg /= Math.abs(t);\n                    o.bulletConfig.dmg = Math.floor(o.bulletConfig.dmg);\n                }\n                this.par.refreshAtk();\n                break;\n            case 4:\n            case 5:\n                o.bulletConfig.dmg += t;\n                this.par.refreshAtk();\n        }\n    };\n    t.prototype.setText = function () {\n        var e = {\n            1: [\"攻速 \", \"x\", \"÷\"],\n            2: [\"弹道 \", \"+\", \"-\"],\n            3: [\"攻击 \", \"x\", \"÷\"],\n            4: [\"攻击 \", \"+\", \"-\"],\n            5: [\"攻击 \", \"+\", \"-\"]\n        };\n        this.gateStrs[0].node.setScale(this.buffs[0][0] / 300);\n        this.gateStrs[1].node.setScale(this.buffs[1][0] / 300);\n        this.gateStrs[0].string =\n            e[this.buffs[0][1]][0] +\n            e[this.buffs[0][1]][this.buffs[0][2] >= 0 ? 1 : 2] +\n            \" \" +\n            Math.abs(this.buffs[0][2]);\n        this.gateStrs[1].string =\n            e[this.buffs[1][1]][0] +\n            e[this.buffs[1][1]][this.buffs[1][2] >= 0 ? 1 : 2] +\n            \" \" +\n            Math.abs(this.buffs[1][2]);\n    };\n    t.prototype.start = function () {};\n    t.prototype.update = function (e) {\n        this.moving(e);\n    };\n    __decorate([r(cc.Node)], t.prototype, \"sep\", void 0);\n    __decorate([r(cc.Node)], t.prototype, \"gates\", void 0);\n    __decorate([r(cc.Label)], t.prototype, \"gateStrs\", void 0);\n    __decorate([r(cc.SpriteFrame)], t.prototype, \"gateColors\", void 0);\n    return __decorate([s], t);\n})(cc.Component);\nexports.default = l;\n"]}