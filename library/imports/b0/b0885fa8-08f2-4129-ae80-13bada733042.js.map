{"version":3,"sources":["assets/scripts/RuntimeData.js"],"names":["o","showGame1st","mode","level","money","autoTimes","freeTimes","lv2Count","wave","lv","exp","speed","blocks","items","bagItems","buffs","buffValues","actBuff1","actBuff2","openSpeed","hasReborn","forceAdWave","tryPlantId","stats","guide","adBlockCount","buyCoinCount","buffRefreshCount","buffAllCount","anger","hasUseReborn","init","e","t","removeData","cc","JsonControl","levelDataJson","a","n","push","ActLevelJson","player","actLevelData","buffList","i","c","rankLevelJsonFile","json","s","r","startyinbi","Array","fill","buffInfo","loadJsonData","Set","forEach","id","type","value","add","addMoney","butler","playEffectAsync","node","emit","hasEnableBuff","some","getBuffValue","addBuff","length","math","randomRangeInt","hasPreGame","sys","localStorage","getItem","preData","JSON","parse","saveData","setItem","stringify","removeItem","initByPreData","Object","keys","pvz","runtimeData","module","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o = {\n    showGame1st: !1,\n    mode: 0,\n    level: 1,\n    money: 0,\n    autoTimes: 0,\n    freeTimes: 1,\n    lv2Count: 1,\n    wave: 0,\n    lv: 0,\n    exp: 0,\n    speed: 1,\n    blocks: [],\n    items: [],\n    bagItems: [],\n    buffs: [],\n    buffValues: {},\n    actBuff1: -1,\n    actBuff2: -1,\n    openSpeed: !0,\n    hasReborn: !1,\n    forceAdWave: 3,\n    tryPlantId: 0,\n    stats: [],\n    guide: 0,\n    adBlockCount: 3,\n    buyCoinCount: 10,\n    buffRefreshCount: 3,\n    buffAllCount: 1,\n    anger: 500,\n    hasUseReborn: !1,\n    init: function (e, t) {\n        this.removeData();\n        this.showGame1st = !1;\n        this.mode = e;\n        this.level = t;\n        this.anger = 500;\n        this.hasUseReborn = !1;\n        this.blocks = [];\n        var o = null;\n        switch (this.mode) {\n            case 0:\n                o = cc.JsonControl.levelDataJson[this.level - 1];\n                this.actBuff1 = -1;\n                this.actBuff2 = -1;\n                for (var a = 2; a < 5; a++) {\n                    for (var n = 1; n < 4; n++) {\n                        this.blocks.push(5 * a + n);\n                    }\n                }\n                break;\n            case 1:\n                o = cc.JsonControl.ActLevelJson[this.level - 1];\n                this.actBuff1 = cc.player.actLevelData.buffList[0];\n                this.actBuff2 = cc.player.actLevelData.buffList[1];\n                for (var i = 1; i < 6; i++) {\n                    for (var c = 1; c < 4; c++) {\n                        this.blocks.push(5 * i + c);\n                    }\n                }\n                break;\n            case 2:\n                o = cc.JsonControl.rankLevelJsonFile.json[0];\n                this.actBuff1 = -1;\n                this.actBuff2 = -1;\n                for (var s = 2; s < 5; s++) {\n                    for (var r = 1; r < 4; r++) {\n                        this.blocks.push(5 * s + r);\n                    }\n                }\n                this.buyCoinCount = 20;\n                this.buffRefreshCount = 3;\n                this.buffAllCount = 1;\n        }\n        this.money = o.startyinbi;\n        this.tryPlantId = 0;\n        this.stats = new Array(14).fill(0);\n        this.autoTimes = 1;\n        this.freeTimes = 1;\n        this.lv2Count = 1;\n        this.wave = 0;\n        this.lv = 0;\n        this.exp = 0;\n        this.speed = 1;\n        this.openSpeed = !0;\n        this.items = [];\n        this.bagItems = [];\n        this.buffs = [];\n        this.buffValues = {};\n        this.buffInfo = null;\n        this.hasReborn = !1;\n        this.forceAdWave = 3;\n        this.adBlockCount = 3;\n        this.guide = 0;\n    },\n    loadJsonData: function (e) {\n        var t = this;\n        if (!this.buffInfo) {\n            this.buffInfo = {};\n            var o = new Set();\n            e.forEach(function (e) {\n                t.buffInfo[e.id] = {\n                    type: e.type,\n                    value: e.value\n                };\n                o.add(e.type);\n            });\n            o.forEach(function (e) {\n                t.buffValues[e] = 0;\n            });\n        }\n    },\n    addMoney: function (e) {\n        this.money += e;\n        if (e > 0) {\n            cc.butler.playEffectAsync(\"game\", \"sound/getSunShine\");\n        }\n        cc.butler.node.emit(\"money\");\n    },\n    hasEnableBuff: function (e) {\n        return this.buffs.some(function (t) {\n            return t == e;\n        });\n    },\n    getBuffValue: function (e) {\n        return this.buffValues[e];\n    },\n    addBuff: function (e) {\n        var t = this.buffInfo[e];\n        switch (t.type) {\n            case 1:\n                break;\n            case 6:\n                this.addMoney(t.value);\n                break;\n            case 12:\n                var o = [];\n                this.items.forEach(function (e, t) {\n                    if (e.lv < 3) {\n                        o.push(t);\n                    }\n                });\n                if (o.length > 0) {\n                    var a = o[cc.math.randomRangeInt(0, o.length)];\n                    var n = this.items[a];\n                    n.lv++;\n                    cc.butler.node.emit(\"lvup\", a, n.lv);\n                }\n        }\n        this.buffValues[t.type] += t.value;\n        this.buffs.push(e);\n        if (1 == t.type) {\n            cc.butler.node.emit(\"maxHp\");\n        }\n    },\n    hasPreGame: function () {\n        var e = cc.sys.localStorage.getItem(\"kapi-rt1\");\n        return !!e && ((this.preData = JSON.parse(e)), !0);\n    },\n    saveData: function () {\n        delete this.preData;\n        cc.sys.localStorage.setItem(\"kapi-rt1\", JSON.stringify(this));\n    },\n    removeData: function () {\n        cc.sys.localStorage.removeItem(\"kapi-rt1\");\n        delete this.preData;\n    },\n    initByPreData: function () {\n        var e = this;\n        Object.keys(this.preData).forEach(function (t) {\n            e[t] = e.preData[t];\n        });\n    }\n};\nif (cc.pvz) {\n    //\n} else {\n    cc.pvz = {};\n}\ncc.pvz.runtimeData = o;\nmodule.exports = o;\n"]}