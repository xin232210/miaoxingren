{"version":3,"sources":["assets/game/scripts/UIGamePause.js"],"names":["cc","Class","Component","properties","buffJsonFile","JsonAsset","buffItemNode","Node","buffPanel","buffTipPanel","buffDescLabel","RichText","initBy","buffJson","json","active","buffList","pvz","runtimeData","buffs","tipBuffId","length","initBuffShow","getBuffJson","t","find","e","id","getComponent","initBuffItem","i","n","onShowTipPanel","instantiate","parent","Layout","updateLayout","position","v2","x","y","string","onClickHideTip","onClickSet","popupManager","popup","ad","scale","onClickBackToMain","onClickClose","removePopup"],"mappings":"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","sourceRoot":"/","sourcesContent":["cc.Class({\n    extends: cc.Component,\n    properties: {\n        buffJsonFile: cc.JsonAsset,\n        buffItemNode: cc.Node,\n        buffPanel: cc.Node,\n        buffTipPanel: cc.Node,\n        buffDescLabel: cc.RichText\n    },\n    initBy: function () {\n        this.buffJson = this.buffJsonFile.json;\n        this.buffTipPanel.active = !1;\n        this.buffList = cc.pvz.runtimeData.buffs;\n        this.tipBuffId = -1;\n        if (0 == this.buffList.length) {\n            this.buffItemNode.active = !1;\n        } else {\n            this.initBuffShow();\n        }\n    },\n    getBuffJson: function (t) {\n        return this.buffJson.find(function (e) {\n            return e.id == t;\n        });\n    },\n    initBuffShow: function () {\n        var t = this;\n        this.buffItemNode.active = !0;\n        this.buffItemNode\n            .getComponent(\"BuffItem\")\n            .initBuffItem(0, this.getBuffJson(this.buffList[0]), function (e, i, n) {\n                t.onShowTipPanel(e, i, n);\n            });\n        for (var e = 1; e < this.buffList.length; e++) {\n            var i = cc.instantiate(this.buffItemNode);\n            i.parent = this.buffPanel;\n            i.getComponent(\"BuffItem\").initBuffItem(e, this.getBuffJson(this.buffList[e]), function (e, i, n) {\n                t.onShowTipPanel(e, i, n);\n            });\n        }\n        this.buffPanel.getComponent(cc.Layout).updateLayout();\n    },\n    onShowTipPanel: function (t, e, i) {\n        if (this.tipBuffId != t) {\n            this.tipBuffId = t;\n            this.buffTipPanel.active = !0;\n            this.buffTipPanel.position = cc.v2(e.x, e.y + 130 + this.buffPanel.parent.position.y);\n            this.buffDescLabel.string = i;\n        } else {\n            this.buffTipPanel.active = !this.buffTipPanel.active;\n        }\n    },\n    onClickHideTip: function () {\n        this.buffTipPanel.active = !1;\n    },\n    onClickSet: function () {\n        this.buffTipPanel.active = !1;\n        cc.popupManager.popup(\n            \"mainUI\",\n            \"set\",\n            \"UISet\",\n            {\n                ad: !1,\n                scale: !1\n            },\n            1\n        );\n    },\n    onClickBackToMain: function () {\n        this.buffTipPanel.active = !1;\n        cc.popupManager.popup(\"game\", \"tipUI\", \"UIBackMainTip\", {\n            ad: !1,\n            scale: !1\n        });\n    },\n    onClickClose: function () {\n        cc.popupManager.removePopup(this);\n    }\n});\n"]}