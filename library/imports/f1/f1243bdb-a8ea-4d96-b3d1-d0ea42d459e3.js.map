{"version":3,"sources":["assets/mainUI/scripts/RedControl.js"],"names":["cc","Class","Component","properties","shopRed","Node","battleRed","toolLvRed","actLevelRed","rankRed","signRed","shareRed","missionRed","fundRed","game2Red","onLoad","RedControl","refreshAllRedTip","onCheckShopRed","onCheckBattleRed","onCheckToolLvRed","onCheckActLevelRed","onChecRankRed","onCheckSignRed","onCheckShareRed","onCheckMissionRed","onCheckGame2Red","pvz","PlayerData","getStageLevel","GameConfig","OpenSysLv","active","Date","getDate","player","gameDate","rankCount","checkAndResetDayMission","checkAndResetWeekMission","onCheckDayMissionRed","onCheckWeekMissionRed","onCheckAchieveMissionRed","e","JsonControl","getAllDayMissionJson","t","length","i","o","getDayMissionData","func","isReward","pro","need","a","getDayMissionBoxJson","c","getItemNum","ItemType","s","n","getDayBoxData","ID","score","getAllWeekMissionJson","getWeekMissionData","getWeekMissionBoxJson","getWeekBoxData","getAllAchieveJson","Math","floor","getAchieveData","end","lv","getAchieveJson","getAchieveProgress","checkAndResetSign","getSignData","shopDate","getShopTimes","ShopTimesType","shopBoxData","date","now","ShopBoxCD","checkAndResetGameDate","getMaxLevelWave","getLevelBoxData","getLevelJson","MaxToolCount","ToolLockLevel","push","getToolData","MaxToolLv","getToolJson","r","getToolLvUpJson","h","quality","p","isItemEnough","isEnoughArrayTool","actLevelDate","getActLevelData","times","ActLevelBoxJson","boxStatus","isShare","isFundRed","level","hasFundGet","onCheckFundRed","game2t"],"mappings":"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","sourceRoot":"/","sourcesContent":["cc.Class({\n    extends: cc.Component,\n    properties: {\n        shopRed: cc.Node,\n        battleRed: cc.Node,\n        toolLvRed: cc.Node,\n        actLevelRed: cc.Node,\n        rankRed: cc.Node,\n        signRed: cc.Node,\n        shareRed: cc.Node,\n        missionRed: cc.Node,\n        fundRed: cc.Node,\n        game2Red: cc.Node\n    },\n    onLoad: function () {\n        cc.RedControl = this;\n    },\n    refreshAllRedTip: function () {\n        this.onCheckShopRed();\n        this.onCheckBattleRed();\n        this.onCheckToolLvRed();\n        this.onCheckActLevelRed();\n        this.onChecRankRed();\n        this.onCheckSignRed();\n        this.onCheckShareRed();\n        this.onCheckMissionRed();\n        this.onCheckGame2Red();\n    },\n    onChecRankRed: function () {\n        if (cc.pvz.PlayerData.getStageLevel() <= cc.pvz.GameConfig.OpenSysLv[1]) {\n            this.rankRed.active = !1;\n        } else {\n            if (new Date().getDate() == cc.player.gameDate) {\n                this.rankRed.active = cc.player.rankCount > 0;\n            } else {\n                this.rankRed.active = !0;\n            }\n        }\n    },\n    onCheckMissionRed: function () {\n        cc.pvz.PlayerData.checkAndResetDayMission();\n        cc.pvz.PlayerData.checkAndResetWeekMission();\n        if (this.onCheckDayMissionRed() || this.onCheckWeekMissionRed() || this.onCheckAchieveMissionRed()) {\n            this.missionRed.active = !0;\n        } else {\n            this.missionRed.active = !1;\n        }\n    },\n    onCheckDayMissionRed: function () {\n        var e = cc.JsonControl.getAllDayMissionJson();\n        for (var t = 0; t < e.length; t++) {\n            var i = e[t];\n            var o = cc.pvz.PlayerData.getDayMissionData(i.func);\n            if (!o.isReward && o.pro >= i.need) {\n                return !0;\n            }\n        }\n        var a = cc.JsonControl.getDayMissionBoxJson();\n        var c = cc.pvz.PlayerData.getItemNum(cc.pvz.GameConfig.ItemType[\"日常任务积分\"]);\n        for (var s = 0; s < a.length; s++) {\n            var n = a[s];\n            if (!cc.pvz.PlayerData.getDayBoxData(n.ID).isReward && c >= n.score) {\n                return !0;\n            }\n        }\n        return !1;\n    },\n    onCheckWeekMissionRed: function () {\n        var e = cc.JsonControl.getAllWeekMissionJson();\n        for (var t = 0; t < e.length; t++) {\n            var i = e[t];\n            var o = cc.pvz.PlayerData.getWeekMissionData(i.func);\n            if (!o.isReward && o.pro >= i.need) {\n                return !0;\n            }\n        }\n        var a = cc.JsonControl.getWeekMissionBoxJson();\n        var c = cc.pvz.PlayerData.getItemNum(cc.pvz.GameConfig.ItemType[\"周常任务积分\"]);\n        for (var s = 0; s < a.length; s++) {\n            var n = a[s];\n            if (!cc.pvz.PlayerData.getWeekBoxData(n.ID).isReward && c >= n.score) {\n                return !0;\n            }\n        }\n        return !1;\n    },\n    onCheckAchieveMissionRed: function () {\n        var e = cc.JsonControl.getAllAchieveJson();\n        var t = Math.floor(e[e.length - 1].ID / 100);\n        for (var i = 0; i < t; i++) {\n            var o = i + 1;\n            var a = cc.pvz.PlayerData.getAchieveData(o);\n            if (!a.end) {\n                var c = 100 * o + a.lv;\n                var s = cc.JsonControl.getAchieveJson(c);\n                var n = cc.pvz.PlayerData.getAchieveProgress(s.func);\n                if (s.need[0] <= n) {\n                    return !0;\n                }\n            }\n        }\n        return !1;\n    },\n    onCheckSignRed: function () {\n        cc.pvz.PlayerData.checkAndResetSign();\n        var e = cc.pvz.PlayerData.getSignData();\n        this.signRed.active = !e.isReward;\n    },\n    onCheckShopRed: function () {\n        if (new Date().getDate() == cc.player.shopDate) {\n            if (1 != cc.pvz.PlayerData.getShopTimes(cc.pvz.GameConfig.ShopTimesType[\"钻石免费\"])) {\n                if (7 != cc.pvz.PlayerData.getShopTimes(cc.pvz.GameConfig.ShopTimesType[\"金币免费\"])) {\n                    var e = cc.player.shopBoxData.date[0];\n                    if (-1 != e) {\n                        if (Math.floor((Date.now() - e) / 1e3) >= cc.pvz.GameConfig.ShopBoxCD[0]) {\n                            this.shopRed.active = !0;\n                        } else {\n                            this.shopRed.active = !1;\n                        }\n                    } else {\n                        this.shopRed.active = !0;\n                    }\n                } else {\n                    this.shopRed.active = !0;\n                }\n            } else {\n                this.shopRed.active = !0;\n            }\n        } else {\n            this.shopRed.active = !0;\n        }\n    },\n    onCheckBattleRed: function () {\n        cc.pvz.PlayerData.checkAndResetGameDate();\n        cc.pvz.PlayerData.checkAndResetSign();\n        if (cc.pvz.PlayerData.getSignData().isReward) {\n            var e = cc.pvz.PlayerData.getStageLevel();\n            var t = cc.pvz.PlayerData.getMaxLevelWave();\n            for (var i = e; i > 0; i--) {\n                var o = e > i;\n                var a = cc.pvz.PlayerData.getLevelBoxData(i);\n                var c = cc.JsonControl.getLevelJson(i);\n                for (var s = 0; s < a.length; s++) {\n                    var n = c[\"wave\" + (s + 1)];\n                    if (0 == a[s]) {\n                        if (o) {\n                            return void (this.battleRed.active = !0);\n                        }\n                        if (t >= n && e == s) {\n                            return void (this.battleRed.active = !0);\n                        }\n                    }\n                }\n            }\n            cc.pvz.PlayerData.checkAndResetDayMission();\n            cc.pvz.PlayerData.checkAndResetWeekMission();\n            if (this.onCheckDayMissionRed() || this.onCheckWeekMissionRed() || this.onCheckAchieveMissionRed()) {\n                this.battleRed.active = !0;\n            } else {\n                this.battleRed.active = !1;\n            }\n        } else {\n            this.battleRed.active = !0;\n        }\n    },\n    onCheckToolLvRed: function () {\n        var e = [];\n        var t = cc.pvz.PlayerData.getStageLevel();\n        for (var i = 0; i < cc.pvz.GameConfig.MaxToolCount; i++) {\n            var o = i + 1;\n            if (cc.pvz.GameConfig.ToolLockLevel[i] < t) {\n                e.push(o);\n            }\n        }\n        for (var a = 0; a < e.length; a++) {\n            var c = e[a];\n            var s = cc.pvz.PlayerData.getToolData(c);\n            if (s.lv < cc.pvz.GameConfig.MaxToolLv) {\n                var n = cc.JsonControl.getToolJson(c);\n                var r = cc.JsonControl.getToolLvUpJson(s.lv);\n                var h = r[\"sp\" + n.quality];\n                if (s.c >= h) {\n                    var p = r[\"coins\" + n.quality];\n                    if (cc.pvz.PlayerData.isItemEnough(cc.pvz.GameConfig.ItemType[\"金币\"], p)) {\n                        return void (this.toolLvRed.active = !0);\n                    }\n                }\n            }\n        }\n        if (cc.pvz.PlayerData.isEnoughArrayTool()) {\n            this.toolLvRed.active = !1;\n        } else {\n            this.toolLvRed.active = !0;\n        }\n    },\n    onCheckActLevelRed: function () {\n        if (cc.pvz.PlayerData.getStageLevel() <= cc.pvz.GameConfig.OpenSysLv[0]) {\n            this.actLevelRed.active = !1;\n        } else if (new Date().getDate() == cc.player.actLevelDate) {\n            var e = cc.pvz.PlayerData.getActLevelData();\n            if (e.times > 0) {\n                this.actLevelRed.active = !0;\n            } else {\n                var t = cc.JsonControl.ActLevelBoxJson;\n                for (var i = 0; i < 4; i++) {\n                    if (t[i].score <= e.score && 0 == e.boxStatus[i]) {\n                        return void (this.actLevelRed.active = !0);\n                    }\n                }\n                this.actLevelRed.active = !1;\n            }\n        } else {\n            this.actLevelRed.active = !0;\n        }\n    },\n    onCheckShareRed: function () {\n        var e = !cc.player.isShare;\n        this.shareRed.active = e;\n    },\n    isFundRed: function () {\n        for (var e = 2; e < cc.player.level; e++) {\n            if (!cc.pvz.PlayerData.hasFundGet(99 + e, 0)) {\n                return !0;\n            }\n        }\n        return !1;\n    },\n    onCheckFundRed: function () {\n        this.fundRed.active = this.isFundRed();\n    },\n    onCheckGame2Red: function () {\n        this.game2Red.active = !cc.player.game2t;\n    }\n});\n"]}