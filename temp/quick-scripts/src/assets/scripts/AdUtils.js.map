{"version":3,"sources":["assets/scripts/AdUtils.js"],"names":["o","a","n","i","c","initAllAds","cc","sys","platform","WECHAT_GAME","wx","getLaunchOptionsSync","isControlAd","initP8AdInfo","getLaunchOptions","isWhiteList","isWhiteListSceneId","pvz","TAUtils","getTwtraceidSwitch","GameConst","Twtraceid_YXBN","Twtraceid_YXSP","findIndex","e","scene","getTwtraceidFrom","Object","keys","query","length","t","callRewardAdCallback","butler","resumeDirector","hasCalledCB","console","log","player","adTimes","PlayerData","addMissionProgress","GameConfig","MissionType","saveData","trackP8AdSucc","rewardVideoIndex","cb","node","emit","track","message","stack","createRewardAd","createRewardedVideoAd","adUnitId","AD_UNITS_REWARD","multiton","onLoad","onError","errCode","err_code","errMsg","onClose","isEnded","trackAdClose","createPublicRewardAd","P8SDK","wxADinit","initRewardVideo","Array","fill","getDeviceInfo","getSystemInfoSync","forEach","showAdRewardVideo","AdType","some","share","trackP8AdClick","WIN32","MACOS","DESKTOP_BROWSER","MOBILE_BROWSER","popupManager","showToast","cloud","access","pauseDirector","videoADShow","showAdBanner","hideAdBanner","AdUtils","module","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var o = null;\nvar a = null;\nvar n = null;\nvar i = [0];\nvar c = {\n    initAllAds: function () {\n        if (cc.sys.platform == cc.sys.WECHAT_GAME) {\n            o = wx.getLaunchOptionsSync();\n        }\n        if (cc.isControlAd) {\n            this.initP8AdInfo();\n        }\n    },\n    getLaunchOptions: function () {\n        return o;\n    },\n    isWhiteList: function () {\n        return (\n            cc.sys.platform != cc.sys.WECHAT_GAME ||\n            this.isWhiteListSceneId() ||\n            cc.pvz.TAUtils.getTwtraceidSwitch(cc.pvz.GameConst.Twtraceid_YXBN) ||\n            cc.pvz.TAUtils.getTwtraceidSwitch(cc.pvz.GameConst.Twtraceid_YXSP)\n        );\n    },\n    isWhiteListSceneId: function () {\n        return (\n            cc.sys.platform != cc.sys.WECHAT_GAME ||\n            -1 !=\n                [1095].findIndex(function (e) {\n                    return e == o.scene;\n                })\n        );\n    },\n    getTwtraceidFrom: function (e) {\n        if (Object.keys(e.query).length > 0) {\n            for (var t in e.query) {\n                if (\"?twtraceid\" == t) {\n                    return e.query[t];\n                }\n                if (\"twtraceid\" == t) {\n                    return e.query[t];\n                }\n            }\n        }\n        return \"\";\n    },\n    callRewardAdCallback: function (e) {\n        cc.butler.resumeDirector(0);\n        if (this.hasCalledCB) {\n            console.log(\"callRewardAdCallback but hascalled\");\n        } else {\n            e &&\n                (cc.player.adTimes++,\n                cc.pvz.PlayerData.addMissionProgress(cc.pvz.GameConfig.MissionType[\"观看广告n次\"], 1),\n                cc.pvz.PlayerData.saveData(),\n                cc.pvz.TAUtils.trackP8AdSucc(this.rewardVideoIndex));\n            if (this.cb) {\n                this.cb(e), cc.butler.node.emit(\"ad\"), (this.hasCalledCB = !0);\n            } else {\n                cc.pvz.TAUtils.track(\"error\", {\n                    message: \"Ad\",\n                    stack: \"cb is null,isEnded:\" + e + \",index:\" + this.rewardVideoIndex\n                });\n            }\n        }\n    },\n    createRewardAd: function (e) {\n        var t = this;\n        var o = wx.createRewardedVideoAd({\n            adUnitId: cc.pvz.GameConst.AD_UNITS_REWARD[e],\n            multiton: !0\n        });\n        o.onLoad(function () {\n            console.log(\"RewardedVideoAd onLoad\", e);\n        });\n        o.onError(function (t) {\n            console.log(\"RewardedVideoAd onError\", e, t);\n            cc.pvz.TAUtils.track(\"adError\", {\n                errCode: t.errCode || t.err_code,\n                errMsg: t.errMsg\n            });\n        });\n        o.onClose(function (e) {\n            if ((e && e.isEnded) || void 0 === e) {\n                t.callRewardAdCallback(!0);\n                cc.pvz.TAUtils.trackAdClose(t.rewardVideoIndex, !0);\n            } else {\n                t.callRewardAdCallback(!1);\n                cc.pvz.TAUtils.trackAdClose(t.rewardVideoIndex, !1);\n            }\n        });\n        return o;\n    },\n    createPublicRewardAd: function (e) {\n        var t = this;\n        var o = !n;\n        n = wx.createRewardedVideoAd({\n            adUnitId: cc.pvz.GameConst.AD_UNITS_REWARD[e]\n        });\n        if (o) {\n            n.onLoad(function () {\n                console.log(\"RewardedVideoAd onLoad\");\n            });\n            n.onError(function (e) {\n                console.log(\"RewardedVideoAd onError\", e);\n            });\n            n.onClose(function (e) {\n                if ((e && e.isEnded) || void 0 === e) {\n                    t.callRewardAdCallback(!0);\n                    cc.pvz.TAUtils.trackAdClose(t.rewardVideoIndex, !0);\n                } else {\n                    t.callRewardAdCallback(!1);\n                    cc.pvz.TAUtils.trackAdClose(t.rewardVideoIndex, !1);\n                }\n            });\n        }\n    },\n    initP8AdInfo: function () {\n        if (cc.sys.platform == cc.sys.WECHAT_GAME) {\n            P8SDK.wxADinit(cc.pvz.GameConst.AD_UNITS_REWARD[0], null, null, null);\n        }\n    },\n    initRewardVideo: function () {\n        var e = this;\n        if (cc.sys.platform == cc.sys.WECHAT_GAME) {\n            a = new Array(cc.pvz.GameConst.AD_UNITS_REWARD.length).fill(null);\n            if (\"devtools\" != (wx.getDeviceInfo ? wx.getDeviceInfo() : wx.getSystemInfoSync()).platform) {\n                i.forEach(function (t) {\n                    a[t] = e.createRewardAd(t);\n                }),\n                    console.log(\"initRewardVideo ended\");\n            } else {\n                console.log(\"initRewardVideo skiped\");\n            }\n        }\n    },\n    showAdRewardVideo: function (e, t) {\n        console.log(\"showAdRewardVideo\", e);\n        if (cc.isControlAd) {\n            var o = this;\n            o.cb = t;\n            o.rewardVideoIndex = e;\n            o.hasCalledCB = !1;\n            if (\n                10 == cc.player.adTimes &&\n                [\n                    cc.pvz.GameConfig.AdType[\"广告格子\"],\n                    cc.pvz.GameConfig.AdType[\"buff刷新\"],\n                    cc.pvz.GameConfig.AdType[\"buff全部\"],\n                    cc.pvz.GameConfig.AdType[\"关卡结算\"],\n                    cc.pvz.GameConfig.AdType[\"阳光\"],\n                    cc.pvz.GameConfig.AdType[\"死亡复活\"],\n                    cc.pvz.GameConfig.AdType[\"双倍速度\"]\n                ].some(function (t) {\n                    return t == e;\n                })\n            ) {\n                return void cc.pvz.TAUtils.share(e, function (e) {\n                    o.callRewardAdCallback(e);\n                });\n            }\n            cc.pvz.TAUtils.trackP8AdClick(e);\n            if (\n                cc.sys.platform == cc.sys.WIN32 ||\n                cc.sys.platform == cc.sys.MACOS ||\n                cc.sys.platform == cc.sys.DESKTOP_BROWSER ||\n                cc.sys.platform == cc.sys.MOBILE_BROWSER\n            ) {\n                cc.popupManager.showToast(\"广告\" + e);\n                return void o.callRewardAdCallback(!0);\n            }\n            if (cc.pvz.cloud.access >= 90) {\n                o.callRewardAdCallback(!0);\n            } else {\n                cc.butler.pauseDirector(0);\n                P8SDK.videoADShow(\n                    function () {\n                        o.callRewardAdCallback(!0);\n                    },\n                    function () {\n                        o.callRewardAdCallback(!1);\n                    },\n                    function () {\n                        cc.popupManager.showToast(\"暂无广告可看\");\n                        o.callRewardAdCallback(!1);\n                    }\n                );\n            }\n        } else {\n            cc.popupManager.showToast(\"暂无广告可看\");\n        }\n    },\n    showAdBanner: function (e) {\n        if (void 0 === e) {\n            e = !1;\n        }\n    },\n    hideAdBanner: function () {}\n};\nif (cc.pvz) {\n    //\n} else {\n    cc.pvz = {};\n}\ncc.pvz.AdUtils = c;\nmodule.exports = c;\n"]}