{"version":3,"sources":["assets/mainUI/scripts/UISet.js"],"names":["cc","Class","Component","properties","musicBtn","Node","soundBtn","uidLabel","Label","saveNode","versionLabel","initBy","e","children","active","player","isMMute","isSMute","string","pvz","cloud","uid","guide1","parent","getComponent","Layout","updateLayout","GameConst","GAME_VERSION","TAUtils","trackSystemUI","onSwitchMusic","butler","setMusicSwitch","onSwitchSound","setSoundSwitch","onClickSave","popupManager","showToast","Date","now","storageTime2","PlayerData","saveDataToLocalOnline","onCloseUI","removePopup"],"mappings":"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","sourceRoot":"/","sourcesContent":["cc.Class({\n    extends: cc.Component,\n    properties: {\n        musicBtn: cc.Node,\n        soundBtn: cc.Node,\n        uidLabel: cc.Label,\n        saveNode: cc.Node,\n        versionLabel: cc.Label\n    },\n    initBy: function (e) {\n        this.musicBtn.children[0].active = !cc.player.isMMute;\n        this.musicBtn.children[1].active = cc.player.isMMute;\n        this.soundBtn.children[0].active = !cc.player.isSMute;\n        this.soundBtn.children[1].active = cc.player.isSMute;\n        this.uidLabel.string = cc.pvz.cloud.uid;\n        this.saveNode.active = 0 == e && 1 == cc.player.guide1;\n        this.saveNode.parent.getComponent(cc.Layout).updateLayout();\n        if (this.versionLabel) {\n            this.versionLabel.string = \"v\" + cc.pvz.GameConst.GAME_VERSION;\n        }\n        cc.pvz.TAUtils.trackSystemUI(4);\n    },\n    onSwitchMusic: function () {\n        cc.butler.setMusicSwitch(!cc.player.isMMute);\n        this.musicBtn.children[0].active = !cc.player.isMMute;\n        this.musicBtn.children[1].active = cc.player.isMMute;\n    },\n    onSwitchSound: function () {\n        cc.butler.setSoundSwitch(!cc.player.isSMute);\n        this.soundBtn.children[0].active = !cc.player.isSMute;\n        this.soundBtn.children[1].active = cc.player.isSMute;\n    },\n    onClickSave: function () {\n        if (cc.player.guide1 < 1) {\n            cc.popupManager.showToast(\"完成教学后开启\");\n        } else {\n            if (Date.now() - cc.storageTime2 < 6e4) {\n                cc.popupManager.showToast(\"请于1分钟后再上传\");\n            } else {\n                cc.pvz.PlayerData.saveDataToLocalOnline(function (e) {\n                    cc.storageTime2 = Date.now();\n                    cc.popupManager.showToast(e ? \"存档成功\" : \"存档失败\");\n                });\n            }\n        }\n    },\n    onCloseUI: function () {\n        cc.popupManager.removePopup(this);\n    }\n});\n"]}