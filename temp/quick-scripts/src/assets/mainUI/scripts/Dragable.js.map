{"version":3,"sources":["assets/mainUI/scripts/Dragable.js"],"names":["cc","Class","Component","properties","dragingRoot","Node","onDragBegan","EventHandler","onDragMoved","onDragEnded","start","initRoot","node","parent","initPos","position","on","EventType","TOUCH_START","onClickBegan","TOUCH_MOVE","onClickMoved","TOUCH_END","onClickEnded","TOUCH_CANCEL","setNodePos","e","convertToNodeSpaceAR","t","getLocation","emit"],"mappings":";;;;;;AAAAA,EAAE,CAACC,KAAH,CAAS;EACL,WAASD,EAAE,CAACE,SADP;EAELC,UAAU,EAAE;IACRC,WAAW,EAAEJ,EAAE,CAACK,IADR;IAERC,WAAW,EAAEN,EAAE,CAACE,SAAH,CAAaK,YAFlB;IAGRC,WAAW,EAAER,EAAE,CAACE,SAAH,CAAaK,YAHlB;IAIRE,WAAW,EAAET,EAAE,CAACE,SAAH,CAAaK;EAJlB,CAFP;EAQLG,KAAK,EAAE,iBAAY;IACf,KAAKC,QAAL,GAAgB,KAAKC,IAAL,CAAUC,MAA1B;IACA,KAAKC,OAAL,GAAe,KAAKF,IAAL,CAAUG,QAAzB;IACA,KAAKH,IAAL,CAAUI,EAAV,CAAahB,EAAE,CAACK,IAAH,CAAQY,SAAR,CAAkBC,WAA/B,EAA4C,KAAKC,YAAjD,EAA+D,IAA/D;IACA,KAAKP,IAAL,CAAUI,EAAV,CAAahB,EAAE,CAACK,IAAH,CAAQY,SAAR,CAAkBG,UAA/B,EAA2C,KAAKC,YAAhD,EAA8D,IAA9D;IACA,KAAKT,IAAL,CAAUI,EAAV,CAAahB,EAAE,CAACK,IAAH,CAAQY,SAAR,CAAkBK,SAA/B,EAA0C,KAAKC,YAA/C,EAA6D,IAA7D;IACA,KAAKX,IAAL,CAAUI,EAAV,CAAahB,EAAE,CAACK,IAAH,CAAQY,SAAR,CAAkBO,YAA/B,EAA6C,KAAKD,YAAlD,EAAgE,IAAhE;EACH,CAfI;EAgBLE,UAAU,EAAE,oBAAUC,CAAV,EAAa;IACrB,KAAKd,IAAL,CAAUG,QAAV,GAAqB,KAAKH,IAAL,CAAUC,MAAV,CAAiBc,oBAAjB,CAAsCD,CAAtC,CAArB;EACH,CAlBI;EAmBLP,YAAY,EAAE,sBAAUO,CAAV,EAAa;IACvB,IAAIE,CAAC,GAAGF,CAAC,CAACG,WAAF,EAAR;IACA,KAAKjB,IAAL,CAAUC,MAAV,GAAmB,KAAKT,WAAxB;IACA,KAAKqB,UAAL,CAAgBG,CAAhB;;IACA,IAAI,KAAKtB,WAAT,EAAsB;MAClB,KAAKA,WAAL,CAAiBwB,IAAjB,CAAsB,CAAC,IAAD,EAAOF,CAAP,CAAtB;IACH;EACJ,CA1BI;EA2BLP,YAAY,EAAE,sBAAUK,CAAV,EAAa;IACvB,IAAIE,CAAC,GAAGF,CAAC,CAACG,WAAF,EAAR;IACA,KAAKJ,UAAL,CAAgBG,CAAhB;;IACA,IAAI,KAAKpB,WAAT,EAAsB;MAClB,KAAKA,WAAL,CAAiBsB,IAAjB,CAAsB,CAAC,IAAD,EAAOF,CAAP,CAAtB;IACH;EACJ,CAjCI;EAkCLL,YAAY,EAAE,sBAAUG,CAAV,EAAa;IACvB,IAAIE,CAAC,GAAGF,CAAC,CAACG,WAAF,EAAR;IACA,KAAKJ,UAAL,CAAgBG,CAAhB;;IACA,IAAI,KAAKnB,WAAT,EAAsB;MAClB,KAAKA,WAAL,CAAiBqB,IAAjB,CAAsB,CAAC,IAAD,EAAOF,CAAP,CAAtB;IACH;;IACD,KAAKhB,IAAL,CAAUC,MAAV,GAAmB,KAAKF,QAAxB;IACA,KAAKC,IAAL,CAAUG,QAAV,GAAqB,KAAKD,OAA1B;EACH;AA1CI,CAAT","sourceRoot":"/","sourcesContent":["cc.Class({\n    extends: cc.Component,\n    properties: {\n        dragingRoot: cc.Node,\n        onDragBegan: cc.Component.EventHandler,\n        onDragMoved: cc.Component.EventHandler,\n        onDragEnded: cc.Component.EventHandler\n    },\n    start: function () {\n        this.initRoot = this.node.parent;\n        this.initPos = this.node.position;\n        this.node.on(cc.Node.EventType.TOUCH_START, this.onClickBegan, this);\n        this.node.on(cc.Node.EventType.TOUCH_MOVE, this.onClickMoved, this);\n        this.node.on(cc.Node.EventType.TOUCH_END, this.onClickEnded, this);\n        this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.onClickEnded, this);\n    },\n    setNodePos: function (e) {\n        this.node.position = this.node.parent.convertToNodeSpaceAR(e);\n    },\n    onClickBegan: function (e) {\n        var t = e.getLocation();\n        this.node.parent = this.dragingRoot;\n        this.setNodePos(t);\n        if (this.onDragBegan) {\n            this.onDragBegan.emit([this, t]);\n        }\n    },\n    onClickMoved: function (e) {\n        var t = e.getLocation();\n        this.setNodePos(t);\n        if (this.onDragMoved) {\n            this.onDragMoved.emit([this, t]);\n        }\n    },\n    onClickEnded: function (e) {\n        var t = e.getLocation();\n        this.setNodePos(t);\n        if (this.onDragEnded) {\n            this.onDragEnded.emit([this, t]);\n        }\n        this.node.parent = this.initRoot;\n        this.node.position = this.initPos;\n    }\n});\n"]}