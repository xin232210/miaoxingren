{"version":3,"sources":["assets/mainUI/scripts/UIToolSkin.js"],"names":["cc","Class","Component","properties","skinTipLabl","Label","nameLabel","spine","sp","Skeleton","leftBtn","Node","rightBtn","initBy","e","t","toolId","toolJson","JsonControl","getToolJson","string","name","maxLv","i","pvz","PlayerData","getToolData","modelIndex","utils","getLevelInterval","lv","useBundleAsset","SkeletonData","skeletonData","showCurPage","active","GameConfig","ToolSkinTip","replace","setAnimation","onClickPage","parseInt","onCloseUI","popupManager","removePopup"],"mappings":";;;;;;AAAAA,EAAE,CAACC,KAAH,CAAS;EACL,WAASD,EAAE,CAACE,SADP;EAELC,UAAU,EAAE;IACRC,WAAW,EAAEJ,EAAE,CAACK,KADR;IAERC,SAAS,EAAEN,EAAE,CAACK,KAFN;IAGRE,KAAK,EAAEC,EAAE,CAACC,QAHF;IAIRC,OAAO,EAAEV,EAAE,CAACW,IAJJ;IAKRC,QAAQ,EAAEZ,EAAE,CAACW;EALL,CAFP;EASLE,MAAM,EAAE,gBAAUC,CAAV,EAAa;IACjB,IAAIC,CAAC,GAAG,IAAR;IACA,KAAKC,MAAL,GAAcF,CAAd;IACA,KAAKG,QAAL,GAAgBjB,EAAE,CAACkB,WAAH,CAAeC,WAAf,CAA2B,KAAKH,MAAhC,CAAhB;IACA,KAAKV,SAAL,CAAec,MAAf,GAAwB,KAAKH,QAAL,CAAcI,IAAtC;IACA,KAAKC,KAAL,GAAa,CAAb;IACA,IAAIC,CAAC,GAAGvB,EAAE,CAACwB,GAAH,CAAOC,UAAP,CAAkBC,WAAlB,CAA8B,KAAKV,MAAnC,CAAR;IACA,KAAKW,UAAL,GAAkB3B,EAAE,CAACwB,GAAH,CAAOI,KAAP,CAAaC,gBAAb,CAA8BN,CAAC,CAACO,EAAhC,CAAlB;IACA9B,EAAE,CAACwB,GAAH,CAAOI,KAAP,CAAaG,cAAb,CAA4B,QAA5B,EAAsC,cAAc,KAAKf,MAAzD,EAAiER,EAAE,CAACwB,YAApE,EAAkF,UAAUlB,CAAV,EAAa;MAC3FC,CAAC,CAACR,KAAF,CAAQ0B,YAAR,GAAuBnB,CAAvB;MACAC,CAAC,CAACmB,WAAF;IACH,CAHD;EAIH,CArBI;EAsBLA,WAAW,EAAE,uBAAY;IACrB,KAAKxB,OAAL,CAAayB,MAAb,GAAsB,KAAKR,UAAL,GAAkB,CAAxC;IACA,KAAKf,QAAL,CAAcuB,MAAd,GAAuB,KAAKR,UAAL,GAAkB,KAAKL,KAA9C;IACA,KAAKlB,WAAL,CAAiBgB,MAAjB,GAA0BpB,EAAE,CAACwB,GAAH,CAAOY,UAAP,CAAkBC,WAAlB,CAA8BC,OAA9B,CAAsC,GAAtC,EAA2C,KAAKX,UAAhD,CAA1B;IACA,KAAKpB,KAAL,CAAWgC,YAAX,CAAwB,CAAxB,EAA2B,UAAU,KAAKZ,UAA1C,EAAsD,CAAC,CAAvD;EACH,CA3BI;EA4BLa,WAAW,EAAE,qBAAU1B,CAAV,EAAaC,CAAb,EAAgB;IACzB,IAAI0B,QAAQ,CAAC1B,CAAD,CAAR,GAAc,CAAlB,EAAqB;MACjB,KAAKY,UAAL;IACH,CAFD,MAEO;MACH,KAAKA,UAAL;IACH;;IACD,KAAKO,WAAL;EACH,CAnCI;EAoCLQ,SAAS,EAAE,qBAAY;IACnB1C,EAAE,CAAC2C,YAAH,CAAgBC,WAAhB,CAA4B,IAA5B;EACH;AAtCI,CAAT","sourceRoot":"/","sourcesContent":["cc.Class({\n    extends: cc.Component,\n    properties: {\n        skinTipLabl: cc.Label,\n        nameLabel: cc.Label,\n        spine: sp.Skeleton,\n        leftBtn: cc.Node,\n        rightBtn: cc.Node\n    },\n    initBy: function (e) {\n        var t = this;\n        this.toolId = e;\n        this.toolJson = cc.JsonControl.getToolJson(this.toolId);\n        this.nameLabel.string = this.toolJson.name;\n        this.maxLv = 5;\n        var i = cc.pvz.PlayerData.getToolData(this.toolId);\n        this.modelIndex = cc.pvz.utils.getLevelInterval(i.lv);\n        cc.pvz.utils.useBundleAsset(\"actors\", \"kapi/hero\" + this.toolId, sp.SkeletonData, function (e) {\n            t.spine.skeletonData = e;\n            t.showCurPage();\n        });\n    },\n    showCurPage: function () {\n        this.leftBtn.active = this.modelIndex > 1;\n        this.rightBtn.active = this.modelIndex < this.maxLv;\n        this.skinTipLabl.string = cc.pvz.GameConfig.ToolSkinTip.replace(\"$\", this.modelIndex);\n        this.spine.setAnimation(0, \"stand\" + this.modelIndex, !0);\n    },\n    onClickPage: function (e, t) {\n        if (parseInt(t) < 0) {\n            this.modelIndex--;\n        } else {\n            this.modelIndex++;\n        }\n        this.showCurPage();\n    },\n    onCloseUI: function () {\n        cc.popupManager.removePopup(this);\n    }\n});"]}