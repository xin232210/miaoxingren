{"version":3,"sources":["assets/mainUI/scripts/ShopDailyItem.js"],"names":["cc","Class","Component","properties","nameLabel","Label","spine","sp","Skeleton","qualitySprite","Sprite","countLabel","priceSprite","priceLabel","finishNode","Node","buyPanel","discountPanel","discountSprite","freeNode","adPanel","adTimesLabel","cdTimeLabel","initShopDailyItem","e","t","i","isLookAd","shopId","shopData","pvz","PlayerData","getShopData","shopJson","itemId","isFinish","buyTimes","active","toolId","GameConfig","ItemType","o","JsonControl","getToolJson","getQualityBgIcon","quality","a","getToolData","c","utils","getLevelInterval","lv","node","scale","useBundleAsset","SkeletonData","skeletonData","setAnimation","string","name","count","discount","setSpriteFrame","price","s","getItemJson","priceType","getItemIcon","Icon","rewardData","getRewardToolItem","isFree","getShopTimes","ShopTimesType","n","getRewardItem","onClickInfoBuy","UIShop","popupManager","showToast","onStopShopScroll","popup","ad","updateShopDataBuy","onClickBuy","updateShopTimes","addMissionProgress","MissionType","UIFromType","updateRedTip","AdUtils","showAdRewardVideo","AdType","onAdClose","isItemEnough","changeItemNum","isHaveAdBuyBankTimes"],"mappings":"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","sourceRoot":"/","sourcesContent":["cc.Class({\n    extends: cc.Component,\n    properties: {\n        nameLabel: cc.Label,\n        spine: sp.Skeleton,\n        qualitySprite: cc.Sprite,\n        countLabel: cc.Label,\n        priceSprite: cc.Sprite,\n        priceLabel: cc.Label,\n        finishNode: cc.Node,\n        buyPanel: cc.Node,\n        discountPanel: cc.Node,\n        discountSprite: cc.Sprite,\n        freeNode: cc.Node,\n        adPanel: cc.Node,\n        adTimesLabel: cc.Label,\n        cdTimeLabel: cc.Label\n    },\n    initShopDailyItem: function (e, t) {\n        var i = this;\n        this.isLookAd = !1;\n        this.shopId = e;\n        this.shopData = cc.pvz.PlayerData.getShopData(this.shopId);\n        this.shopJson = t;\n        this.itemId = this.shopData.itemId;\n        this.isFinish = this.shopData.buyTimes <= 0;\n        this.finishNode.active = this.isFinish;\n        if (1 != this.shopId) {\n            this.toolId = this.shopData.toolId;\n            if (this.itemId === cc.pvz.GameConfig.ItemType[\"固定碎片\"]) {\n                var o = cc.JsonControl.getToolJson(this.toolId);\n                cc.JsonControl.getQualityBgIcon(this.qualitySprite, o.quality);\n                var a = cc.pvz.PlayerData.getToolData(this.toolId);\n                var c = cc.pvz.utils.getLevelInterval(a.lv);\n                this.spine.node.scale = o.scale;\n                cc.pvz.utils.useBundleAsset(\"actors\", \"kapi/hero\" + this.toolId, sp.SkeletonData, function (e) {\n                    i.spine.skeletonData = e;\n                    i.spine.setAnimation(0, \"stand\" + c, !0);\n                });\n                this.nameLabel.string = o.name;\n            }\n            this.countLabel.string = \"x\" + this.shopData.count;\n            this.discountPanel.active = this.shopData.discount < 10;\n            if (this.shopData.discount < 10) {\n                cc.pvz.utils.setSpriteFrame(this.discountSprite, \"uiImage\", \"shop/zhekou\" + this.shopData.discount);\n            }\n            this.buyPanel.active = !this.isFinish;\n            this.priceLabel.string = this.shopData.price;\n            var s = cc.JsonControl.getItemJson(this.shopData.priceType);\n            cc.JsonControl.getItemIcon(this.priceSprite, s.Icon);\n            this.rewardData = cc.pvz.utils.getRewardToolItem(this.toolId, this.shopData.count);\n        } else {\n            this.isFree = 1 == cc.pvz.PlayerData.getShopTimes(cc.pvz.GameConfig.ShopTimesType[\"钻石免费\"]);\n            var n = (this.isFree, 100);\n            this.countLabel.string = \"x\" + n;\n            this.freeNode.active = this.isFree && !this.isFinish;\n            this.adPanel.active = !this.isFree && !this.isFinish;\n            this.cdTimeLabel.node.active = !1;\n            this.adTimesLabel.string = \"(\" + this.shopData.buyTimes + \")\";\n            this.rewardData = cc.pvz.utils.getRewardItem(this.itemId, n);\n        }\n    },\n    onClickInfoBuy: function () {\n        var e = this;\n        if (cc.UIShop.isLookAd) {\n            //\n        } else {\n            if (this.isFinish) {\n                cc.popupManager.showToast(\"已售罄！\");\n            } else {\n                cc.UIShop.onStopShopScroll(),\n                    cc.popupManager.popup(\n                        \"mainUI\",\n                        \"shopbuyUI\",\n                        \"UIShopBuy\",\n                        {\n                            ad: !1,\n                            scale: !0\n                        },\n                        this.rewardData,\n                        [this.shopData.priceType, this.shopData.price],\n                        function () {\n                            cc.pvz.PlayerData.updateShopDataBuy(e.shopId, 1);\n                            e.initShopDailyItem(e.shopId, e.shopJson);\n                        },\n                        !0\n                    );\n            }\n        }\n    },\n    onClickBuy: function () {\n        var e = this;\n        if (!cc.UIShop.isLookAd) {\n            if (this.isFinish) {\n                cc.popupManager.showToast(\"已售罄！\");\n            } else if ((cc.UIShop.onStopShopScroll(), 1 == this.shopId)) {\n                if (this.isFree) {\n                    cc.pvz.PlayerData.updateShopTimes(cc.pvz.GameConfig.ShopTimesType[\"钻石免费\"]);\n                    cc.pvz.PlayerData.addMissionProgress(cc.pvz.GameConfig.MissionType[\"每日商店购买n次物品\"], 1);\n                    cc.popupManager.popup(\n                        \"mainUI\",\n                        \"getrewardUI\",\n                        \"UIReward\",\n                        {\n                            ad: !1,\n                            scale: !1\n                        },\n                        [this.rewardData],\n                        cc.pvz.GameConfig.UIFromType[\"每日商店\"],\n                        function () {\n                            e.initShopDailyItem(e.shopId, e.shopJson);\n                            cc.UIShop.updateRedTip();\n                        }\n                    );\n                } else {\n                    cc.UIShop.isLookAd = !0;\n                    cc.pvz.AdUtils.showAdRewardVideo(cc.pvz.GameConfig.AdType[\"商店钻石\"], function (t) {\n                        e.onAdClose(t);\n                    });\n                }\n            } else if (cc.pvz.PlayerData.isItemEnough(this.shopData.priceType, this.shopData.price)) {\n                cc.pvz.PlayerData.updateShopDataBuy(this.shopId, 1);\n                cc.pvz.PlayerData.changeItemNum(this.shopData.priceType, -this.shopData.price);\n                cc.pvz.PlayerData.addMissionProgress(cc.pvz.GameConfig.MissionType[\"每日商店购买n次物品\"], 1);\n                cc.popupManager.popup(\n                    \"mainUI\",\n                    \"getrewardUI\",\n                    \"UIReward\",\n                    {\n                        ad: !1,\n                        scale: !1\n                    },\n                    [this.rewardData],\n                    cc.pvz.GameConfig.UIFromType[\"每日商店\"],\n                    function () {\n                        e.initShopDailyItem(e.shopId, e.shopJson);\n                    }\n                );\n            } else {\n                var t = 2 == this.shopData.priceType;\n                if (cc.pvz.PlayerData.isHaveAdBuyBankTimes(t ? 0 : 1)) {\n                    var i = cc.pvz.utils.getRewardItem(this.shopData.priceType, t ? 2500 : 100);\n                    cc.popupManager.popup(\n                        \"mainUI\",\n                        \"adbuyUI\",\n                        \"UIAdBuy\",\n                        {\n                            ad: !1,\n                            scale: !0\n                        },\n                        i\n                    );\n                } else {\n                    var o;\n                    if (2 == this.shopData.priceType) {\n                        o = \"金币\";\n                    } else {\n                        o = \"钻石\";\n                    }\n                    cc.popupManager.showToast(o + \"不足！\");\n                }\n            }\n        }\n    },\n    onAdClose: function (e) {\n        var t = this;\n        cc.UIShop.isLookAd = !1;\n        if (e) {\n            cc.pvz.PlayerData.updateShopDataBuy(this.shopId, 1);\n            cc.pvz.PlayerData.addMissionProgress(cc.pvz.GameConfig.MissionType[\"每日商店购买n次物品\"], 1);\n            cc.popupManager.popup(\n                \"mainUI\",\n                \"getrewardUI\",\n                \"UIReward\",\n                {\n                    ad: !1,\n                    scale: !1\n                },\n                [this.rewardData],\n                cc.pvz.GameConfig.UIFromType[\"每日商店\"],\n                function () {\n                    t.initShopDailyItem(t.shopId, t.shopJson);\n                }\n            );\n        }\n    }\n});"]}