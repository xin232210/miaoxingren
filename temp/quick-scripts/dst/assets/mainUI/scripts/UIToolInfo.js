
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/mainUI/scripts/UIToolInfo.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '97621RrM+JH1JL+eygGsZOW', 'UIToolInfo');
// mainUI/scripts/UIToolInfo.js

"use strict";

cc.Class({
  "extends": cc.Component,
  properties: {
    bgSprites: [cc.Sprite],
    toolCardNode: cc.Node,
    attrbibuteIcons: [cc.Sprite],
    attrNumLabels: [cc.Label],
    attrNameLabels: [cc.Label],
    attriNextLabels: [cc.Label],
    priceLabel: cc.Label,
    levelUpSpine: sp.Skeleton,
    lvBtn: cc.Node,
    maxTipNode: cc.Node,
    lockTipLabel: cc.Label,
    lockTipNode: cc.Node,
    skinBtn: cc.Node,
    baseSkillNode: cc.Node,
    skillParentPanel: cc.Node,
    lvBtnSprites: [cc.Sprite],
    actionLabel: cc.Label,
    actionBtnNode: cc.Node
  },
  onLoad: function onLoad() {
    this.levelUpSpine.node.active = !1;
  },
  initBy: function initBy(e, t, i, o) {
    if (void 0 === i) {
      i = !1;
    }

    if (void 0 === o) {
      o = null;
    }

    this.ui = e;
    this.toolId = t;
    this.isLock = i;
    this.callBack = o;
    this.toolData = cc.pvz.PlayerData.getToolData(this.toolId);
    this.toolJson = cc.JsonControl.getToolJson(this.toolId);
    this.inLv = this.toolData.lv;
    this.toolCardItem = this.toolCardNode.getComponent("ToolCard");
    this.toolCardItem.initToolCardItem(this.ui, this.toolId);
    this.maxTipNode.active = this.toolCardItem.isMaxLv;
    this.lvBtn.active = !this.isLock && !this.toolCardItem.isMaxLv;
    this.lockTipLabel.node.active = this.isLock;
    this.lockTipLabel.string = cc.pvz.GameConfig.ToolLockTip.replace("$", cc.pvz.GameConfig.ToolLockLevel[this.toolId - 1]);
    this.lockTipNode.active = this.isLock;
    this.skinBtn.active = !this.isLock;
    this.actionBtnNode.active = !this.isLock;

    if (this.actionBtnNode.active) {
      if (-1 == this.toolData.pos) {
        this.actionLabel.string = "上阵";
      } else {
        this.actionLabel.string = "卸下";
      }
    }

    for (var a = 0; a < this.bgSprites.length; a++) {
      this.bgSprites[a].setMaterial(0, cc.JsonControl.materialList[this.isLock ? 1 : 0]);
    }

    this.initAttributeInfo();
    this.initSkillInfo();

    if (this.toolCardItem.isMaxLv || this.isLock) {//
    } else {
      this.refreshLvInfo();
    }

    if (2 == cc.tempGuideIndex) {
      this.scheduleOnce(this.startGuide, 0.42);
    }
  },
  startGuide: function startGuide() {
    if (2 == cc.tempGuideIndex) {
      var e = cc.find("back", this.node);
      var t = cc.MainControl.btnNodeList[2];
      var i = cc.find("btn/battlePanel/btn_start", cc.MainUI.node);
      cc.guideManager.showGuide(0, [{
        tip: "消耗碎片和金币能使卡皮巴拉变得更强！",
        focus: this.lvBtn,
        btn: this.lvBtn.name
      }, {
        tip: "关卡中获得更多卡皮巴拉碎片",
        focus: e,
        btn: e.name
      }, {
        tip: "前方怪兽们正在接近，赶紧过去看看！",
        focus: t,
        btn: t.name
      }, {
        tip: "让怪兽们看看你的厉害，开始战斗吧！",
        focus: i,
        btn: i.name
      }], function (e, t) {
        if (e) {
          cc.tempGuideIndex = 3;
        } else {
          if (1 == t) {
            cc.player.guide1 = 1;
            cc.pvz.PlayerData.onDataChanged();
          }
        }
      });
    }
  },
  refreshLvInfo: function refreshLvInfo() {
    var e = cc.JsonControl.getToolLvUpJson(this.toolData.lv);
    var t = this.toolJson.quality;
    this.priceCoin = e["coins" + t];
    this.priceLabel.string = "" + this.priceCoin;
    this.priceFrag = e["sp" + t];
    this.isEnoughCoin = cc.pvz.PlayerData.isItemEnough(cc.pvz.GameConfig.ItemType["金币"], this.priceCoin);

    for (var i = 0; i < this.lvBtnSprites.length; i++) {
      this.lvBtnSprites[i].setMaterial(0, cc.JsonControl.materialList[this.isEnoughCoin ? 0 : 1]);
    }
  },
  initSkillInfo: function initSkillInfo() {
    this.baseSkillNode.getComponent("ToolSkillInfo").initSkillInfo(this.toolId, 1, this.toolData.lv, this.isLock);

    for (var e = 1; e < 5; e++) {
      var t = cc.instantiate(this.baseSkillNode);
      t.parent = this.skillParentPanel;
      t.active = !0;
      t.getComponent("ToolSkillInfo").initSkillInfo(this.toolId, e + 1, this.toolData.lv, this.isLock);
    }
  },
  initAttributeInfo: function initAttributeInfo() {
    for (var e = 0; e < this.attrbibuteIcons.length; e++) {
      var t = this.toolJson["attributetype" + (e + 1)];
      cc.JsonControl.getToolAttriIcon(this.attrbibuteIcons[e], t);
      this.attrNameLabels[e].string = cc.pvz.GameConfig.ToolAttriNameList[t - 1];
    }

    for (var i = 0; i < this.attrNumLabels.length; i++) {
      this.attrNumLabels[i].string = this.getAttributeNums(i);
    }
  },
  getAttributeNums: function getAttributeNums(e) {
    var t = "";
    var i;

    if (0 == this.toolData.lv) {
      i = 1;
    } else {
      i = this.toolData.lv;
    }

    switch (e) {
      case 0:
        t = "" + this.toolJson.Atk;
        break;

      case 1:
        if (3 == this.toolId || 10 == this.toolId) {
          t = this.toolJson.cdtxt[i - 1] + "秒";

          if (this.toolJson.cdtxt.length > i) {
            this.attriNextLabels[2].node.active = !0;
            var o = this.toolJson.cdtxt[i - 1] - this.toolJson.cdtxt[i];
            o = cc.pvz.utils.foramtAttributeNum(o);
            this.attriNextLabels[2].string = "-" + o;
          } else {
            this.attriNextLabels[2].node.active = !1;
          }
        } else {
          t = this.toolJson.cdtxt + (8 == this.toolId || 6 == this.toolId ? "秒" : "");
          this.attriNextLabels[2].node.active = !1;
        }

        break;

      case 2:
      case 3:
        var a = this.toolJson["attributetype" + (e - 1)],
            c = this.toolJson["attribute" + (e - 1)],
            s = 0;

        if (1 == c.length) {
          s = c[0];
          this.attriNextLabels[e - 2].node.active = !1;
        } else if (s = c[i - 1], c.length > i) {
          var n = c[i] - s;
          n = cc.pvz.utils.foramtAttributeNum(n);
          this.attriNextLabels[e - 2].node.active = !0;
          this.attriNextLabels[e - 2].string = "+" + n + (9 == a ? "%" : "");
        } else {
          this.attriNextLabels[e - 2].node.active = !1;
        }

        t = s + (9 == a ? "%" : "");
    }

    return t;
  },
  showLvUpSpine: function showLvUpSpine() {
    var e = this;
    this.levelUpSpine.node.active = !0;
    this.levelUpSpine.setAnimation(0, "zb_sj", !1);
    this.levelUpSpine.setCompleteListener(function () {
      e.levelUpSpine.node.active = !1;
      e.levelUpSpine.setCompleteListener(null);
    });
    cc.butler.playEffect(cc.MainControl.lvUpSound);
  },
  refreshLevelUp: function refreshLevelUp() {
    this.maxTipNode.active = this.toolCardItem.isMaxLv;
    this.lvBtn.active = !this.toolCardItem.isMaxLv;

    for (var e = 0; e < this.attrNumLabels.length; e++) {
      this.attrNumLabels[e].string = this.getAttributeNums(e);
    }

    for (var t = 0; t < 5; t++) {
      this.skillParentPanel.children[t].getComponent("ToolSkillInfo").initSkillInfo(this.toolId, t + 1, this.toolData.lv);
    }

    if (this.toolCardItem.isMaxLv) {//
    } else {
      this.refreshLvInfo();
    }
  },
  onClickLvUp: function onClickLvUp() {
    var e = this;

    if (this.isEnoughCoin) {
      if (this.toolCardItem.isEnoughFrag) {
        this.showLvUpSpine();
        cc.pvz.PlayerData.addMissionProgress(cc.pvz.GameConfig.MissionType["升级任意装备1次"], 1);
        cc.pvz.PlayerData.addMissionProgress(cc.pvz.GameConfig.MissionType["装备总等级n"]);
        cc.pvz.PlayerData.addMissionProgress(cc.pvz.GameConfig.MissionType["装备最高等级达到n"]);
        cc.pvz.PlayerData.changeItemNum(cc.pvz.GameConfig.ItemType["金币"], -this.priceCoin);
        cc.pvz.PlayerData.updateToolFragCount(this.toolId, -this.priceFrag);
        cc.pvz.PlayerData.updateToolLv(this.toolId, 1);
        this.toolCardItem.onLvUpRefreshCard();
        this.refreshLevelUp();
        cc.MainControl.updateItemInfo();
        cc.RedControl.refreshAllRedTip();
      } else if (cc.pvz.PlayerData.isHaveAdBuyToolTimes(this.toolId)) {
        var t = cc.pvz.utils.getRewardToolItem(this.toolId, cc.pvz.GameConfig.AdBuyTooldCounts[this.toolJson.quality - 2]);
        cc.popupManager.popup("mainUI", "adbuyUI", "UIAdBuy", {
          ad: !1,
          scale: !0
        }, t, function () {
          e.toolCardItem.onLvUpRefreshCard();
        });
      } else {
        cc.popupManager.showToast("碎片不足！");
      }
    } else if (cc.pvz.PlayerData.isHaveAdBuyBankTimes(0)) {
      var i = cc.pvz.utils.getRewardItem(cc.pvz.GameConfig.ItemType["金币"], 2500);
      cc.popupManager.popup("mainUI", "adbuyUI", "UIAdBuy", {
        ad: !1,
        scale: !0
      }, i, function () {
        e.isEnoughCoin = cc.pvz.PlayerData.isItemEnough(cc.pvz.GameConfig.ItemType["金币"], e.priceCoin);

        for (var t = 0; t < e.lvBtnSprites.length; t++) {
          e.lvBtnSprites[t].setMaterial(0, cc.JsonControl.materialList[e.isEnoughCoin ? 0 : 1]);
        }
      });
    } else {
      cc.popupManager.showToast("金币不足！");
    }
  },
  onClickUpDown: function onClickUpDown() {
    if (-1 == this.toolData.pos) {
      this.ui.onClickUp(this);
    } else {
      this.ui.onClickDown(this.toolId);
    }

    cc.UITool.isChangeArray = !0;
    this.onCloseUI();
  },
  onClickSkin: function onClickSkin() {
    cc.popupManager.popup("mainUI", "plantskin", "UIToolSkin", {
      ad: !1,
      scale: !0
    }, this.toolId);
  },
  onCloseUI: function onCloseUI() {
    if (this.inLv != this.toolData.lv) {
      cc.RedControl.onCheckToolLvRed();
      cc.RedControl.onCheckBattleRed();
    }

    if (this.callBack) {
      this.callBack();
    }

    cc.popupManager.removePopup(this);
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9tYWluVUkvc2NyaXB0cy9VSVRvb2xJbmZvLmpzIl0sIm5hbWVzIjpbImNjIiwiQ2xhc3MiLCJDb21wb25lbnQiLCJwcm9wZXJ0aWVzIiwiYmdTcHJpdGVzIiwiU3ByaXRlIiwidG9vbENhcmROb2RlIiwiTm9kZSIsImF0dHJiaWJ1dGVJY29ucyIsImF0dHJOdW1MYWJlbHMiLCJMYWJlbCIsImF0dHJOYW1lTGFiZWxzIiwiYXR0cmlOZXh0TGFiZWxzIiwicHJpY2VMYWJlbCIsImxldmVsVXBTcGluZSIsInNwIiwiU2tlbGV0b24iLCJsdkJ0biIsIm1heFRpcE5vZGUiLCJsb2NrVGlwTGFiZWwiLCJsb2NrVGlwTm9kZSIsInNraW5CdG4iLCJiYXNlU2tpbGxOb2RlIiwic2tpbGxQYXJlbnRQYW5lbCIsImx2QnRuU3ByaXRlcyIsImFjdGlvbkxhYmVsIiwiYWN0aW9uQnRuTm9kZSIsIm9uTG9hZCIsIm5vZGUiLCJhY3RpdmUiLCJpbml0QnkiLCJlIiwidCIsImkiLCJvIiwidWkiLCJ0b29sSWQiLCJpc0xvY2siLCJjYWxsQmFjayIsInRvb2xEYXRhIiwicHZ6IiwiUGxheWVyRGF0YSIsImdldFRvb2xEYXRhIiwidG9vbEpzb24iLCJKc29uQ29udHJvbCIsImdldFRvb2xKc29uIiwiaW5MdiIsImx2IiwidG9vbENhcmRJdGVtIiwiZ2V0Q29tcG9uZW50IiwiaW5pdFRvb2xDYXJkSXRlbSIsImlzTWF4THYiLCJzdHJpbmciLCJHYW1lQ29uZmlnIiwiVG9vbExvY2tUaXAiLCJyZXBsYWNlIiwiVG9vbExvY2tMZXZlbCIsInBvcyIsImEiLCJsZW5ndGgiLCJzZXRNYXRlcmlhbCIsIm1hdGVyaWFsTGlzdCIsImluaXRBdHRyaWJ1dGVJbmZvIiwiaW5pdFNraWxsSW5mbyIsInJlZnJlc2hMdkluZm8iLCJ0ZW1wR3VpZGVJbmRleCIsInNjaGVkdWxlT25jZSIsInN0YXJ0R3VpZGUiLCJmaW5kIiwiTWFpbkNvbnRyb2wiLCJidG5Ob2RlTGlzdCIsIk1haW5VSSIsImd1aWRlTWFuYWdlciIsInNob3dHdWlkZSIsInRpcCIsImZvY3VzIiwiYnRuIiwibmFtZSIsInBsYXllciIsImd1aWRlMSIsIm9uRGF0YUNoYW5nZWQiLCJnZXRUb29sTHZVcEpzb24iLCJxdWFsaXR5IiwicHJpY2VDb2luIiwicHJpY2VGcmFnIiwiaXNFbm91Z2hDb2luIiwiaXNJdGVtRW5vdWdoIiwiSXRlbVR5cGUiLCJpbnN0YW50aWF0ZSIsInBhcmVudCIsImdldFRvb2xBdHRyaUljb24iLCJUb29sQXR0cmlOYW1lTGlzdCIsImdldEF0dHJpYnV0ZU51bXMiLCJBdGsiLCJjZHR4dCIsInV0aWxzIiwiZm9yYW10QXR0cmlidXRlTnVtIiwiYyIsInMiLCJuIiwic2hvd0x2VXBTcGluZSIsInNldEFuaW1hdGlvbiIsInNldENvbXBsZXRlTGlzdGVuZXIiLCJidXRsZXIiLCJwbGF5RWZmZWN0IiwibHZVcFNvdW5kIiwicmVmcmVzaExldmVsVXAiLCJjaGlsZHJlbiIsIm9uQ2xpY2tMdlVwIiwiaXNFbm91Z2hGcmFnIiwiYWRkTWlzc2lvblByb2dyZXNzIiwiTWlzc2lvblR5cGUiLCJjaGFuZ2VJdGVtTnVtIiwidXBkYXRlVG9vbEZyYWdDb3VudCIsInVwZGF0ZVRvb2xMdiIsIm9uTHZVcFJlZnJlc2hDYXJkIiwidXBkYXRlSXRlbUluZm8iLCJSZWRDb250cm9sIiwicmVmcmVzaEFsbFJlZFRpcCIsImlzSGF2ZUFkQnV5VG9vbFRpbWVzIiwiZ2V0UmV3YXJkVG9vbEl0ZW0iLCJBZEJ1eVRvb2xkQ291bnRzIiwicG9wdXBNYW5hZ2VyIiwicG9wdXAiLCJhZCIsInNjYWxlIiwic2hvd1RvYXN0IiwiaXNIYXZlQWRCdXlCYW5rVGltZXMiLCJnZXRSZXdhcmRJdGVtIiwib25DbGlja1VwRG93biIsIm9uQ2xpY2tVcCIsIm9uQ2xpY2tEb3duIiwiVUlUb29sIiwiaXNDaGFuZ2VBcnJheSIsIm9uQ2xvc2VVSSIsIm9uQ2xpY2tTa2luIiwib25DaGVja1Rvb2xMdlJlZCIsIm9uQ2hlY2tCYXR0bGVSZWQi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QUdJLFlBSEosRUFJSTtNQUNJQyxFQUFFLEVBQUUsQ0FBQyxDQURUO01BRUlDLEtBQUssRUFBRSxDQUFDO0lBRlosQ0FKSixFQVFJLEtBQUt6RixNQVJUO0VBVUgsQ0F6U0k7RUEwU0xrRyxTQUFTLEVBQUUscUJBQVk7SUFDbkIsSUFBSSxLQUFLeEYsSUFBTCxJQUFhLEtBQUtQLFFBQUwsQ0FBY1EsRUFBL0IsRUFBbUM7TUFDL0IvQyxFQUFFLENBQUNxSCxVQUFILENBQWNtQixnQkFBZDtNQUNBeEksRUFBRSxDQUFDcUgsVUFBSCxDQUFjb0IsZ0JBQWQ7SUFDSDs7SUFDRCxJQUFJLEtBQUtuRyxRQUFULEVBQW1CO01BQ2YsS0FBS0EsUUFBTDtJQUNIOztJQUNEdEMsRUFBRSxDQUFDMEgsWUFBSCxDQUFnQmdCLFdBQWhCLENBQTRCLElBQTVCO0VBQ0g7QUFuVEksQ0FBVCIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiY2MuQ2xhc3Moe1xuICAgIGV4dGVuZHM6IGNjLkNvbXBvbmVudCxcbiAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgIGJnU3ByaXRlczogW2NjLlNwcml0ZV0sXG4gICAgICAgIHRvb2xDYXJkTm9kZTogY2MuTm9kZSxcbiAgICAgICAgYXR0cmJpYnV0ZUljb25zOiBbY2MuU3ByaXRlXSxcbiAgICAgICAgYXR0ck51bUxhYmVsczogW2NjLkxhYmVsXSxcbiAgICAgICAgYXR0ck5hbWVMYWJlbHM6IFtjYy5MYWJlbF0sXG4gICAgICAgIGF0dHJpTmV4dExhYmVsczogW2NjLkxhYmVsXSxcbiAgICAgICAgcHJpY2VMYWJlbDogY2MuTGFiZWwsXG4gICAgICAgIGxldmVsVXBTcGluZTogc3AuU2tlbGV0b24sXG4gICAgICAgIGx2QnRuOiBjYy5Ob2RlLFxuICAgICAgICBtYXhUaXBOb2RlOiBjYy5Ob2RlLFxuICAgICAgICBsb2NrVGlwTGFiZWw6IGNjLkxhYmVsLFxuICAgICAgICBsb2NrVGlwTm9kZTogY2MuTm9kZSxcbiAgICAgICAgc2tpbkJ0bjogY2MuTm9kZSxcbiAgICAgICAgYmFzZVNraWxsTm9kZTogY2MuTm9kZSxcbiAgICAgICAgc2tpbGxQYXJlbnRQYW5lbDogY2MuTm9kZSxcbiAgICAgICAgbHZCdG5TcHJpdGVzOiBbY2MuU3ByaXRlXSxcbiAgICAgICAgYWN0aW9uTGFiZWw6IGNjLkxhYmVsLFxuICAgICAgICBhY3Rpb25CdG5Ob2RlOiBjYy5Ob2RlXG4gICAgfSxcbiAgICBvbkxvYWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sZXZlbFVwU3BpbmUubm9kZS5hY3RpdmUgPSAhMTtcbiAgICB9LFxuICAgIGluaXRCeTogZnVuY3Rpb24gKGUsIHQsIGksIG8pIHtcbiAgICAgICAgaWYgKHZvaWQgMCA9PT0gaSkge1xuICAgICAgICAgICAgaSA9ICExO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2b2lkIDAgPT09IG8pIHtcbiAgICAgICAgICAgIG8gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudWkgPSBlO1xuICAgICAgICB0aGlzLnRvb2xJZCA9IHQ7XG4gICAgICAgIHRoaXMuaXNMb2NrID0gaTtcbiAgICAgICAgdGhpcy5jYWxsQmFjayA9IG87XG4gICAgICAgIHRoaXMudG9vbERhdGEgPSBjYy5wdnouUGxheWVyRGF0YS5nZXRUb29sRGF0YSh0aGlzLnRvb2xJZCk7XG4gICAgICAgIHRoaXMudG9vbEpzb24gPSBjYy5Kc29uQ29udHJvbC5nZXRUb29sSnNvbih0aGlzLnRvb2xJZCk7XG4gICAgICAgIHRoaXMuaW5MdiA9IHRoaXMudG9vbERhdGEubHY7XG4gICAgICAgIHRoaXMudG9vbENhcmRJdGVtID0gdGhpcy50b29sQ2FyZE5vZGUuZ2V0Q29tcG9uZW50KFwiVG9vbENhcmRcIik7XG4gICAgICAgIHRoaXMudG9vbENhcmRJdGVtLmluaXRUb29sQ2FyZEl0ZW0odGhpcy51aSwgdGhpcy50b29sSWQpO1xuICAgICAgICB0aGlzLm1heFRpcE5vZGUuYWN0aXZlID0gdGhpcy50b29sQ2FyZEl0ZW0uaXNNYXhMdjtcbiAgICAgICAgdGhpcy5sdkJ0bi5hY3RpdmUgPSAhdGhpcy5pc0xvY2sgJiYgIXRoaXMudG9vbENhcmRJdGVtLmlzTWF4THY7XG4gICAgICAgIHRoaXMubG9ja1RpcExhYmVsLm5vZGUuYWN0aXZlID0gdGhpcy5pc0xvY2s7XG4gICAgICAgIHRoaXMubG9ja1RpcExhYmVsLnN0cmluZyA9IGNjLnB2ei5HYW1lQ29uZmlnLlRvb2xMb2NrVGlwLnJlcGxhY2UoXG4gICAgICAgICAgICBcIiRcIixcbiAgICAgICAgICAgIGNjLnB2ei5HYW1lQ29uZmlnLlRvb2xMb2NrTGV2ZWxbdGhpcy50b29sSWQgLSAxXVxuICAgICAgICApO1xuICAgICAgICB0aGlzLmxvY2tUaXBOb2RlLmFjdGl2ZSA9IHRoaXMuaXNMb2NrO1xuICAgICAgICB0aGlzLnNraW5CdG4uYWN0aXZlID0gIXRoaXMuaXNMb2NrO1xuICAgICAgICB0aGlzLmFjdGlvbkJ0bk5vZGUuYWN0aXZlID0gIXRoaXMuaXNMb2NrO1xuICAgICAgICBpZiAodGhpcy5hY3Rpb25CdG5Ob2RlLmFjdGl2ZSkge1xuICAgICAgICAgICAgaWYgKC0xID09IHRoaXMudG9vbERhdGEucG9zKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25MYWJlbC5zdHJpbmcgPSBcIuS4iumYtVwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbkxhYmVsLnN0cmluZyA9IFwi5Y245LiLXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgYSA9IDA7IGEgPCB0aGlzLmJnU3ByaXRlcy5sZW5ndGg7IGErKykge1xuICAgICAgICAgICAgdGhpcy5iZ1Nwcml0ZXNbYV0uc2V0TWF0ZXJpYWwoMCwgY2MuSnNvbkNvbnRyb2wubWF0ZXJpYWxMaXN0W3RoaXMuaXNMb2NrID8gMSA6IDBdKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmluaXRBdHRyaWJ1dGVJbmZvKCk7XG4gICAgICAgIHRoaXMuaW5pdFNraWxsSW5mbygpO1xuICAgICAgICBpZiAodGhpcy50b29sQ2FyZEl0ZW0uaXNNYXhMdiB8fCB0aGlzLmlzTG9jaykge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaEx2SW5mbygpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgyID09IGNjLnRlbXBHdWlkZUluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSh0aGlzLnN0YXJ0R3VpZGUsIDAuNDIpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzdGFydEd1aWRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICgyID09IGNjLnRlbXBHdWlkZUluZGV4KSB7XG4gICAgICAgICAgICB2YXIgZSA9IGNjLmZpbmQoXCJiYWNrXCIsIHRoaXMubm9kZSk7XG4gICAgICAgICAgICB2YXIgdCA9IGNjLk1haW5Db250cm9sLmJ0bk5vZGVMaXN0WzJdO1xuICAgICAgICAgICAgdmFyIGkgPSBjYy5maW5kKFwiYnRuL2JhdHRsZVBhbmVsL2J0bl9zdGFydFwiLCBjYy5NYWluVUkubm9kZSk7XG4gICAgICAgICAgICBjYy5ndWlkZU1hbmFnZXIuc2hvd0d1aWRlKFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXA6IFwi5raI6ICX56KO54mH5ZKM6YeR5biB6IO95L2/5Y2h55qu5be05ouJ5Y+Y5b6X5pu05by677yBXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb2N1czogdGhpcy5sdkJ0bixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0bjogdGhpcy5sdkJ0bi5uYW1lXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpcDogXCLlhbPljaHkuK3ojrflvpfmm7TlpJrljaHnmq7lt7Tmi4nnoo7niYdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzOiBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYnRuOiBlLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGlwOiBcIuWJjeaWueaAquWFveS7rOato+WcqOaOpei/ke+8jOi1tue0p+i/h+WOu+eci+eci++8gVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXM6IHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBidG46IHQubmFtZVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXA6IFwi6K6p5oCq5YW95Lus55yL55yL5L2g55qE5Y6J5a6z77yM5byA5aeL5oiY5paX5ZCn77yBXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb2N1czogaSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0bjogaS5uYW1lXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlLCB0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYy50ZW1wR3VpZGVJbmRleCA9IDM7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoMSA9PSB0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2MucGxheWVyLmd1aWRlMSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2MucHZ6LlBsYXllckRhdGEub25EYXRhQ2hhbmdlZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVmcmVzaEx2SW5mbzogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZSA9IGNjLkpzb25Db250cm9sLmdldFRvb2xMdlVwSnNvbih0aGlzLnRvb2xEYXRhLmx2KTtcbiAgICAgICAgdmFyIHQgPSB0aGlzLnRvb2xKc29uLnF1YWxpdHk7XG4gICAgICAgIHRoaXMucHJpY2VDb2luID0gZVtcImNvaW5zXCIgKyB0XTtcbiAgICAgICAgdGhpcy5wcmljZUxhYmVsLnN0cmluZyA9IFwiXCIgKyB0aGlzLnByaWNlQ29pbjtcbiAgICAgICAgdGhpcy5wcmljZUZyYWcgPSBlW1wic3BcIiArIHRdO1xuICAgICAgICB0aGlzLmlzRW5vdWdoQ29pbiA9IGNjLnB2ei5QbGF5ZXJEYXRhLmlzSXRlbUVub3VnaChjYy5wdnouR2FtZUNvbmZpZy5JdGVtVHlwZVtcIumHkeW4gVwiXSwgdGhpcy5wcmljZUNvaW4pO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubHZCdG5TcHJpdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmx2QnRuU3ByaXRlc1tpXS5zZXRNYXRlcmlhbCgwLCBjYy5Kc29uQ29udHJvbC5tYXRlcmlhbExpc3RbdGhpcy5pc0Vub3VnaENvaW4gPyAwIDogMV0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBpbml0U2tpbGxJbmZvOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYmFzZVNraWxsTm9kZS5nZXRDb21wb25lbnQoXCJUb29sU2tpbGxJbmZvXCIpLmluaXRTa2lsbEluZm8odGhpcy50b29sSWQsIDEsIHRoaXMudG9vbERhdGEubHYsIHRoaXMuaXNMb2NrKTtcbiAgICAgICAgZm9yICh2YXIgZSA9IDE7IGUgPCA1OyBlKyspIHtcbiAgICAgICAgICAgIHZhciB0ID0gY2MuaW5zdGFudGlhdGUodGhpcy5iYXNlU2tpbGxOb2RlKTtcbiAgICAgICAgICAgIHQucGFyZW50ID0gdGhpcy5za2lsbFBhcmVudFBhbmVsO1xuICAgICAgICAgICAgdC5hY3RpdmUgPSAhMDtcbiAgICAgICAgICAgIHQuZ2V0Q29tcG9uZW50KFwiVG9vbFNraWxsSW5mb1wiKS5pbml0U2tpbGxJbmZvKHRoaXMudG9vbElkLCBlICsgMSwgdGhpcy50b29sRGF0YS5sdiwgdGhpcy5pc0xvY2spO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBpbml0QXR0cmlidXRlSW5mbzogZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBlID0gMDsgZSA8IHRoaXMuYXR0cmJpYnV0ZUljb25zLmxlbmd0aDsgZSsrKSB7XG4gICAgICAgICAgICB2YXIgdCA9IHRoaXMudG9vbEpzb25bXCJhdHRyaWJ1dGV0eXBlXCIgKyAoZSArIDEpXTtcbiAgICAgICAgICAgIGNjLkpzb25Db250cm9sLmdldFRvb2xBdHRyaUljb24odGhpcy5hdHRyYmlidXRlSWNvbnNbZV0sIHQpO1xuICAgICAgICAgICAgdGhpcy5hdHRyTmFtZUxhYmVsc1tlXS5zdHJpbmcgPSBjYy5wdnouR2FtZUNvbmZpZy5Ub29sQXR0cmlOYW1lTGlzdFt0IC0gMV07XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmF0dHJOdW1MYWJlbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuYXR0ck51bUxhYmVsc1tpXS5zdHJpbmcgPSB0aGlzLmdldEF0dHJpYnV0ZU51bXMoaSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldEF0dHJpYnV0ZU51bXM6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciB0ID0gXCJcIjtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIGlmICgwID09IHRoaXMudG9vbERhdGEubHYpIHtcbiAgICAgICAgICAgIGkgPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaSA9IHRoaXMudG9vbERhdGEubHY7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChlKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdCA9IFwiXCIgKyB0aGlzLnRvb2xKc29uLkF0aztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBpZiAoMyA9PSB0aGlzLnRvb2xJZCB8fCAxMCA9PSB0aGlzLnRvb2xJZCkge1xuICAgICAgICAgICAgICAgICAgICB0ID0gdGhpcy50b29sSnNvbi5jZHR4dFtpIC0gMV0gKyBcIuenklwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50b29sSnNvbi5jZHR4dC5sZW5ndGggPiBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dHJpTmV4dExhYmVsc1syXS5ub2RlLmFjdGl2ZSA9ICEwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG8gPSB0aGlzLnRvb2xKc29uLmNkdHh0W2kgLSAxXSAtIHRoaXMudG9vbEpzb24uY2R0eHRbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBvID0gY2MucHZ6LnV0aWxzLmZvcmFtdEF0dHJpYnV0ZU51bShvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0cmlOZXh0TGFiZWxzWzJdLnN0cmluZyA9IFwiLVwiICsgbztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0cmlOZXh0TGFiZWxzWzJdLm5vZGUuYWN0aXZlID0gITE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0ID0gdGhpcy50b29sSnNvbi5jZHR4dCArICg4ID09IHRoaXMudG9vbElkIHx8IDYgPT0gdGhpcy50b29sSWQgPyBcIuenklwiIDogXCJcIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0cmlOZXh0TGFiZWxzWzJdLm5vZGUuYWN0aXZlID0gITE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHZhciBhID0gdGhpcy50b29sSnNvbltcImF0dHJpYnV0ZXR5cGVcIiArIChlIC0gMSldLFxuICAgICAgICAgICAgICAgICAgICBjID0gdGhpcy50b29sSnNvbltcImF0dHJpYnV0ZVwiICsgKGUgLSAxKV0sXG4gICAgICAgICAgICAgICAgICAgIHMgPSAwO1xuICAgICAgICAgICAgICAgIGlmICgxID09IGMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHMgPSBjWzBdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dHJpTmV4dExhYmVsc1tlIC0gMl0ubm9kZS5hY3RpdmUgPSAhMTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCgocyA9IGNbaSAtIDFdKSwgYy5sZW5ndGggPiBpKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IGNbaV0gLSBzO1xuICAgICAgICAgICAgICAgICAgICBuID0gY2MucHZ6LnV0aWxzLmZvcmFtdEF0dHJpYnV0ZU51bShuKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRyaU5leHRMYWJlbHNbZSAtIDJdLm5vZGUuYWN0aXZlID0gITA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0cmlOZXh0TGFiZWxzW2UgLSAyXS5zdHJpbmcgPSBcIitcIiArIG4gKyAoOSA9PSBhID8gXCIlXCIgOiBcIlwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dHJpTmV4dExhYmVsc1tlIC0gMl0ubm9kZS5hY3RpdmUgPSAhMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdCA9IHMgKyAoOSA9PSBhID8gXCIlXCIgOiBcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9LFxuICAgIHNob3dMdlVwU3BpbmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGUgPSB0aGlzO1xuICAgICAgICB0aGlzLmxldmVsVXBTcGluZS5ub2RlLmFjdGl2ZSA9ICEwO1xuICAgICAgICB0aGlzLmxldmVsVXBTcGluZS5zZXRBbmltYXRpb24oMCwgXCJ6Yl9zalwiLCAhMSk7XG4gICAgICAgIHRoaXMubGV2ZWxVcFNwaW5lLnNldENvbXBsZXRlTGlzdGVuZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZS5sZXZlbFVwU3BpbmUubm9kZS5hY3RpdmUgPSAhMTtcbiAgICAgICAgICAgIGUubGV2ZWxVcFNwaW5lLnNldENvbXBsZXRlTGlzdGVuZXIobnVsbCk7XG4gICAgICAgIH0pO1xuICAgICAgICBjYy5idXRsZXIucGxheUVmZmVjdChjYy5NYWluQ29udHJvbC5sdlVwU291bmQpO1xuICAgIH0sXG4gICAgcmVmcmVzaExldmVsVXA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5tYXhUaXBOb2RlLmFjdGl2ZSA9IHRoaXMudG9vbENhcmRJdGVtLmlzTWF4THY7XG4gICAgICAgIHRoaXMubHZCdG4uYWN0aXZlID0gIXRoaXMudG9vbENhcmRJdGVtLmlzTWF4THY7XG4gICAgICAgIGZvciAodmFyIGUgPSAwOyBlIDwgdGhpcy5hdHRyTnVtTGFiZWxzLmxlbmd0aDsgZSsrKSB7XG4gICAgICAgICAgICB0aGlzLmF0dHJOdW1MYWJlbHNbZV0uc3RyaW5nID0gdGhpcy5nZXRBdHRyaWJ1dGVOdW1zKGUpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIHQgPSAwOyB0IDwgNTsgdCsrKSB7XG4gICAgICAgICAgICB0aGlzLnNraWxsUGFyZW50UGFuZWwuY2hpbGRyZW5bdF1cbiAgICAgICAgICAgICAgICAuZ2V0Q29tcG9uZW50KFwiVG9vbFNraWxsSW5mb1wiKVxuICAgICAgICAgICAgICAgIC5pbml0U2tpbGxJbmZvKHRoaXMudG9vbElkLCB0ICsgMSwgdGhpcy50b29sRGF0YS5sdik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudG9vbENhcmRJdGVtLmlzTWF4THYpIHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hMdkluZm8oKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgb25DbGlja0x2VXA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGUgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5pc0Vub3VnaENvaW4pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRvb2xDYXJkSXRlbS5pc0Vub3VnaEZyYWcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dMdlVwU3BpbmUoKTtcbiAgICAgICAgICAgICAgICBjYy5wdnouUGxheWVyRGF0YS5hZGRNaXNzaW9uUHJvZ3Jlc3MoY2MucHZ6LkdhbWVDb25maWcuTWlzc2lvblR5cGVbXCLljYfnuqfku7vmhI/oo4XlpIcx5qyhXCJdLCAxKTtcbiAgICAgICAgICAgICAgICBjYy5wdnouUGxheWVyRGF0YS5hZGRNaXNzaW9uUHJvZ3Jlc3MoY2MucHZ6LkdhbWVDb25maWcuTWlzc2lvblR5cGVbXCLoo4XlpIfmgLvnrYnnuqduXCJdKTtcbiAgICAgICAgICAgICAgICBjYy5wdnouUGxheWVyRGF0YS5hZGRNaXNzaW9uUHJvZ3Jlc3MoY2MucHZ6LkdhbWVDb25maWcuTWlzc2lvblR5cGVbXCLoo4XlpIfmnIDpq5jnrYnnuqfovr7liLBuXCJdKTtcbiAgICAgICAgICAgICAgICBjYy5wdnouUGxheWVyRGF0YS5jaGFuZ2VJdGVtTnVtKGNjLnB2ei5HYW1lQ29uZmlnLkl0ZW1UeXBlW1wi6YeR5biBXCJdLCAtdGhpcy5wcmljZUNvaW4pO1xuICAgICAgICAgICAgICAgIGNjLnB2ei5QbGF5ZXJEYXRhLnVwZGF0ZVRvb2xGcmFnQ291bnQodGhpcy50b29sSWQsIC10aGlzLnByaWNlRnJhZyk7XG4gICAgICAgICAgICAgICAgY2MucHZ6LlBsYXllckRhdGEudXBkYXRlVG9vbEx2KHRoaXMudG9vbElkLCAxKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRvb2xDYXJkSXRlbS5vbkx2VXBSZWZyZXNoQ2FyZCgpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaExldmVsVXAoKTtcbiAgICAgICAgICAgICAgICBjYy5NYWluQ29udHJvbC51cGRhdGVJdGVtSW5mbygpO1xuICAgICAgICAgICAgICAgIGNjLlJlZENvbnRyb2wucmVmcmVzaEFsbFJlZFRpcCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjYy5wdnouUGxheWVyRGF0YS5pc0hhdmVBZEJ1eVRvb2xUaW1lcyh0aGlzLnRvb2xJZCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgdCA9IGNjLnB2ei51dGlscy5nZXRSZXdhcmRUb29sSXRlbShcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b29sSWQsXG4gICAgICAgICAgICAgICAgICAgIGNjLnB2ei5HYW1lQ29uZmlnLkFkQnV5VG9vbGRDb3VudHNbdGhpcy50b29sSnNvbi5xdWFsaXR5IC0gMl1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGNjLnBvcHVwTWFuYWdlci5wb3B1cChcbiAgICAgICAgICAgICAgICAgICAgXCJtYWluVUlcIixcbiAgICAgICAgICAgICAgICAgICAgXCJhZGJ1eVVJXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiVUlBZEJ1eVwiLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZDogITEsXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2FsZTogITBcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdCxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS50b29sQ2FyZEl0ZW0ub25MdlVwUmVmcmVzaENhcmQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNjLnBvcHVwTWFuYWdlci5zaG93VG9hc3QoXCLnoo7niYfkuI3otrPvvIFcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY2MucHZ6LlBsYXllckRhdGEuaXNIYXZlQWRCdXlCYW5rVGltZXMoMCkpIHtcbiAgICAgICAgICAgIHZhciBpID0gY2MucHZ6LnV0aWxzLmdldFJld2FyZEl0ZW0oY2MucHZ6LkdhbWVDb25maWcuSXRlbVR5cGVbXCLph5HluIFcIl0sIDI1MDApO1xuICAgICAgICAgICAgY2MucG9wdXBNYW5hZ2VyLnBvcHVwKFxuICAgICAgICAgICAgICAgIFwibWFpblVJXCIsXG4gICAgICAgICAgICAgICAgXCJhZGJ1eVVJXCIsXG4gICAgICAgICAgICAgICAgXCJVSUFkQnV5XCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhZDogITEsXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlOiAhMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGUuaXNFbm91Z2hDb2luID0gY2MucHZ6LlBsYXllckRhdGEuaXNJdGVtRW5vdWdoKGNjLnB2ei5HYW1lQ29uZmlnLkl0ZW1UeXBlW1wi6YeR5biBXCJdLCBlLnByaWNlQ29pbik7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHQgPSAwOyB0IDwgZS5sdkJ0blNwcml0ZXMubGVuZ3RoOyB0KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUubHZCdG5TcHJpdGVzW3RdLnNldE1hdGVyaWFsKDAsIGNjLkpzb25Db250cm9sLm1hdGVyaWFsTGlzdFtlLmlzRW5vdWdoQ29pbiA/IDAgOiAxXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2MucG9wdXBNYW5hZ2VyLnNob3dUb2FzdChcIumHkeW4geS4jei2s++8gVwiKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgb25DbGlja1VwRG93bjogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoLTEgPT0gdGhpcy50b29sRGF0YS5wb3MpIHtcbiAgICAgICAgICAgIHRoaXMudWkub25DbGlja1VwKHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51aS5vbkNsaWNrRG93bih0aGlzLnRvb2xJZCk7XG4gICAgICAgIH1cbiAgICAgICAgY2MuVUlUb29sLmlzQ2hhbmdlQXJyYXkgPSAhMDtcbiAgICAgICAgdGhpcy5vbkNsb3NlVUkoKTtcbiAgICB9LFxuICAgIG9uQ2xpY2tTa2luOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNjLnBvcHVwTWFuYWdlci5wb3B1cChcbiAgICAgICAgICAgIFwibWFpblVJXCIsXG4gICAgICAgICAgICBcInBsYW50c2tpblwiLFxuICAgICAgICAgICAgXCJVSVRvb2xTa2luXCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYWQ6ICExLFxuICAgICAgICAgICAgICAgIHNjYWxlOiAhMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRoaXMudG9vbElkXG4gICAgICAgICk7XG4gICAgfSxcbiAgICBvbkNsb3NlVUk6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaW5MdiAhPSB0aGlzLnRvb2xEYXRhLmx2KSB7XG4gICAgICAgICAgICBjYy5SZWRDb250cm9sLm9uQ2hlY2tUb29sTHZSZWQoKTtcbiAgICAgICAgICAgIGNjLlJlZENvbnRyb2wub25DaGVja0JhdHRsZVJlZCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNhbGxCYWNrKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGxCYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2MucG9wdXBNYW5hZ2VyLnJlbW92ZVBvcHVwKHRoaXMpO1xuICAgIH1cbn0pO1xuIl19