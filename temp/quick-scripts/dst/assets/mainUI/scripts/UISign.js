
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/mainUI/scripts/UISign.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0bc6cQ737dMiKmLOlxzVHqA', 'UISign');
// mainUI/scripts/UISign.js

"use strict";

cc.Class({
  "extends": cc.Component,
  properties: {
    signJsonFile: cc.JsonAsset,
    baseSignItem: cc.Node,
    sevenSignItem: cc.Node,
    signPanel: cc.Node,
    signBtnPanel: cc.Node,
    finishBtn: cc.Node
  },
  initBy: function initBy() {
    cc.UISign = this;
    this.signJson = this.signJsonFile.json;
    this.isLookAd = !1;
    cc.pvz.PlayerData.checkAndResetSign();
    this.SignData = cc.pvz.PlayerData.getSignData();
    this.refreshSignBtn();
    this.initUIInfo();
  },
  initUIInfo: function initUIInfo() {
    var e = this;
    this.signItemList = [this.baseSignItem.getComponent("SignItem")];

    for (var t = 0; t < 5; t++) {
      var i = cc.instantiate(this.baseSignItem);
      i.parent = this.signPanel.children[t + 1];
      this.signItemList.push(i.getComponent("SignItem"));
    }

    this.signItemList.push(this.sevenSignItem.getComponent("SignItem"));
    var o = this.SignData.signDay;
    var a = o % 7;

    if (0 == a) {
      this.useSignDay = 7;
    } else {
      this.useSignDay = a;
    }

    var c = function c() {
      var t = s + 1;
      var i;

      if (o <= 7) {
        i = t;
      } else {
        i = 100 + t;
      }

      var a = e.signJson.find(function (e) {
        return e.ID == i;
      });
      e.signItemList[s].initSignItem(t, a, e.useSignDay);
    };

    for (var s = 0; s < 7; s++) {
      c();
    }
  },
  refreshSignBtn: function refreshSignBtn() {
    this.isRewardSign = this.SignData.isReward;
    this.signBtnPanel.active = !this.isRewardSign;
    this.finishBtn.active = this.isRewardSign;
  },
  onSignLogic: function onSignLogic(e) {
    if (void 0 === e) {
      e = !1;
    }

    cc.pvz.PlayerData.finishSignReward();
    this.signItemList[this.useSignDay - 1].onGetSignReward(e);
    this.refreshSignBtn();
  },
  onClickSign: function onClickSign() {
    if (this.isLookAd) {//
    } else {
      if (this.isRewardSign) {
        cc.UIRoot.showToast("今日已签到");
      } else {
        this.onSignLogic(!1);
      }
    }
  },
  onClickSignAd: function onClickSignAd() {
    var e = this;

    if (this.isLookAd) {//
    } else {
      if (this.isRewardSign) {
        cc.UIRoot.showToast("今日已签到");
      } else {
        this.isLookAd = !0, cc.pvz.AdUtils.showAdRewardVideo(cc.pvz.GameConfig.AdType["双倍签到"], function (t) {
          e.onAdClose(t);
        });
      }
    }
  },
  onAdClose: function onAdClose(e) {
    this.isLookAd = !1;

    if (e) {
      this.onSignLogic(!0);
    }
  },
  onClickEndSign: function onClickEndSign() {
    cc.popupManager.showToast("今日已签到");
  },
  onCloseUI: function onCloseUI() {
    if (this.isLookAd) {//
    } else {
      cc.popupManager.removePopup(this);
    }
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9tYWluVUkvc2NyaXB0cy9VSVNpZ24uanMiXSwibmFtZXMiOlsiY2MiLCJDbGFzcyIsIkNvbXBvbmVudCIsInByb3BlcnRpZXMiLCJzaWduSnNvbkZpbGUiLCJKc29uQXNzZXQiLCJiYXNlU2lnbkl0ZW0iLCJOb2RlIiwic2V2ZW5TaWduSXRlbSIsInNpZ25QYW5lbCIsInNpZ25CdG5QYW5lbCIsImZpbmlzaEJ0biIsImluaXRCeSIsIlVJU2lnbiIsInNpZ25Kc29uIiwianNvbiIsImlzTG9va0FkIiwicHZ6IiwiUGxheWVyRGF0YSIsImNoZWNrQW5kUmVzZXRTaWduIiwiU2lnbkRhdGEiLCJnZXRTaWduRGF0YSIsInJlZnJlc2hTaWduQnRuIiwiaW5pdFVJSW5mbyIsImUiLCJzaWduSXRlbUxpc3QiLCJnZXRDb21wb25lbnQiLCJ0IiwiaSIsImluc3RhbnRpYXRlIiwicGFyZW50IiwiY2hpbGRyZW4iLCJwdXNoIiwibyIsInNpZ25EYXkiLCJhIiwidXNlU2lnbkRheSIsImMiLCJzIiwiZmluZCIsIklEIiwiaW5pdFNpZ25JdGVtIiwiaXNSZXdhcmRTaWduIiwiaXNSZXdhcmQiLCJhY3RpdmUiLCJvblNpZ25Mb2dpYyIsImZpbmlzaFNpZ25SZXdhcmQiLCJvbkdldFNpZ25SZXdhcmQiLCJvbkNsaWNrU2lnbiIsIlVJUm9vdCIsInNob3dUb2FzdCIsIm9uQ2xpY2tTaWduQWQiLCJBZFV0aWxzIiwic2hvd0FkUmV3YXJkVmlkZW8iLCJHYW1lQ29uZmlnIiwiQWRUeXBlIiwib25BZENsb3NlIiwib25DbGlja0VuZFNpZ24iLCJwb3B1cE1hbmFnZXIiLCJvbkNsb3NlVUkiLCJyZW1vdmVQb3B1cCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQUEsRUFBRSxDQUFDQyxLQUFILENBQVM7RUFDTCxXQUFTRCxFQUFFLENBQUNFLFNBRFA7RUFFTEMsVUFBVSxFQUFFO0lBQ1JDLFlBQVksRUFBRUosRUFBRSxDQUFDSyxTQURUO0lBRVJDLFlB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VUFDNUVILENBQUMsQ0FBQ2dDLFNBQUYsQ0FBWTdCLENBQVo7UUFDSCxDQUZELENBREo7TUFJSDtJQUNKO0VBQ0osQ0ExRkk7RUEyRkw2QixTQUFTLEVBQUUsbUJBQVVoQyxDQUFWLEVBQWE7SUFDcEIsS0FBS1IsUUFBTCxHQUFnQixDQUFDLENBQWpCOztJQUNBLElBQUlRLENBQUosRUFBTztNQUNILEtBQUtxQixXQUFMLENBQWlCLENBQUMsQ0FBbEI7SUFDSDtFQUNKLENBaEdJO0VBaUdMWSxjQUFjLEVBQUUsMEJBQVk7SUFDeEJ6RCxFQUFFLENBQUMwRCxZQUFILENBQWdCUixTQUFoQixDQUEwQixPQUExQjtFQUNILENBbkdJO0VBb0dMUyxTQUFTLEVBQUUscUJBQVk7SUFDbkIsSUFBSSxLQUFLM0MsUUFBVCxFQUFtQixDQUNmO0lBQ0gsQ0FGRCxNQUVPO01BQ0hoQixFQUFFLENBQUMwRCxZQUFILENBQWdCRSxXQUFoQixDQUE0QixJQUE1QjtJQUNIO0VBQ0o7QUExR0ksQ0FBVCIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiY2MuQ2xhc3Moe1xuICAgIGV4dGVuZHM6IGNjLkNvbXBvbmVudCxcbiAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgIHNpZ25Kc29uRmlsZTogY2MuSnNvbkFzc2V0LFxuICAgICAgICBiYXNlU2lnbkl0ZW06IGNjLk5vZGUsXG4gICAgICAgIHNldmVuU2lnbkl0ZW06IGNjLk5vZGUsXG4gICAgICAgIHNpZ25QYW5lbDogY2MuTm9kZSxcbiAgICAgICAgc2lnbkJ0blBhbmVsOiBjYy5Ob2RlLFxuICAgICAgICBmaW5pc2hCdG46IGNjLk5vZGVcbiAgICB9LFxuICAgIGluaXRCeTogZnVuY3Rpb24gKCkge1xuICAgICAgICBjYy5VSVNpZ24gPSB0aGlzO1xuICAgICAgICB0aGlzLnNpZ25Kc29uID0gdGhpcy5zaWduSnNvbkZpbGUuanNvbjtcbiAgICAgICAgdGhpcy5pc0xvb2tBZCA9ICExO1xuICAgICAgICBjYy5wdnouUGxheWVyRGF0YS5jaGVja0FuZFJlc2V0U2lnbigpO1xuICAgICAgICB0aGlzLlNpZ25EYXRhID0gY2MucHZ6LlBsYXllckRhdGEuZ2V0U2lnbkRhdGEoKTtcbiAgICAgICAgdGhpcy5yZWZyZXNoU2lnbkJ0bigpO1xuICAgICAgICB0aGlzLmluaXRVSUluZm8oKTtcbiAgICB9LFxuICAgIGluaXRVSUluZm86IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGUgPSB0aGlzO1xuICAgICAgICB0aGlzLnNpZ25JdGVtTGlzdCA9IFt0aGlzLmJhc2VTaWduSXRlbS5nZXRDb21wb25lbnQoXCJTaWduSXRlbVwiKV07XG4gICAgICAgIGZvciAodmFyIHQgPSAwOyB0IDwgNTsgdCsrKSB7XG4gICAgICAgICAgICB2YXIgaSA9IGNjLmluc3RhbnRpYXRlKHRoaXMuYmFzZVNpZ25JdGVtKTtcbiAgICAgICAgICAgIGkucGFyZW50ID0gdGhpcy5zaWduUGFuZWwuY2hpbGRyZW5bdCArIDFdO1xuICAgICAgICAgICAgdGhpcy5zaWduSXRlbUxpc3QucHVzaChpLmdldENvbXBvbmVudChcIlNpZ25JdGVtXCIpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNpZ25JdGVtTGlzdC5wdXNoKHRoaXMuc2V2ZW5TaWduSXRlbS5nZXRDb21wb25lbnQoXCJTaWduSXRlbVwiKSk7XG4gICAgICAgIHZhciBvID0gdGhpcy5TaWduRGF0YS5zaWduRGF5O1xuICAgICAgICB2YXIgYSA9IG8gJSA3O1xuICAgICAgICBpZiAoMCA9PSBhKSB7XG4gICAgICAgICAgICB0aGlzLnVzZVNpZ25EYXkgPSA3O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51c2VTaWduRGF5ID0gYTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0ID0gcyArIDE7XG4gICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgIGlmIChvIDw9IDcpIHtcbiAgICAgICAgICAgICAgICBpID0gdDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaSA9IDEwMCArIHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgYSA9IGUuc2lnbkpzb24uZmluZChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlLklEID09IGk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGUuc2lnbkl0ZW1MaXN0W3NdLmluaXRTaWduSXRlbSh0LCBhLCBlLnVzZVNpZ25EYXkpO1xuICAgICAgICB9O1xuICAgICAgICBmb3IgKHZhciBzID0gMDsgcyA8IDc7IHMrKykge1xuICAgICAgICAgICAgYygpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICByZWZyZXNoU2lnbkJ0bjogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmlzUmV3YXJkU2lnbiA9IHRoaXMuU2lnbkRhdGEuaXNSZXdhcmQ7XG4gICAgICAgIHRoaXMuc2lnbkJ0blBhbmVsLmFjdGl2ZSA9ICF0aGlzLmlzUmV3YXJkU2lnbjtcbiAgICAgICAgdGhpcy5maW5pc2hCdG4uYWN0aXZlID0gdGhpcy5pc1Jld2FyZFNpZ247XG4gICAgfSxcbiAgICBvblNpZ25Mb2dpYzogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKHZvaWQgMCA9PT0gZSkge1xuICAgICAgICAgICAgZSA9ICExO1xuICAgICAgICB9XG4gICAgICAgIGNjLnB2ei5QbGF5ZXJEYXRhLmZpbmlzaFNpZ25SZXdhcmQoKTtcbiAgICAgICAgdGhpcy5zaWduSXRlbUxpc3RbdGhpcy51c2VTaWduRGF5IC0gMV0ub25HZXRTaWduUmV3YXJkKGUpO1xuICAgICAgICB0aGlzLnJlZnJlc2hTaWduQnRuKCk7XG4gICAgfSxcbiAgICBvbkNsaWNrU2lnbjogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5pc0xvb2tBZCkge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzUmV3YXJkU2lnbikge1xuICAgICAgICAgICAgICAgIGNjLlVJUm9vdC5zaG93VG9hc3QoXCLku4rml6Xlt7Lnrb7liLBcIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMub25TaWduTG9naWMoITEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBvbkNsaWNrU2lnbkFkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuaXNMb29rQWQpIHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1Jld2FyZFNpZ24pIHtcbiAgICAgICAgICAgICAgICBjYy5VSVJvb3Quc2hvd1RvYXN0KFwi5LuK5pel5bey562+5YiwXCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAodGhpcy5pc0xvb2tBZCA9ICEwKSxcbiAgICAgICAgICAgICAgICAgICAgY2MucHZ6LkFkVXRpbHMuc2hvd0FkUmV3YXJkVmlkZW8oY2MucHZ6LkdhbWVDb25maWcuQWRUeXBlW1wi5Y+M5YCN562+5YiwXCJdLCBmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5vbkFkQ2xvc2UodCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBvbkFkQ2xvc2U6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHRoaXMuaXNMb29rQWQgPSAhMTtcbiAgICAgICAgaWYgKGUpIHtcbiAgICAgICAgICAgIHRoaXMub25TaWduTG9naWMoITApO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBvbkNsaWNrRW5kU2lnbjogZnVuY3Rpb24gKCkge1xuICAgICAgICBjYy5wb3B1cE1hbmFnZXIuc2hvd1RvYXN0KFwi5LuK5pel5bey562+5YiwXCIpO1xuICAgIH0sXG4gICAgb25DbG9zZVVJOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzTG9va0FkKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2MucG9wdXBNYW5hZ2VyLnJlbW92ZVBvcHVwKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG4iXX0=