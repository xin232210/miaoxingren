
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/mainUI/scripts/UIActLevelInfo.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '37f6cxXHKdAQY9Kixht7Gb0', 'UIActLevelInfo');
// mainUI/scripts/UIActLevelInfo.js

"use strict";

cc.Class({
  "extends": cc.Component,
  properties: {
    coinLabel: cc.Label,
    diamondLabel: cc.Label,
    powerPanel: cc.Node,
    timeLabel: cc.Label,
    scoreLabel: cc.Label,
    scoreBar: cc.ProgressBar,
    buffIconList: [cc.Sprite],
    buffTipPanel: cc.Node,
    buffDescLabel: cc.RichText,
    boxSpineList: [sp.Skeleton],
    boxLabelList: [cc.Label],
    boxRewardPanel: cc.Node,
    rewardParent: cc.Node,
    battleBtn: cc.Node,
    moreAdNode: cc.Node,
    levelPlayerPanel: cc.Node
  },
  refreshLevelPlayerShow: function refreshLevelPlayerShow() {
    this.levelPlayerPanel.getComponent("LevelPlayer").initHeroShow();
  },
  updateItemInfo: function updateItemInfo() {
    var e = cc.pvz.PlayerData.getItemNum(cc.pvz.GameConfig.ItemType["金币"]);
    this.coinLabel.string = cc.pvz.utils.formatItemNum(e);
    var t = cc.pvz.PlayerData.getItemNum(cc.pvz.GameConfig.ItemType["钻石"]);
    this.diamondLabel.string = cc.pvz.utils.formatItemNum(t);
  },
  updatePowerInfo: function updatePowerInfo() {
    this.powerPanel.getComponent("PowerInfo").updatePowerInfo();
  },
  checkPowerInfo: function checkPowerInfo() {
    this.powerPanel.getComponent("PowerInfo").checkPowerShow();
  },
  onLoad: function onLoad() {
    cc.UIActLevelInfo = this;
  },
  onCloseAllTip: function onCloseAllTip() {
    this.buffTipPanel.active = !1;
    this.boxRewardPanel.active = !1;
  },
  initBy: function initBy(e) {
    if (void 0 === e) {
      e = null;
    }

    cc.hasPopupType = cc.UIPage.Fuben;
    this.callback = e;
    this.isLookAd = !1;
    this.ActLevelJson = cc.JsonControl.ActLevelJson;
    this.ActLevelBuffJson = cc.JsonControl.ActLevelBuffJson;
    this.ActLevelBoxJson = cc.JsonControl.ActLevelBoxJson;
    this.updatePowerInfo();
    this.updateItemInfo();
    this.stageLevel = cc.pvz.PlayerData.getStageLevel();
    cc.pvz.PlayerData.checkAndResetActLevel();
    this.ActLevelData = cc.pvz.PlayerData.getActLevelData();
    this.curBuffIndex = -1;
    this.buffTipPanel.active = !1;
    this.boxRewardPanel.active = !1;
    this.curBoxId = -1;
    this.scoreLabel.string = this.ActLevelData.score;

    if (this.ActLevelData.score <= 2500) {
      this.scoreBar.progress = 0;
    } else {
      this.scoreBar.progress = (this.ActLevelData.score - 2500) / (cc.pvz.GameConfig.MaxActLevelScore - 2500);
    }

    this.initActBuffData();
    this.initLevelBoxData();
    this.lastTime = cc.pvz.utils.getTodayLastTimes();
    this.timeLabel.string = cc.pvz.utils.formatSeconds3(this.lastTime);
    this.schedule(this.refreshLoastTime, 1);

    if (this.ActLevelData.score < cc.pvz.GameConfig.MaxActLevelScore && this.ActLevelData.times <= 0 && cc.pvz.PlayerData.isHaveMoreActTimes()) {
      this.moreAdNode.active = !0;
      cc.pvz.TAUtils.trackAdUIShow(cc.pvz.GameConfig.AdType["额外挑战"]);
    } else {
      this.moreAdNode.active = !1;
      var t = this.ActLevelData.times <= 0;

      for (var i = 0; i < 1; i++) {
        var o = this.battleBtn.children[i].getComponent(cc.Sprite);
        cc.JsonControl.setSpriteGray(o, t);
      }
    }

    this.refreshLevelPlayerShow();
  },
  initLevelMap: function initLevelMap() {},
  initActBuffData: function initActBuffData() {
    for (var e = 0; e < 2; e++) {
      var t = this.ActLevelData.buffList[e];

      if (-1 == t) {
        t = this.getRandomBuff(0 == e);
        cc.pvz.PlayerData.updateActLevelBuff(e + 1, t);
      }

      var i = cc.JsonControl.getActBuffJson(t);
      cc.pvz.utils.setSpriteFrame(this.buffIconList[e], "uiImage", "tiaozhan/buff" + i.icon);
    }
  },
  getRandomBuff: function getRandomBuff(e) {
    if (void 0 === e) {
      e = !0;
    }

    var t = [];

    for (var i = 0; i < this.ActLevelBuffJson.length; i++) {
      var o = this.ActLevelBuffJson[i];

      if (e) {
        if (o.id < 100) {
          t.push(o.id);
        }
      } else {
        if (o.id > 100) {
          t.push(o.id);
        }
      }
    }

    return t[cc.math.randomRangeInt(0, t.length)];
  },
  onClickBuff: function onClickBuff(e, t) {
    this.boxRewardPanel.active = !1;
    var i = parseInt(t);

    if (i != this.curBuffIndex) {
      this.curBuffIndex = i;
      var o = this.ActLevelData.buffList[i - 1];
      var a = cc.JsonControl.getActBuffJson(o);
      this.buffTipPanel.active = !0;
      this.buffDescLabel.string = a.desc;
      this.buffTipPanel.position = cc.v2(this.buffIconList[i - 1].node.parent.position.x, this.buffTipPanel.position.y);
    } else {
      this.buffTipPanel.active = !this.buffTipPanel.active;
    }
  },
  initLevelBoxData: function initLevelBoxData() {
    this.levelBoxData = this.ActLevelData.boxStatus;

    for (var e = 0; e < this.boxLabelList.length; e++) {
      var t = this.ActLevelBoxJson[e].score;
      this.boxLabelList[e].string = "" + t;
      var i = this.boxSpineList[e];

      if (1 == this.levelBoxData[e]) {
        i.setAnimation(0, "baoxiang4", !1);
      } else {
        if (t <= this.ActLevelData.score) {
          i.setAnimation(0, "baoxiang2", !0);
        } else {
          i.setAnimation(0, "baoxiang1", !1);
        }
      }
    }
  },
  onClickBox: function onClickBox(e, t) {
    var i = this;

    if (!this.isLookAd) {
      this.buffTipPanel.active = !1;
      var o = parseInt(t);

      if (1 != this.levelBoxData[o - 1]) {
        var a = this.ActLevelBoxJson[o - 1].score <= this.ActLevelData.score;
        var c = this.ActLevelBoxJson[o - 1].reward;
        var s = Math.floor(c.length / 2);
        var n = 0;
        this.rewardData = [];

        for (var r = 0; r < s; r++) {
          var h = c[n];
          var p = c[n + 1];

          if (h == cc.pvz.GameConfig.ItemType["金币"]) {
            p += this.stageLevel * (1 == o ? 10 : 20);
          } else {
            if (h == cc.pvz.GameConfig.ItemType["钻石"]) {
              p += this.stageLevel * (2 == o ? 3 : 5);
            }
          }

          var l = cc.pvz.utils.getRewardItem(h, p);
          this.rewardData.push(l);
          n += 2;
        }

        if (a) {
          this.boxRewardPanel.active = !1;
          cc.pvz.PlayerData.updateActLevelBoxStatus(o);
          var d = this.boxSpineList[o - 1];
          d.setAnimation(0, "baoxiang3", !1);
          d.setCompleteListener(function () {
            d.setAnimation(0, "baoxiang4", !1);
            d.setCompleteListener(null);
          });
          cc.popupManager.popup("mainUI", "getrewardUI", "UIReward", {
            ad: !1,
            scale: !1
          }, this.rewardData, cc.pvz.GameConfig.UIFromType["挑战副本"], function () {
            i.updateItemInfo();
          });
        } else {
          if (o != this.curBoxId) {
            this.curBoxId = o;
            this.boxRewardPanel.active = !0;
            this.refreshBoxPanelInfo(o);
          } else {
            this.boxRewardPanel.active = !this.boxRewardPanel.active;
          }
        }
      } else {
        cc.popupManager.showToast("奖励已领取");
      }
    }
  },
  refreshBoxPanelInfo: function refreshBoxPanelInfo(e) {
    this.boxRewardPanel.position = cc.v2(this.boxSpineList[e - 1].node.parent.position.x, this.boxRewardPanel.position.y);

    for (var t = 0; t < this.rewardParent.childrenCount; t++) {
      var i = this.rewardParent.children[t];

      if (t < this.rewardData.length) {
        i.active = !0;
        i.getComponent("RewardItem").initBoxRewardItem(this.rewardData[t]);
      } else {
        i.active = !1;
      }
    }
  },
  refreshLoastTime: function refreshLoastTime() {
    this.lastTime--;
    this.timeLabel.string = cc.pvz.utils.formatSeconds3(this.lastTime);

    if (this.lastTime <= 0) {
      this.lastTime = 86400;
      this.timeLabel.string = cc.pvz.utils.formatSeconds3(this.lastTime);
      this.initBy();
    }
  },
  onAdInGameLogic: function onAdInGameLogic() {
    var e = this;

    if (this.isLookAd) {//
    } else {
      this.isLookAd = !0;
      cc.pvz.AdUtils.showAdRewardVideo(cc.pvz.GameConfig.AdType["额外挑战"], function (t) {
        e.onAdClose(t);
      });
    }
  },
  onAdClose: function onAdClose(e) {
    this.isLookAd = !1;

    if (e) {
      cc.pvz.PlayerData.updateAdActTimes();
      this.inActBattleGame();
    }
  },
  inActBattleGame: function inActBattleGame() {
    cc.pvz.PlayerData.addMissionProgress(cc.pvz.GameConfig.MissionType["参与挑战关卡n次"], 1);
    cc.MainUI.setClubBtnVisible(!1);
    cc.pvz.runtimeData.init(1, cc.player.actLevelData.level);
    cc.director.loadScene("game1");
  },
  onClickBattleGame: function onClickBattleGame() {
    if (this.isLookAd) {//
    } else {
      if (cc.pvz.PlayerData.isEnoughArrayTool()) {
        if (this.ActLevelData.times <= 0) {
          if (this.moreAdNode.active) {
            this.onAdInGameLogic();
          } else {
            cc.popupManager.showToast("今日次数已用完！");
          }
        } else {
          if (cc.pvz.PlayerData.getPower() < cc.pvz.GameConfig.BattlePower) {
            cc.pvz.PlayerData.isHaveBuyPowerTimes() ? cc.popupManager.popup("mainUI", "powerbuy", "UIPowerBuy", {
              ad: !1,
              scale: !0
            }, cc.pvz.GameConfig.UIFromType["挑战副本"]) : cc.popupManager.showToast("体力不足");
          } else {
            cc.pvz.PlayerData.usePlayerPower(-5), this.checkPowerInfo(), cc.pvz.PlayerData.updateActLevelTimes(), this.inActBattleGame();
          }
        }
      } else {
        cc.popupManager.showToast("还有未上阵的卡皮巴拉的哦！");
      }
    }
  },
  onCloseUI: function onCloseUI() {
    cc.hasPopupType = 0;
    cc.popupManager.removePopup(this);

    if (this.callback) {
      this.callback();
    }
  },
  onClickBuyPower: function onClickBuyPower() {},
  onClickBuyCoin: function onClickBuyCoin() {
    cc.popupManager.removePopup(this);
    cc.MainControl.onClickBuyCoin();
  },
  onClickBuyDiamond: function onClickBuyDiamond() {
    cc.popupManager.removePopup(this);
    cc.MainControl.onClickBuyDiamond();
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9tYWluVUkvc2NyaXB0cy9VSUFjdExldmVsSW5mby5qcyJdLCJuYW1lcyI6WyJjYyIsIkNsYXNzIiwiQ29tcG9uZW50IiwicHJvcGVydGllcyIsImNvaW5MYWJlbCIsIkxhYmVsIiwiZGlhbW9uZExhYmVsIiwicG93ZXJQYW5lbCIsIk5vZGUiLCJ0aW1lTGFiZWwiLCJzY29yZUxhYmVsIiwic2NvcmVCYXIiLCJQcm9ncmVzc0JhciIsImJ1ZmZJY29uTGlzdCIsIlNwcml0ZSIsImJ1ZmZUaXBQYW5lbCIsImJ1ZmZEZXNjTGFiZWwiLCJSaWNoVGV4dCIsImJveFNwaW5lTGlzdCIsInNwIiwiU2tlbGV0b24iLCJib3hMYWJlbExpc3QiLCJib3hSZXdhcmRQYW5lbCIsInJld2FyZFBhcmVudCIsImJhdHRsZUJ0biIsIm1vcmVBZE5vZGUiLCJsZXZlbFBsYXllclBhbmVsIiwicmVmcmVzaExldmVsUGxheWVyU2hvdyIsImdldENvbXBvbmVudCIsImluaXRIZXJvU2hvdyIsInVwZGF0ZUl0ZW1JbmZvIiwiZSIsInB2eiIsIlBsYXllckRhdGEiLCJnZXRJdGVtTnVtIiwiR2FtZUNvbmZpZyIsIkl0ZW1UeXBlIiwic3RyaW5nIiwidXRpbHMiLCJmb3JtYXRJdGVtTnVtIiwidCIsInVwZGF0ZVBvd2VySW5mbyIsImNoZWNrUG93ZXJJbmZvIiwiY2hlY2tQb3dlclNob3ciLCJvbkxvYWQiLCJVSUFjdExldmVsSW5mbyIsIm9uQ2xvc2VBbGxUaXAiLCJhY3RpdmUiLCJpbml0QnkiLCJoYXNQb3B1cFR5cGUiLCJVSVBhZ2UiLCJGdWJlbiIsImNhbGxiYWNrIiwiaXNMb29rQWQiLCJBY3RMZXZlbEpzb24iLCJKc29uQ29udHJvbCIsIkFjdExldmVsQnVmZkpzb24iLCJBY3RMZXZlbEJveEpzb24iLCJzdGFnZUxldmVsIiwiZ2V0U3RhZ2VMZXZlbCIsImNoZWNrQW5kUmVzZXRBY3RMZXZlbCIsIkFjdExldmVsRGF0YSIsImdldEFjdExldmVsRGF0YSIsImN1ckJ1ZmZJbmRleCIsImN1ckJveElkIiwic2NvcmUiLCJwcm9ncmVzcyIsIk1heEFjdExldmVsU2NvcmUiLCJpbml0QWN0QnVmZkRhdGEiLCJpbml0TGV2ZWxCb3hEYXRhIiwibGFzdFRpbWUiLCJnZXRUb2RheUxhc3RUaW1lcyIsImZvcm1hdFNlY29uZHMzIiwic2NoZWR1bGUiLCJyZWZyZXNoTG9hc3RUaW1lIiwidGltZXMiLCJpc0hhdmVNb3JlQWN0VGltZXMiLCJUQVV0aWxzIiwidHJhY2tBZFVJU2hvdyIsIkFkVHlwZSIsImkiLCJvIiwiY2hpbGRyZW4iLCJzZXRTcHJpdGVHcmF5IiwiaW5pdExldmVsTWFwIiwiYnVmZkxpc3QiLCJnZXRSYW5kb21CdWZmIiwidXBkYXRlQWN0TGV2ZWxCdWZmIiwiZ2V0QWN0QnVmZkpzb24iLCJzZXRTcHJpdGVGcmFtZSIsImljb24iLCJsZW5ndGgiLCJpZCIsInB1c2giLCJtYXRoIiwicmFuZG9tUmFuZ2VJbnQiLCJvbkNsaWNrQnVmZiIsInBhcnNlSW50IiwiYSIsImRlc2MiLCJwb3NpdGlvbiIsInYyIiwibm9kZSIsInBhcmVudCIsIngiLCJ5IiwibGV2ZWxCb3hEYXRhIiwiYm94U3RhdHVzIiwic2V0QW5pbWF0aW9uIiwib25DbGlja0JveCIsImMiLCJyZXdhcmQiLCJzIiwiTWF0aCIsImZsb29yIiwibiIsInJld2FyZERhdGEiLCJyIiwiaCIsInAiLCJsIiwiZ2V0UmV3YXJkSXRlbSIsInVwZGF0ZUFjdExldmVsQm94U3RhdHVzIiwiZCIsInNldENvbXBsZXRlTGlzdGVuZXIiLCJwb3B1cE1hbmFnZXIiLCJwb3B1cCIsImFkIiwic2NhbGUiLCJVSUZyb21UeXBlIiwicmVmcmVzaEJveFBhbmVsSW5mbyIsInNob3dUb2FzdCIsImNoaWxkcmVuQ291bnQiLCJpbml0Qm94UmV3YXJkSXRlbSIsIm9uQWRJbkdhbWVMb2dpYyIsIkFkVXRpbHMiLCJzaG93QWRSZXdhcmRWaWRlbyIsIm9uQWRDbG9zZSIsInVwZGF0ZUFkQWN0VGltZXMiLCJpbkFjdEJhdHRsZUdhbWUiLCJhZGRNaXNzaW9uUHJvZ3Jlc3MiLCJNaXNzaW9uVHlwZSIsIk1haW5VSSIsInNldENsdWJCdG5WaXNpYmxlIiwicnVudGltZURhdGEiLCJpbml0IiwicGxheWVyIiwiYWN0TGV2ZWxEYXRhIiwibGV2ZWwiLCJkaXJlY3RvciIsImxvYWRTY2VuZSIsIm9uQ2xpY2tCYXR0bGVHYW1lIiwiaXNFbm91Z2hBcnJheVRvb2wiLCJnZXRQb3dlciIsIkJhdHRsZVBvd2VyIiwiaXNIYXZlQnV5UG93ZXJUaW1lcyIsInVzZVBsYXllclBvd2VyIiwidXBkYXRlQWN0TGV2ZWxUaW1lcyIsIm9uQ2xvc2VVSSIsInJlbW92ZVBvcHVwIiwib25DbGlja0J1eVBvd2VyIiwib25DbGlja0J1eUNvaW4iLCJNYWluQ29udHJvbCIsIm9uQ2xpY2tCdXlEaWFtb25kIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBQSxFQUFFLENBQUNDLEtBQUgsQ0FBUztFQUNMLFdBQVNELEVBQUUsQ0FBQ0UsU0FEUDtFQUVMQyxVQUFVLEVBQUU7SUFDUkMsU0FBUyxFQUFFSixFQUFFLENBQUNLLEtBRE47SUFFUkMsWUFBWSxFQUFFTixFQUFFLENBQUNLLEtBRlQ7SUFHUkUsVUFBVSxFQUFFUCxFQUFFLENBQUNRLElBSFA7SUFJUkMsU0FBUyxFQUFFVCxFQUFFLENBQUNLLEtBSk47SUFLUkssVUFBVSxFQUFFVixFQUFFLENBQUNLLEtBTFA7SUFNUk0sUUFBUSxFQUFFWCxFQUFFLENBQUNZLFdBTkw7SUFPUkMsWUFBWSxFQUFFLENBQUNiLEVBQUUsQ0FBQ2MsTUFBSixDQVBOO0lBUVJDLFlBQVksRUFBRWYsRUFBRSxDQUFDUSxJQVJUO0lBU1JRLGFBQWEsRUFBRWhCLEVBQUUsQ0FBQ2lCLFFBVFY7SUFVUkMsWUFBWSxFQUFFLENBQUNDLEVBQUUsQ0FBQ0MsUUFBSixDQVZOO0lBV1JDLFlBQVksRUFBRSxDQUFDckIsRUFBRSxDQUFDSyxLQUFKLENBWE47SUFZUmlCLGNBQWMsRUFBRXRCLEVBQUUsQ0FBQ1EsSUFaWDtJQWFSZSxZ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akksRUFBRSxDQUFDNkgsWUFBSCxDQUFnQk0sU0FBaEIsQ0FBMEIsTUFBMUIsQ0FYTjtVQVlILENBYkQsTUFhTztZQUNIbkksRUFBRSxDQUFDZ0MsR0FBSCxDQUFPQyxVQUFQLENBQWtCMkgsY0FBbEIsQ0FBaUMsQ0FBQyxDQUFsQyxHQUNJLEtBQUtsSCxjQUFMLEVBREosRUFFSTFDLEVBQUUsQ0FBQ2dDLEdBQUgsQ0FBT0MsVUFBUCxDQUFrQjRILG1CQUFsQixFQUZKLEVBR0ksS0FBS2xCLGVBQUwsRUFISjtVQUlIO1FBQ0o7TUFDSixDQTVCRCxNQTRCTztRQUNIM0ksRUFBRSxDQUFDNkgsWUFBSCxDQUFnQk0sU0FBaEIsQ0FBMEIsZUFBMUI7TUFDSDtJQUNKO0VBQ0osQ0E1U0k7RUE2U0wyQixTQUFTLEVBQUUscUJBQVk7SUFDbkI5SixFQUFFLENBQUNpRCxZQUFILEdBQWtCLENBQWxCO0lBQ0FqRCxFQUFFLENBQUM2SCxZQUFILENBQWdCa0MsV0FBaEIsQ0FBNEIsSUFBNUI7O0lBQ0EsSUFBSSxLQUFLM0csUUFBVCxFQUFtQjtNQUNmLEtBQUtBLFFBQUw7SUFDSDtFQUNKLENBblRJO0VBb1RMNEcsZUFBZSxFQUFFLDJCQUFZLENBQUUsQ0FwVDFCO0VBcVRMQyxjQUFjLEVBQUUsMEJBQVk7SUFDeEJqSyxFQUFFLENBQUM2SCxZQUFILENBQWdCa0MsV0FBaEIsQ0FBNEIsSUFBNUI7SUFDQS9KLEVBQUUsQ0FBQ2tLLFdBQUgsQ0FBZUQsY0FBZjtFQUNILENBeFRJO0VBeVRMRSxpQkFBaUIsRUFBRSw2QkFBWTtJQUMzQm5LLEVBQUUsQ0FBQzZILFlBQUgsQ0FBZ0JrQyxXQUFoQixDQUE0QixJQUE1QjtJQUNBL0osRUFBRSxDQUFDa0ssV0FBSCxDQUFlQyxpQkFBZjtFQUNIO0FBNVRJLENBQVQiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImNjLkNsYXNzKHtcbiAgICBleHRlbmRzOiBjYy5Db21wb25lbnQsXG4gICAgcHJvcGVydGllczoge1xuICAgICAgICBjb2luTGFiZWw6IGNjLkxhYmVsLFxuICAgICAgICBkaWFtb25kTGFiZWw6IGNjLkxhYmVsLFxuICAgICAgICBwb3dlclBhbmVsOiBjYy5Ob2RlLFxuICAgICAgICB0aW1lTGFiZWw6IGNjLkxhYmVsLFxuICAgICAgICBzY29yZUxhYmVsOiBjYy5MYWJlbCxcbiAgICAgICAgc2NvcmVCYXI6IGNjLlByb2dyZXNzQmFyLFxuICAgICAgICBidWZmSWNvbkxpc3Q6IFtjYy5TcHJpdGVdLFxuICAgICAgICBidWZmVGlwUGFuZWw6IGNjLk5vZGUsXG4gICAgICAgIGJ1ZmZEZXNjTGFiZWw6IGNjLlJpY2hUZXh0LFxuICAgICAgICBib3hTcGluZUxpc3Q6IFtzcC5Ta2VsZXRvbl0sXG4gICAgICAgIGJveExhYmVsTGlzdDogW2NjLkxhYmVsXSxcbiAgICAgICAgYm94UmV3YXJkUGFuZWw6IGNjLk5vZGUsXG4gICAgICAgIHJld2FyZFBhcmVudDogY2MuTm9kZSxcbiAgICAgICAgYmF0dGxlQnRuOiBjYy5Ob2RlLFxuICAgICAgICBtb3JlQWROb2RlOiBjYy5Ob2RlLFxuICAgICAgICBsZXZlbFBsYXllclBhbmVsOiBjYy5Ob2RlXG4gICAgfSxcbiAgICByZWZyZXNoTGV2ZWxQbGF5ZXJTaG93OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubGV2ZWxQbGF5ZXJQYW5lbC5nZXRDb21wb25lbnQoXCJMZXZlbFBsYXllclwiKS5pbml0SGVyb1Nob3coKTtcbiAgICB9LFxuICAgIHVwZGF0ZUl0ZW1JbmZvOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlID0gY2MucHZ6LlBsYXllckRhdGEuZ2V0SXRlbU51bShjYy5wdnouR2FtZUNvbmZpZy5JdGVtVHlwZVtcIumHkeW4gVwiXSk7XG4gICAgICAgIHRoaXMuY29pbkxhYmVsLnN0cmluZyA9IGNjLnB2ei51dGlscy5mb3JtYXRJdGVtTnVtKGUpO1xuICAgICAgICB2YXIgdCA9IGNjLnB2ei5QbGF5ZXJEYXRhLmdldEl0ZW1OdW0oY2MucHZ6LkdhbWVDb25maWcuSXRlbVR5cGVbXCLpkrvnn7NcIl0pO1xuICAgICAgICB0aGlzLmRpYW1vbmRMYWJlbC5zdHJpbmcgPSBjYy5wdnoudXRpbHMuZm9ybWF0SXRlbU51bSh0KTtcbiAgICB9LFxuICAgIHVwZGF0ZVBvd2VySW5mbzogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnBvd2VyUGFuZWwuZ2V0Q29tcG9uZW50KFwiUG93ZXJJbmZvXCIpLnVwZGF0ZVBvd2VySW5mbygpO1xuICAgIH0sXG4gICAgY2hlY2tQb3dlckluZm86IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wb3dlclBhbmVsLmdldENvbXBvbmVudChcIlBvd2VySW5mb1wiKS5jaGVja1Bvd2VyU2hvdygpO1xuICAgIH0sXG4gICAgb25Mb2FkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNjLlVJQWN0TGV2ZWxJbmZvID0gdGhpcztcbiAgICB9LFxuICAgIG9uQ2xvc2VBbGxUaXA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5idWZmVGlwUGFuZWwuYWN0aXZlID0gITE7XG4gICAgICAgIHRoaXMuYm94UmV3YXJkUGFuZWwuYWN0aXZlID0gITE7XG4gICAgfSxcbiAgICBpbml0Qnk6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmICh2b2lkIDAgPT09IGUpIHtcbiAgICAgICAgICAgIGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNjLmhhc1BvcHVwVHlwZSA9IGNjLlVJUGFnZS5GdWJlbjtcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGU7XG4gICAgICAgIHRoaXMuaXNMb29rQWQgPSAhMTtcbiAgICAgICAgdGhpcy5BY3RMZXZlbEpzb24gPSBjYy5Kc29uQ29udHJvbC5BY3RMZXZlbEpzb247XG4gICAgICAgIHRoaXMuQWN0TGV2ZWxCdWZmSnNvbiA9IGNjLkpzb25Db250cm9sLkFjdExldmVsQnVmZkpzb247XG4gICAgICAgIHRoaXMuQWN0TGV2ZWxCb3hKc29uID0gY2MuSnNvbkNvbnRyb2wuQWN0TGV2ZWxCb3hKc29uO1xuICAgICAgICB0aGlzLnVwZGF0ZVBvd2VySW5mbygpO1xuICAgICAgICB0aGlzLnVwZGF0ZUl0ZW1JbmZvKCk7XG4gICAgICAgIHRoaXMuc3RhZ2VMZXZlbCA9IGNjLnB2ei5QbGF5ZXJEYXRhLmdldFN0YWdlTGV2ZWwoKTtcbiAgICAgICAgY2MucHZ6LlBsYXllckRhdGEuY2hlY2tBbmRSZXNldEFjdExldmVsKCk7XG4gICAgICAgIHRoaXMuQWN0TGV2ZWxEYXRhID0gY2MucHZ6LlBsYXllckRhdGEuZ2V0QWN0TGV2ZWxEYXRhKCk7XG4gICAgICAgIHRoaXMuY3VyQnVmZkluZGV4ID0gLTE7XG4gICAgICAgIHRoaXMuYnVmZlRpcFBhbmVsLmFjdGl2ZSA9ICExO1xuICAgICAgICB0aGlzLmJveFJld2FyZFBhbmVsLmFjdGl2ZSA9ICExO1xuICAgICAgICB0aGlzLmN1ckJveElkID0gLTE7XG4gICAgICAgIHRoaXMuc2NvcmVMYWJlbC5zdHJpbmcgPSB0aGlzLkFjdExldmVsRGF0YS5zY29yZTtcbiAgICAgICAgaWYgKHRoaXMuQWN0TGV2ZWxEYXRhLnNjb3JlIDw9IDI1MDApIHtcbiAgICAgICAgICAgIHRoaXMuc2NvcmVCYXIucHJvZ3Jlc3MgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zY29yZUJhci5wcm9ncmVzcyA9ICh0aGlzLkFjdExldmVsRGF0YS5zY29yZSAtIDI1MDApIC8gKGNjLnB2ei5HYW1lQ29uZmlnLk1heEFjdExldmVsU2NvcmUgLSAyNTAwKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmluaXRBY3RCdWZmRGF0YSgpO1xuICAgICAgICB0aGlzLmluaXRMZXZlbEJveERhdGEoKTtcbiAgICAgICAgdGhpcy5sYXN0VGltZSA9IGNjLnB2ei51dGlscy5nZXRUb2RheUxhc3RUaW1lcygpO1xuICAgICAgICB0aGlzLnRpbWVMYWJlbC5zdHJpbmcgPSBjYy5wdnoudXRpbHMuZm9ybWF0U2Vjb25kczModGhpcy5sYXN0VGltZSk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGUodGhpcy5yZWZyZXNoTG9hc3RUaW1lLCAxKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgdGhpcy5BY3RMZXZlbERhdGEuc2NvcmUgPCBjYy5wdnouR2FtZUNvbmZpZy5NYXhBY3RMZXZlbFNjb3JlICYmXG4gICAgICAgICAgICB0aGlzLkFjdExldmVsRGF0YS50aW1lcyA8PSAwICYmXG4gICAgICAgICAgICBjYy5wdnouUGxheWVyRGF0YS5pc0hhdmVNb3JlQWN0VGltZXMoKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMubW9yZUFkTm9kZS5hY3RpdmUgPSAhMDtcbiAgICAgICAgICAgIGNjLnB2ei5UQVV0aWxzLnRyYWNrQWRVSVNob3coY2MucHZ6LkdhbWVDb25maWcuQWRUeXBlW1wi6aKd5aSW5oyR5oiYXCJdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubW9yZUFkTm9kZS5hY3RpdmUgPSAhMTtcbiAgICAgICAgICAgIHZhciB0ID0gdGhpcy5BY3RMZXZlbERhdGEudGltZXMgPD0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIG8gPSB0aGlzLmJhdHRsZUJ0bi5jaGlsZHJlbltpXS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKTtcbiAgICAgICAgICAgICAgICBjYy5Kc29uQ29udHJvbC5zZXRTcHJpdGVHcmF5KG8sIHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVmcmVzaExldmVsUGxheWVyU2hvdygpO1xuICAgIH0sXG4gICAgaW5pdExldmVsTWFwOiBmdW5jdGlvbiAoKSB7fSxcbiAgICBpbml0QWN0QnVmZkRhdGE6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgZSA9IDA7IGUgPCAyOyBlKyspIHtcbiAgICAgICAgICAgIHZhciB0ID0gdGhpcy5BY3RMZXZlbERhdGEuYnVmZkxpc3RbZV07XG4gICAgICAgICAgICBpZiAoLTEgPT0gdCkge1xuICAgICAgICAgICAgICAgIHQgPSB0aGlzLmdldFJhbmRvbUJ1ZmYoMCA9PSBlKTtcbiAgICAgICAgICAgICAgICBjYy5wdnouUGxheWVyRGF0YS51cGRhdGVBY3RMZXZlbEJ1ZmYoZSArIDEsIHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGkgPSBjYy5Kc29uQ29udHJvbC5nZXRBY3RCdWZmSnNvbih0KTtcbiAgICAgICAgICAgIGNjLnB2ei51dGlscy5zZXRTcHJpdGVGcmFtZSh0aGlzLmJ1ZmZJY29uTGlzdFtlXSwgXCJ1aUltYWdlXCIsIFwidGlhb3poYW4vYnVmZlwiICsgaS5pY29uKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0UmFuZG9tQnVmZjogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKHZvaWQgMCA9PT0gZSkge1xuICAgICAgICAgICAgZSA9ICEwO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0ID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5BY3RMZXZlbEJ1ZmZKc29uLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbyA9IHRoaXMuQWN0TGV2ZWxCdWZmSnNvbltpXTtcbiAgICAgICAgICAgIGlmIChlKSB7XG4gICAgICAgICAgICAgICAgaWYgKG8uaWQgPCAxMDApIHtcbiAgICAgICAgICAgICAgICAgICAgdC5wdXNoKG8uaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKG8uaWQgPiAxMDApIHtcbiAgICAgICAgICAgICAgICAgICAgdC5wdXNoKG8uaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdFtjYy5tYXRoLnJhbmRvbVJhbmdlSW50KDAsIHQubGVuZ3RoKV07XG4gICAgfSxcbiAgICBvbkNsaWNrQnVmZjogZnVuY3Rpb24gKGUsIHQpIHtcbiAgICAgICAgdGhpcy5ib3hSZXdhcmRQYW5lbC5hY3RpdmUgPSAhMTtcbiAgICAgICAgdmFyIGkgPSBwYXJzZUludCh0KTtcbiAgICAgICAgaWYgKGkgIT0gdGhpcy5jdXJCdWZmSW5kZXgpIHtcbiAgICAgICAgICAgIHRoaXMuY3VyQnVmZkluZGV4ID0gaTtcbiAgICAgICAgICAgIHZhciBvID0gdGhpcy5BY3RMZXZlbERhdGEuYnVmZkxpc3RbaSAtIDFdO1xuICAgICAgICAgICAgdmFyIGEgPSBjYy5Kc29uQ29udHJvbC5nZXRBY3RCdWZmSnNvbihvKTtcbiAgICAgICAgICAgIHRoaXMuYnVmZlRpcFBhbmVsLmFjdGl2ZSA9ICEwO1xuICAgICAgICAgICAgdGhpcy5idWZmRGVzY0xhYmVsLnN0cmluZyA9IGEuZGVzYztcbiAgICAgICAgICAgIHRoaXMuYnVmZlRpcFBhbmVsLnBvc2l0aW9uID0gY2MudjIoXG4gICAgICAgICAgICAgICAgdGhpcy5idWZmSWNvbkxpc3RbaSAtIDFdLm5vZGUucGFyZW50LnBvc2l0aW9uLngsXG4gICAgICAgICAgICAgICAgdGhpcy5idWZmVGlwUGFuZWwucG9zaXRpb24ueVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZlRpcFBhbmVsLmFjdGl2ZSA9ICF0aGlzLmJ1ZmZUaXBQYW5lbC5hY3RpdmU7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGluaXRMZXZlbEJveERhdGE6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sZXZlbEJveERhdGEgPSB0aGlzLkFjdExldmVsRGF0YS5ib3hTdGF0dXM7XG4gICAgICAgIGZvciAodmFyIGUgPSAwOyBlIDwgdGhpcy5ib3hMYWJlbExpc3QubGVuZ3RoOyBlKyspIHtcbiAgICAgICAgICAgIHZhciB0ID0gdGhpcy5BY3RMZXZlbEJveEpzb25bZV0uc2NvcmU7XG4gICAgICAgICAgICB0aGlzLmJveExhYmVsTGlzdFtlXS5zdHJpbmcgPSBcIlwiICsgdDtcbiAgICAgICAgICAgIHZhciBpID0gdGhpcy5ib3hTcGluZUxpc3RbZV07XG4gICAgICAgICAgICBpZiAoMSA9PSB0aGlzLmxldmVsQm94RGF0YVtlXSkge1xuICAgICAgICAgICAgICAgIGkuc2V0QW5pbWF0aW9uKDAsIFwiYmFveGlhbmc0XCIsICExKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHQgPD0gdGhpcy5BY3RMZXZlbERhdGEuc2NvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgaS5zZXRBbmltYXRpb24oMCwgXCJiYW94aWFuZzJcIiwgITApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGkuc2V0QW5pbWF0aW9uKDAsIFwiYmFveGlhbmcxXCIsICExKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIG9uQ2xpY2tCb3g6IGZ1bmN0aW9uIChlLCB0KSB7XG4gICAgICAgIHZhciBpID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLmlzTG9va0FkKSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZUaXBQYW5lbC5hY3RpdmUgPSAhMTtcbiAgICAgICAgICAgIHZhciBvID0gcGFyc2VJbnQodCk7XG4gICAgICAgICAgICBpZiAoMSAhPSB0aGlzLmxldmVsQm94RGF0YVtvIC0gMV0pIHtcbiAgICAgICAgICAgICAgICB2YXIgYSA9IHRoaXMuQWN0TGV2ZWxCb3hKc29uW28gLSAxXS5zY29yZSA8PSB0aGlzLkFjdExldmVsRGF0YS5zY29yZTtcbiAgICAgICAgICAgICAgICB2YXIgYyA9IHRoaXMuQWN0TGV2ZWxCb3hKc29uW28gLSAxXS5yZXdhcmQ7XG4gICAgICAgICAgICAgICAgdmFyIHMgPSBNYXRoLmZsb29yKGMubGVuZ3RoIC8gMik7XG4gICAgICAgICAgICAgICAgdmFyIG4gPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMucmV3YXJkRGF0YSA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHIgPSAwOyByIDwgczsgcisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoID0gY1tuXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSBjW24gKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGggPT0gY2MucHZ6LkdhbWVDb25maWcuSXRlbVR5cGVbXCLph5HluIFcIl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHAgKz0gdGhpcy5zdGFnZUxldmVsICogKDEgPT0gbyA/IDEwIDogMjApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGggPT0gY2MucHZ6LkdhbWVDb25maWcuSXRlbVR5cGVbXCLpkrvnn7NcIl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwICs9IHRoaXMuc3RhZ2VMZXZlbCAqICgyID09IG8gPyAzIDogNSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGwgPSBjYy5wdnoudXRpbHMuZ2V0UmV3YXJkSXRlbShoLCBwKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXdhcmREYXRhLnB1c2gobCk7XG4gICAgICAgICAgICAgICAgICAgIG4gKz0gMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ib3hSZXdhcmRQYW5lbC5hY3RpdmUgPSAhMTtcbiAgICAgICAgICAgICAgICAgICAgY2MucHZ6LlBsYXllckRhdGEudXBkYXRlQWN0TGV2ZWxCb3hTdGF0dXMobyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkID0gdGhpcy5ib3hTcGluZUxpc3RbbyAtIDFdO1xuICAgICAgICAgICAgICAgICAgICBkLnNldEFuaW1hdGlvbigwLCBcImJhb3hpYW5nM1wiLCAhMSk7XG4gICAgICAgICAgICAgICAgICAgIGQuc2V0Q29tcGxldGVMaXN0ZW5lcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkLnNldEFuaW1hdGlvbigwLCBcImJhb3hpYW5nNFwiLCAhMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkLnNldENvbXBsZXRlTGlzdGVuZXIobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjYy5wb3B1cE1hbmFnZXIucG9wdXAoXG4gICAgICAgICAgICAgICAgICAgICAgICBcIm1haW5VSVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJnZXRyZXdhcmRVSVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJVSVJld2FyZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkOiAhMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZTogITFcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJld2FyZERhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYy5wdnouR2FtZUNvbmZpZy5VSUZyb21UeXBlW1wi5oyR5oiY5Ymv5pysXCJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkudXBkYXRlSXRlbUluZm8oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAobyAhPSB0aGlzLmN1ckJveElkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1ckJveElkID0gbztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYm94UmV3YXJkUGFuZWwuYWN0aXZlID0gITA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hCb3hQYW5lbEluZm8obyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJveFJld2FyZFBhbmVsLmFjdGl2ZSA9ICF0aGlzLmJveFJld2FyZFBhbmVsLmFjdGl2ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2MucG9wdXBNYW5hZ2VyLnNob3dUb2FzdChcIuWlluWKseW3sumihuWPllwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVmcmVzaEJveFBhbmVsSW5mbzogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdGhpcy5ib3hSZXdhcmRQYW5lbC5wb3NpdGlvbiA9IGNjLnYyKFxuICAgICAgICAgICAgdGhpcy5ib3hTcGluZUxpc3RbZSAtIDFdLm5vZGUucGFyZW50LnBvc2l0aW9uLngsXG4gICAgICAgICAgICB0aGlzLmJveFJld2FyZFBhbmVsLnBvc2l0aW9uLnlcbiAgICAgICAgKTtcbiAgICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPCB0aGlzLnJld2FyZFBhcmVudC5jaGlsZHJlbkNvdW50OyB0KyspIHtcbiAgICAgICAgICAgIHZhciBpID0gdGhpcy5yZXdhcmRQYXJlbnQuY2hpbGRyZW5bdF07XG4gICAgICAgICAgICBpZiAodCA8IHRoaXMucmV3YXJkRGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBpLmFjdGl2ZSA9ICEwO1xuICAgICAgICAgICAgICAgIGkuZ2V0Q29tcG9uZW50KFwiUmV3YXJkSXRlbVwiKS5pbml0Qm94UmV3YXJkSXRlbSh0aGlzLnJld2FyZERhdGFbdF0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpLmFjdGl2ZSA9ICExO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICByZWZyZXNoTG9hc3RUaW1lOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubGFzdFRpbWUtLTtcbiAgICAgICAgdGhpcy50aW1lTGFiZWwuc3RyaW5nID0gY2MucHZ6LnV0aWxzLmZvcm1hdFNlY29uZHMzKHRoaXMubGFzdFRpbWUpO1xuICAgICAgICBpZiAodGhpcy5sYXN0VGltZSA8PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RUaW1lID0gODY0MDA7XG4gICAgICAgICAgICB0aGlzLnRpbWVMYWJlbC5zdHJpbmcgPSBjYy5wdnoudXRpbHMuZm9ybWF0U2Vjb25kczModGhpcy5sYXN0VGltZSk7XG4gICAgICAgICAgICB0aGlzLmluaXRCeSgpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBvbkFkSW5HYW1lTG9naWM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGUgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5pc0xvb2tBZCkge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaXNMb29rQWQgPSAhMDtcbiAgICAgICAgICAgIGNjLnB2ei5BZFV0aWxzLnNob3dBZFJld2FyZFZpZGVvKGNjLnB2ei5HYW1lQ29uZmlnLkFkVHlwZVtcIumineWkluaMkeaImFwiXSwgZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgICAgICBlLm9uQWRDbG9zZSh0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBvbkFkQ2xvc2U6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHRoaXMuaXNMb29rQWQgPSAhMTtcbiAgICAgICAgaWYgKGUpIHtcbiAgICAgICAgICAgIGNjLnB2ei5QbGF5ZXJEYXRhLnVwZGF0ZUFkQWN0VGltZXMoKTtcbiAgICAgICAgICAgIHRoaXMuaW5BY3RCYXR0bGVHYW1lKCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGluQWN0QmF0dGxlR2FtZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBjYy5wdnouUGxheWVyRGF0YS5hZGRNaXNzaW9uUHJvZ3Jlc3MoY2MucHZ6LkdhbWVDb25maWcuTWlzc2lvblR5cGVbXCLlj4LkuI7mjJHmiJjlhbPljaFu5qyhXCJdLCAxKTtcbiAgICAgICAgY2MuTWFpblVJLnNldENsdWJCdG5WaXNpYmxlKCExKTtcbiAgICAgICAgY2MucHZ6LnJ1bnRpbWVEYXRhLmluaXQoMSwgY2MucGxheWVyLmFjdExldmVsRGF0YS5sZXZlbCk7XG4gICAgICAgIGNjLmRpcmVjdG9yLmxvYWRTY2VuZShcImdhbWUxXCIpO1xuICAgIH0sXG4gICAgb25DbGlja0JhdHRsZUdhbWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNMb29rQWQpIHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoY2MucHZ6LlBsYXllckRhdGEuaXNFbm91Z2hBcnJheVRvb2woKSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLkFjdExldmVsRGF0YS50aW1lcyA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1vcmVBZE5vZGUuYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQWRJbkdhbWVMb2dpYygpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2MucG9wdXBNYW5hZ2VyLnNob3dUb2FzdChcIuS7iuaXpeasoeaVsOW3sueUqOWujO+8gVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYy5wdnouUGxheWVyRGF0YS5nZXRQb3dlcigpIDwgY2MucHZ6LkdhbWVDb25maWcuQmF0dGxlUG93ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNjLnB2ei5QbGF5ZXJEYXRhLmlzSGF2ZUJ1eVBvd2VyVGltZXMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gY2MucG9wdXBNYW5hZ2VyLnBvcHVwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibWFpblVJXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwb3dlcmJ1eVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiVUlQb3dlckJ1eVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWQ6ICExLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZTogITBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNjLnB2ei5HYW1lQ29uZmlnLlVJRnJvbVR5cGVbXCLmjJHmiJjlia/mnKxcIl1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGNjLnBvcHVwTWFuYWdlci5zaG93VG9hc3QoXCLkvZPlipvkuI3otrNcIik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYy5wdnouUGxheWVyRGF0YS51c2VQbGF5ZXJQb3dlcigtNSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVja1Bvd2VySW5mbygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNjLnB2ei5QbGF5ZXJEYXRhLnVwZGF0ZUFjdExldmVsVGltZXMoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluQWN0QmF0dGxlR2FtZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjYy5wb3B1cE1hbmFnZXIuc2hvd1RvYXN0KFwi6L+Y5pyJ5pyq5LiK6Zi155qE5Y2h55qu5be05ouJ55qE5ZOm77yBXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBvbkNsb3NlVUk6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2MuaGFzUG9wdXBUeXBlID0gMDtcbiAgICAgICAgY2MucG9wdXBNYW5hZ2VyLnJlbW92ZVBvcHVwKHRoaXMpO1xuICAgICAgICBpZiAodGhpcy5jYWxsYmFjaykge1xuICAgICAgICAgICAgdGhpcy5jYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBvbkNsaWNrQnV5UG93ZXI6IGZ1bmN0aW9uICgpIHt9LFxuICAgIG9uQ2xpY2tCdXlDb2luOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNjLnBvcHVwTWFuYWdlci5yZW1vdmVQb3B1cCh0aGlzKTtcbiAgICAgICAgY2MuTWFpbkNvbnRyb2wub25DbGlja0J1eUNvaW4oKTtcbiAgICB9LFxuICAgIG9uQ2xpY2tCdXlEaWFtb25kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNjLnBvcHVwTWFuYWdlci5yZW1vdmVQb3B1cCh0aGlzKTtcbiAgICAgICAgY2MuTWFpbkNvbnRyb2wub25DbGlja0J1eURpYW1vbmQoKTtcbiAgICB9XG59KTtcbiJdfQ==