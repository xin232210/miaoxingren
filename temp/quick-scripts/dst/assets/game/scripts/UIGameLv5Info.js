
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/game/scripts/UIGameLv5Info.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ab5bd7tHkNLfqIwEVEZuzpJ', 'UIGameLv5Info');
// game/scripts/UIGameLv5Info.js

"use strict";

var i = [{
  id1: 2,
  id2: 8,
  id3: 102,
  lv1: 1
}, {
  id1: 5,
  id2: 1,
  id3: 105,
  lv1: 3
}, {
  id1: 9,
  id2: 10,
  id3: 109,
  lv1: 5
}, {
  id1: 12,
  id2: 4,
  id3: 112,
  lv1: 7
}, {
  id1: 13,
  id2: 6,
  id3: 113,
  lv1: 7
}];
cc.Class({
  "extends": cc.Component,
  properties: {
    itemNode: cc.Node,
    unlockLine: cc.Node,
    heroJsonFile: cc.JsonAsset
  },
  initBy: function initBy() {
    var t = this;
    this.unlockLine.zIndex = 2;
    this.itemNode.active = !0;
    var e = !1;
    i.forEach(function (i) {
      var n = cc.instantiate(t.itemNode);
      var o = t.heroJsonFile.json.find(function (t) {
        return t.id == i.id1;
      });
      var s = t.heroJsonFile.json.find(function (t) {
        return t.id == i.id2;
      });
      var c = t.heroJsonFile.json.find(function (t) {
        return t.id == i.id3;
      });
      var a = cc.find("q1", n).getComponent(cc.Sprite);
      var r = cc.find("i1", n).getComponent(cc.Sprite);
      var h = cc.find("q2", n).getComponent(cc.Sprite);
      var d = cc.find("i2", n).getComponent(cc.Sprite);
      cc.pvz.utils.setSpriteFrame(a, "uiImage", "item/pz_" + o.quality);
      cc.pvz.utils.setSpriteFrame(r, "uiImage", "plant/wq/zw_" + i.id1 + "_4");
      cc.pvz.utils.setSpriteFrame(h, "uiImage", "item/pz_" + s.quality);
      cc.pvz.utils.setSpriteFrame(d, "uiImage", "plant/wq/zw_" + i.id2 + "_4");
      cc.pvz.utils.setSpriteFrame(cc.find("i3", n).getComponent(cc.Sprite), "uiImage", "plant/wq/zw_" + i.id1 + "_5");
      cc.find("name", n).getComponent(cc.Label).string = c.name;
      var u = cc.pvz.PlayerData.getToolData(i.id1).lv;
      var p = u >= i.lv1;
      var l = cc.pvz.PlayerData.getToolData(i.id2).lv >= 1;

      if (p) {
        cc.find("lock1", n).active = !1;
      } else {
        if (u >= 1) {
          cc.find("lock1", n).getComponent(cc.Label).string = "等级" + i.lv1 + "解锁";
        } else {
          cc.find("lock1", n).getComponent(cc.Label).string = cc.pvz.GameConfig.ToolLockTip.replace("$", cc.pvz.GameConfig.ToolLockLevel[i.id1 - 1]);
        }

        cc.JsonControl.setSpriteGray(a, !0);
        cc.JsonControl.setSpriteGray(r, !0);
        e = !0;
      }

      if (l) {
        cc.find("lock2", n).active = !1;
      } else {
        cc.find("lock2", n).getComponent(cc.Label).string = cc.pvz.GameConfig.ToolLockTip.replace("$", cc.pvz.GameConfig.ToolLockLevel[i.id2 - 1]);
        cc.JsonControl.setSpriteGray(h, !0);
        cc.JsonControl.setSpriteGray(d, !0);
      }

      if (p && l) {
        n.zIndex = 1;
      } else {
        n.zIndex = 3;
      }

      n.parent = t.itemNode.parent;
    });
    this.unlockLine.active = e;
    this.itemNode.active = !1;
  },
  onClickClose: function onClickClose() {
    cc.popupManager.removePopup(this);
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9nYW1lL3NjcmlwdHMvVUlHYW1lTHY1SW5mby5qcyJdLCJuYW1lcyI6WyJpIiwiaWQxIiwiaWQyIiwiaWQzIiwibHYxIiwiY2MiLCJDbGFzcyIsIkNvbXBvbmVudCIsInByb3BlcnRpZXMiLCJpdGVtTm9kZSIsIk5vZGUiLCJ1bmxvY2tMaW5lIiwiaGVyb0pzb25GaWxlIiwiSnNvbkFzc2V0IiwiaW5pdEJ5IiwidCIsInpJbmRleCIsImFjdGl2ZSIsImUiLCJmb3JFYWNoIiwibiIsImluc3RhbnRpYXRlIiwibyIsImpzb24iLCJmaW5kIiwiaWQiLCJzIiwiYyIsImEiLCJnZXRDb21wb25lbnQiLCJTcHJpdGUiLCJyIiwiaCIsImQiLCJwdnoiLCJ1dGlscyIsInNldFNwcml0ZUZyYW1lIiwicXVhbGl0eSIsIkxhYmVsIiwic3RyaW5nIiwibmFtZSIsInUiLCJQbGF5ZXJEYXRhIiwiZ2V0VG9vbERhdGEiLCJsdiIsInAiLCJsIiwiR2FtZUNvbmZpZyIsIlRvb2xMb2NrVGlwIiwicmVwbGFjZSIsIlRvb2xMb2NrTGV2ZWwiLCJKc29uQ29udHJvbCIsInNldFNwcml0ZUdyYXkiLCJwYXJlbnQiLCJvbkNsaWNrQ2xvc2UiLCJwb3B1cE1hbmFnZXIiLCJyZW1vdmVQb3B1cCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxDQUFDLEdBQUcsQ0FDSjtFQUNJQyxHQUFHLEVBQUUsQ0FEVDtFQUVJQyxHQUFHLEVBQUUsQ0FGVDtFQUdJQyxHQUFHLEVBQUUsR0FIVDtFQUlJQyxHQUFHLEVBQUU7QUFKVCxDQURJLEVBT0o7RUFDSUgsR0FBRyxFQUFFLENBRFQ7RUFFSUMsR0FBRyxFQUFFLENBRlQ7RUFHSUMsR0FBRyxFQUFFLEdBSFQ7RUFJSUMsR0FBRyxFQUFFO0FBSlQsQ0FQSSxFQWFKO0VBQ0lILEdBQUcsRUFBRSxDQURUO0VBRUlDLEdBQUcsRUFBRSxFQUZUO0VBR0lDLEdBQUcsRUFBRSxHQUhUO0VBSUlDLEdBQUcsRUFBRTtBQUpULENBYkksRUFtQko7RUFDSUgsR0FBRyxFQUFFLEVBRFQ7RUFFSUMsR0FBRyxFQUFFLENBRlQ7RUFHSUMsR0FBRyxFQUFFLEdBSFQ7RUFJSUMsR0FBRyxFQUFFO0FBSlQsQ0FuQkksRUF5Qko7RUFDSUgsR0FBRyxFQUFFLEVBRFQ7RUFFSUMsR0FBRyxFQUFFLENBRlQ7RUFHSUMsR0FBRyxFQUFFLEdBSFQ7RUFJSUMsR0FBRyxFQUFFO0FBSlQsQ0F6QkksQ0FBUjtBQWdDQUMsRUFBRSxDQUFDQyxLQUFILENBQVM7RUFDTCxXQUFTRCxFQUFFLENBQUNFLFNBRFA7RUFFTEMsVUFBVSxFQUFFO0lBQ1JDLFFBQVEsRUFBRUosRUFBRSxDQUFDSyxJQURMO0lBRVJDLFVBQVUsRUFBRU4sRUFBRSxDQUFDSyxJQUZQO0lBR1JFLFlBQVksRUFBRVAsRUFBRSxDQUFDUTtFQUhULENBRlA7RUFPTEMsTUFBTSxFQUFFLGtCQUFZO0lBQ2hCLElBQUlDLENBQUMsR0FBRyxJQUFSO0lBQ0EsS0FBS0osVUFBTCxDQUFnQkssTUFBaEIsR0FBeUIsQ0FBekI7SUFDQSxLQUFLUCxRQUFMLENBQWNRLE1BQWQsR0FBdUIsQ0FBQyxDQUF4QjtJQUNBLElBQUlDLENBQUMsR0FBRyxDQUFDLENBQVQ7SUFDQWxCLENBQUMsQ0FBQ21CLE9BQUYsQ0FBVSxVQUFVbkIsQ0FBVixFQUFhO01BQ25CLElBQUlvQixDQUFDLEdBQUdmLEVBQUUsQ0FBQ2dCLFdBQUgsQ0FBZU4sQ0FBQyxDQUFDTixRQUFqQixDQUFSO01BQ0EsSUFBSWEsQ0FBQyxHQUFHUCxDQUFDLENBQUNILFlBQUYsQ0FBZVcsSUFBZixDQUFvQkMsSUFBcEIsQ0FBeUIsVUFBVVQsQ0FBVixFQUFhO1FBQzFDLE9BQU9BLENBQUMsQ0FBQ1UsRUFBRixJQUFRekIsQ0FBQyxDQUFDQyxHQUFqQjtNQUNILENBRk8sQ0FBUjtNQUdBLElBQUl5QixDQUFDLEdBQUdYLENBQUMsQ0FBQ0gsWUFBRixDQUFlVyxJQUFmLENBQW9CQyxJQUFwQixDQUF5QixVQUFVVCxDQUFWLEVBQWE7UUFDMUMsT0FBT0EsQ0FBQyxDQUFDVSxFQUFGLElBQVF6QixDQUFDLENBQUNFLEdBQWpCO01BQ0gsQ0FGTyxDQUFSO01BR0EsSUFBSXlCLENBQUMsR0FBR1osQ0FBQyxDQUFDSCxZQUFGLENBQWVXLElBQWYsQ0FBb0JDLElBQXBCLENBQXlCLFVBQVVULENBQVYsRUFBYTtRQUMxQyxPQUFPQSxDQUFDLENBQUNVLEVBQUYsSUFBUXpCLENBQUMsQ0FBQ0csR0FBakI7TUFDSCxDQUZPLENBQVI7TUFHQSxJQUFJeUIsQ0FBQyxHQUFHdkIsRUFBRSxDQUFDbUIsSUFBSCxDQUFRLElBQVIsRUFBY0osQ0FBZCxFQUFpQlMsWUFBakIsQ0FBOEJ4QixFQUFFLENBQUN5QixNQUFqQyxDQUFSO01BQ0EsSUFBSUMsQ0FBQyxHQUFHMUIsRUFBRSxDQUFDbUIsSUFBSCxDQUFRLElBQVIsRUFBY0osQ0FBZCxFQUFpQlMsWUFBakIsQ0FBOEJ4QixFQUFFLENBQUN5QixNQUFqQyxDQUFSO01BQ0EsSUFBSUUsQ0FBQyxHQUFHM0IsRUFBRSxDQUFDbUIsSUFBSCxDQUFRLElBQVIsRUFBY0osQ0FBZCxFQUFpQlMsWUFBakIsQ0FBOEJ4QixFQUFFLENBQUN5QixNQUFqQyxDQUFSO01BQ0EsSUFBSUcsQ0FBQyxHQUFHNUIsRUFBRSxDQUFDbUIsSUFBSCxDQUFRLElBQVIsRUFBY0osQ0FBZCxFQUFpQlMsWUFBakIsQ0FBOEJ4QixFQUFFLENBQUN5QixNQUFqQyxDQUFSO01BQ0F6QixFQUFFLENBQUM2QixHQUFILENBQU9DLEtBQVAsQ0FBYUMsY0FBYixDQUE0QlIsQ0FBNUIsRUFBK0IsU0FBL0IsRUFBMEMsYUFBYU4sQ0FBQyxDQUFDZSxPQUF6RDtNQUNBaEMsRUFBRSxDQUFDNkIsR0FBSCxDQUFPQyxLQUFQLENBQWFDLGNBQWIsQ0FBNEJMLENBQTVCLEVBQStCLFNBQS9CLEVBQTBDLGlCQUFpQi9CLENBQUMsQ0FBQ0MsR0FBbkIsR0FBeUIsSUFBbkU7TUFDQUksRUFBRSxDQUFDNkIsR0FBSCxDQUFPQyxLQUFQLENBQWFDLGNBQWIsQ0FBNEJKLENBQTVCLEVBQStCLFNBQS9CLEVBQTBDLGFBQWFOLENBQUMsQ0FBQ1csT0FBekQ7TUFDQWhDLEVBQUUsQ0FBQzZCLEdBQUgsQ0FBT0MsS0FBUCxDQUFhQyxjQUFiLENBQTRCSCxDQUE1QixFQUErQixTQUEvQixFQUEwQyxpQkFBaUJqQyxDQUFDLENBQUNFLEdBQW5CLEdBQXlCLElBQW5FO01BQ0FHLEVBQUUsQ0FBQzZCLEdBQUgsQ0FBT0MsS0FBUCxDQUFhQyxjQUFiLENBQ0kvQixFQUFFLENBQUNtQixJQUFILENBQVEsSUFBUixFQUFjSixDQUFkLEVBQWlCUyxZQUFqQixDQUE4QnhCLEVBQUUsQ0FBQ3lCLE1BQWpDLENBREosRUFFSSxTQUZKLEVBR0ksaUJBQWlCOUIsQ0FBQyxDQUFDQyxHQUFuQixHQUF5QixJQUg3QjtNQUtBSSxFQUFFLENBQUNtQixJQUFILENBQVEsTUFBUixFQUFnQkosQ0FBaEIsRUFBbUJTLFlBQW5CLENBQWdDeEIsRUFBRSxDQUFDaUMsS0FBbkMsRUFBMENDLE1BQTFDLEdBQW1EWixDQUFDLENBQUNhLElBQXJEO01BQ0EsSUFBSUMsQ0FBQyxHQUFHcEMsRUFBRSxDQUFDNkIsR0FBSCxDQUFPUSxVQUFQLENBQWtCQyxXQUFsQixDQUE4QjNDLENBQUMsQ0FBQ0MsR0FBaEMsRUFBcUMyQyxFQUE3QztNQUNBLElBQUlDLENBQUMsR0FBR0osQ0FBQyxJQUFJekMsQ0FBQyxDQUFDSSxHQUFmO01BQ0EsSUFBSTBDLENBQUMsR0FBR3pDLEVBQUUsQ0FBQzZCLEdBQUgsQ0FBT1EsVUFBUCxDQUFrQkMsV0FBbEIsQ0FBOEIzQyxDQUFDLENBQUNFLEdBQWhDLEVBQXFDMEMsRUFBckMsSUFBMkMsQ0FBbkQ7O01BQ0EsSUFBSUMsQ0FBSixFQUFPO1FBQ0h4QyxFQUFFLENBQUNtQixJQUFILENBQVEsT0FBUixFQUFpQkosQ0FBakIsRUFBb0JILE1BQXBCLEdBQTZCLENBQUMsQ0FBOUI7TUFDSCxDQUZELE1BRU87UUFDSCxJQUFJd0IsQ0FBQyxJQUFJLENBQVQsRUFBWTtVQUNScEMsRUFBRSxDQUFDbUIsSUFBSCxDQUFRLE9BQVIsRUFBaUJKLENBQWpCLEVBQW9CUyxZQUFwQixDQUFpQ3hCLEVBQUUsQ0FBQ2lDLEtBQXBDLEVBQTJDQyxNQUEzQyxHQUFvRCxPQUFPdkMsQ0FBQyxDQUFDSSxHQUFULEdBQWUsSUFBbkU7UUFDSCxDQUZELE1BRU87VUFDSEMsRUFBRSxDQUFDbUIsSUFBSCxDQUFRLE9BQVIsRUFBaUJKLENBQWpCLEVBQW9CUyxZQUFwQixDQUFpQ3hCLEVBQUUsQ0FBQ2lDLEtBQXBDLEVBQTJDQyxNQUEzQyxHQUFvRGxDLEVBQUUsQ0FBQzZCLEdBQUgsQ0FBT2EsVUFBUCxDQUFrQkMsV0FBbEIsQ0FBOEJDLE9BQTlCLENBQ2hELEdBRGdELEVBRWhENUMsRUFBRSxDQUFDNkIsR0FBSCxDQUFPYSxVQUFQLENBQWtCRyxhQUFsQixDQUFnQ2xELENBQUMsQ0FBQ0MsR0FBRixHQUFRLENBQXhDLENBRmdELENBQXBEO1FBSUg7O1FBQ0RJLEVBQUUsQ0FBQzhDLFdBQUgsQ0FBZUMsYUFBZixDQUE2QnhCLENBQTdCLEVBQWdDLENBQUMsQ0FBakM7UUFDQXZCLEVBQUUsQ0FBQzhDLFdBQUgsQ0FBZUMsYUFBZixDQUE2QnJCLENBQTdCLEVBQWdDLENBQUMsQ0FBakM7UUFDQWIsQ0FBQyxHQUFHLENBQUMsQ0FBTDtNQUNIOztNQUNELElBQUk0QixDQUFKLEVBQU87UUFDSHpDLEVBQUUsQ0FBQ21CLElBQUgsQ0FBUSxPQUFSLEVBQWlCSixDQUFqQixFQUFvQkgsTUFBcEIsR0FBNkIsQ0FBQyxDQUE5QjtNQUNILENBRkQsTUFFTztRQUNIWixFQUFFLENBQUNtQixJQUFILENBQVEsT0FBUixFQUFpQkosQ0FBakIsRUFBb0JTLFlBQXBCLENBQWlDeEIsRUFBRSxDQUFDaUMsS0FBcEMsRUFBMkNDLE1BQTNDLEdBQW9EbEMsRUFBRSxDQUFDNkIsR0FBSCxDQUFPYSxVQUFQLENBQWtCQyxXQUFsQixDQUE4QkMsT0FBOUIsQ0FDaEQsR0FEZ0QsRUFFaEQ1QyxFQUFFLENBQUM2QixHQUFILENBQU9hLFVBQVAsQ0FBa0JHLGFBQWxCLENBQWdDbEQsQ0FBQyxDQUFDRSxHQUFGLEdBQVEsQ0FBeEMsQ0FGZ0QsQ0FBcEQ7UUFJQUcsRUFBRSxDQUFDOEMsV0FBSCxDQUFlQyxhQUFmLENBQTZCcEIsQ0FBN0IsRUFBZ0MsQ0FBQyxDQUFqQztRQUNBM0IsRUFBRSxDQUFDOEMsV0FBSCxDQUFlQyxhQUFmLENBQTZCbkIsQ0FBN0IsRUFBZ0MsQ0FBQyxDQUFqQztNQUNIOztNQUNELElBQUlZLENBQUMsSUFBSUMsQ0FBVCxFQUFZO1FBQ1IxQixDQUFDLENBQUNKLE1BQUYsR0FBVyxDQUFYO01BQ0gsQ0FGRCxNQUVPO1FBQ0hJLENBQUMsQ0FBQ0osTUFBRixHQUFXLENBQVg7TUFDSDs7TUFDREksQ0FBQyxDQUFDaUMsTUFBRixHQUFXdEMsQ0FBQyxDQUFDTixRQUFGLENBQVc0QyxNQUF0QjtJQUNILENBM0REO0lBNERBLEtBQUsxQyxVQUFMLENBQWdCTSxNQUFoQixHQUF5QkMsQ0FBekI7SUFDQSxLQUFLVCxRQUFMLENBQWNRLE1BQWQsR0FBdUIsQ0FBQyxDQUF4QjtFQUNILENBMUVJO0VBMkVMcUMsWUFBWSxFQUFFLHdCQUFZO0lBQ3RCakQsRUFBRSxDQUFDa0QsWUFBSCxDQUFnQkMsV0FBaEIsQ0FBNEIsSUFBNUI7RUFDSDtBQTdFSSxDQUFUIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgaSA9IFtcbiAgICB7XG4gICAgICAgIGlkMTogMixcbiAgICAgICAgaWQyOiA4LFxuICAgICAgICBpZDM6IDEwMixcbiAgICAgICAgbHYxOiAxXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGlkMTogNSxcbiAgICAgICAgaWQyOiAxLFxuICAgICAgICBpZDM6IDEwNSxcbiAgICAgICAgbHYxOiAzXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGlkMTogOSxcbiAgICAgICAgaWQyOiAxMCxcbiAgICAgICAgaWQzOiAxMDksXG4gICAgICAgIGx2MTogNVxuICAgIH0sXG4gICAge1xuICAgICAgICBpZDE6IDEyLFxuICAgICAgICBpZDI6IDQsXG4gICAgICAgIGlkMzogMTEyLFxuICAgICAgICBsdjE6IDdcbiAgICB9LFxuICAgIHtcbiAgICAgICAgaWQxOiAxMyxcbiAgICAgICAgaWQyOiA2LFxuICAgICAgICBpZDM6IDExMyxcbiAgICAgICAgbHYxOiA3XG4gICAgfVxuXTtcbmNjLkNsYXNzKHtcbiAgICBleHRlbmRzOiBjYy5Db21wb25lbnQsXG4gICAgcHJvcGVydGllczoge1xuICAgICAgICBpdGVtTm9kZTogY2MuTm9kZSxcbiAgICAgICAgdW5sb2NrTGluZTogY2MuTm9kZSxcbiAgICAgICAgaGVyb0pzb25GaWxlOiBjYy5Kc29uQXNzZXRcbiAgICB9LFxuICAgIGluaXRCeTogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdCA9IHRoaXM7XG4gICAgICAgIHRoaXMudW5sb2NrTGluZS56SW5kZXggPSAyO1xuICAgICAgICB0aGlzLml0ZW1Ob2RlLmFjdGl2ZSA9ICEwO1xuICAgICAgICB2YXIgZSA9ICExO1xuICAgICAgICBpLmZvckVhY2goZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIHZhciBuID0gY2MuaW5zdGFudGlhdGUodC5pdGVtTm9kZSk7XG4gICAgICAgICAgICB2YXIgbyA9IHQuaGVyb0pzb25GaWxlLmpzb24uZmluZChmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0LmlkID09IGkuaWQxO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgcyA9IHQuaGVyb0pzb25GaWxlLmpzb24uZmluZChmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0LmlkID09IGkuaWQyO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgYyA9IHQuaGVyb0pzb25GaWxlLmpzb24uZmluZChmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0LmlkID09IGkuaWQzO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgYSA9IGNjLmZpbmQoXCJxMVwiLCBuKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKTtcbiAgICAgICAgICAgIHZhciByID0gY2MuZmluZChcImkxXCIsIG4pLmdldENvbXBvbmVudChjYy5TcHJpdGUpO1xuICAgICAgICAgICAgdmFyIGggPSBjYy5maW5kKFwicTJcIiwgbikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSk7XG4gICAgICAgICAgICB2YXIgZCA9IGNjLmZpbmQoXCJpMlwiLCBuKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKTtcbiAgICAgICAgICAgIGNjLnB2ei51dGlscy5zZXRTcHJpdGVGcmFtZShhLCBcInVpSW1hZ2VcIiwgXCJpdGVtL3B6X1wiICsgby5xdWFsaXR5KTtcbiAgICAgICAgICAgIGNjLnB2ei51dGlscy5zZXRTcHJpdGVGcmFtZShyLCBcInVpSW1hZ2VcIiwgXCJwbGFudC93cS96d19cIiArIGkuaWQxICsgXCJfNFwiKTtcbiAgICAgICAgICAgIGNjLnB2ei51dGlscy5zZXRTcHJpdGVGcmFtZShoLCBcInVpSW1hZ2VcIiwgXCJpdGVtL3B6X1wiICsgcy5xdWFsaXR5KTtcbiAgICAgICAgICAgIGNjLnB2ei51dGlscy5zZXRTcHJpdGVGcmFtZShkLCBcInVpSW1hZ2VcIiwgXCJwbGFudC93cS96d19cIiArIGkuaWQyICsgXCJfNFwiKTtcbiAgICAgICAgICAgIGNjLnB2ei51dGlscy5zZXRTcHJpdGVGcmFtZShcbiAgICAgICAgICAgICAgICBjYy5maW5kKFwiaTNcIiwgbikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSksXG4gICAgICAgICAgICAgICAgXCJ1aUltYWdlXCIsXG4gICAgICAgICAgICAgICAgXCJwbGFudC93cS96d19cIiArIGkuaWQxICsgXCJfNVwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY2MuZmluZChcIm5hbWVcIiwgbikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBjLm5hbWU7XG4gICAgICAgICAgICB2YXIgdSA9IGNjLnB2ei5QbGF5ZXJEYXRhLmdldFRvb2xEYXRhKGkuaWQxKS5sdjtcbiAgICAgICAgICAgIHZhciBwID0gdSA+PSBpLmx2MTtcbiAgICAgICAgICAgIHZhciBsID0gY2MucHZ6LlBsYXllckRhdGEuZ2V0VG9vbERhdGEoaS5pZDIpLmx2ID49IDE7XG4gICAgICAgICAgICBpZiAocCkge1xuICAgICAgICAgICAgICAgIGNjLmZpbmQoXCJsb2NrMVwiLCBuKS5hY3RpdmUgPSAhMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHUgPj0gMSkge1xuICAgICAgICAgICAgICAgICAgICBjYy5maW5kKFwibG9jazFcIiwgbikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcIuetiee6p1wiICsgaS5sdjEgKyBcIuino+mUgVwiO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNjLmZpbmQoXCJsb2NrMVwiLCBuKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IGNjLnB2ei5HYW1lQ29uZmlnLlRvb2xMb2NrVGlwLnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNjLnB2ei5HYW1lQ29uZmlnLlRvb2xMb2NrTGV2ZWxbaS5pZDEgLSAxXVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYy5Kc29uQ29udHJvbC5zZXRTcHJpdGVHcmF5KGEsICEwKTtcbiAgICAgICAgICAgICAgICBjYy5Kc29uQ29udHJvbC5zZXRTcHJpdGVHcmF5KHIsICEwKTtcbiAgICAgICAgICAgICAgICBlID0gITA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobCkge1xuICAgICAgICAgICAgICAgIGNjLmZpbmQoXCJsb2NrMlwiLCBuKS5hY3RpdmUgPSAhMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2MuZmluZChcImxvY2syXCIsIG4pLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gY2MucHZ6LkdhbWVDb25maWcuVG9vbExvY2tUaXAucmVwbGFjZShcbiAgICAgICAgICAgICAgICAgICAgXCIkXCIsXG4gICAgICAgICAgICAgICAgICAgIGNjLnB2ei5HYW1lQ29uZmlnLlRvb2xMb2NrTGV2ZWxbaS5pZDIgLSAxXVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgY2MuSnNvbkNvbnRyb2wuc2V0U3ByaXRlR3JheShoLCAhMCk7XG4gICAgICAgICAgICAgICAgY2MuSnNvbkNvbnRyb2wuc2V0U3ByaXRlR3JheShkLCAhMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocCAmJiBsKSB7XG4gICAgICAgICAgICAgICAgbi56SW5kZXggPSAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuLnpJbmRleCA9IDM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuLnBhcmVudCA9IHQuaXRlbU5vZGUucGFyZW50O1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51bmxvY2tMaW5lLmFjdGl2ZSA9IGU7XG4gICAgICAgIHRoaXMuaXRlbU5vZGUuYWN0aXZlID0gITE7XG4gICAgfSxcbiAgICBvbkNsaWNrQ2xvc2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2MucG9wdXBNYW5hZ2VyLnJlbW92ZVBvcHVwKHRoaXMpO1xuICAgIH1cbn0pO1xuIl19