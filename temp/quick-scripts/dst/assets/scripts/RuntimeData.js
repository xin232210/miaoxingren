
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/RuntimeData.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b0885+oCPJBKa6AE7raczBC', 'RuntimeData');
// scripts/RuntimeData.js

"use strict";

var o = {
  showGame1st: !1,
  mode: 0,
  level: 1,
  money: 0,
  autoTimes: 0,
  freeTimes: 1,
  lv2Count: 1,
  wave: 0,
  lv: 0,
  exp: 0,
  speed: 1,
  blocks: [],
  items: [],
  bagItems: [],
  buffs: [],
  buffValues: {},
  actBuff1: -1,
  actBuff2: -1,
  openSpeed: !0,
  hasReborn: !1,
  forceAdWave: 3,
  tryPlantId: 0,
  stats: [],
  guide: 0,
  adBlockCount: 3,
  buyCoinCount: 10,
  buffRefreshCount: 3,
  buffAllCount: 1,
  anger: 500,
  hasUseReborn: !1,
  init: function init(e, t) {
    this.removeData();
    this.showGame1st = !1;
    this.mode = e;
    this.level = t;
    this.anger = 500;
    this.hasUseReborn = !1;
    this.blocks = [];
    var o = null;

    switch (this.mode) {
      case 0:
        o = cc.JsonControl.levelDataJson[this.level - 1];
        this.actBuff1 = -1;
        this.actBuff2 = -1;

        for (var a = 2; a < 5; a++) {
          for (var n = 1; n < 4; n++) {
            this.blocks.push(5 * a + n);
          }
        }

        break;

      case 1:
        o = cc.JsonControl.ActLevelJson[this.level - 1];
        this.actBuff1 = cc.player.actLevelData.buffList[0];
        this.actBuff2 = cc.player.actLevelData.buffList[1];

        for (var i = 1; i < 6; i++) {
          for (var c = 1; c < 4; c++) {
            this.blocks.push(5 * i + c);
          }
        }

        break;

      case 2:
        o = cc.JsonControl.rankLevelJsonFile.json[0];
        this.actBuff1 = -1;
        this.actBuff2 = -1;

        for (var s = 2; s < 5; s++) {
          for (var r = 1; r < 4; r++) {
            this.blocks.push(5 * s + r);
          }
        }

        this.buyCoinCount = 20;
        this.buffRefreshCount = 3;
        this.buffAllCount = 1;
    }

    this.money = o.startyinbi;
    this.tryPlantId = 0;
    this.stats = new Array(14).fill(0);
    this.autoTimes = 1;
    this.freeTimes = 1;
    this.lv2Count = 1;
    this.wave = 0;
    this.lv = 0;
    this.exp = 0;
    this.speed = 1;
    this.openSpeed = !0;
    this.items = [];
    this.bagItems = [];
    this.buffs = [];
    this.buffValues = {};
    this.buffInfo = null;
    this.hasReborn = !1;
    this.forceAdWave = 3;
    this.adBlockCount = 3;
    this.guide = 0;
  },
  loadJsonData: function loadJsonData(e) {
    var t = this;

    if (!this.buffInfo) {
      this.buffInfo = {};
      var o = new Set();
      e.forEach(function (e) {
        t.buffInfo[e.id] = {
          type: e.type,
          value: e.value
        };
        o.add(e.type);
      });
      o.forEach(function (e) {
        t.buffValues[e] = 0;
      });
    }
  },
  addMoney: function addMoney(e) {
    this.money += e;

    if (e > 0) {
      cc.butler.playEffectAsync("game", "sound/getSunShine");
    }

    cc.butler.node.emit("money");
  },
  hasEnableBuff: function hasEnableBuff(e) {
    return this.buffs.some(function (t) {
      return t == e;
    });
  },
  getBuffValue: function getBuffValue(e) {
    return this.buffValues[e];
  },
  addBuff: function addBuff(e) {
    var t = this.buffInfo[e];

    switch (t.type) {
      case 1:
        break;

      case 6:
        this.addMoney(t.value);
        break;

      case 12:
        var o = [];
        this.items.forEach(function (e, t) {
          if (e.lv < 3) {
            o.push(t);
          }
        });

        if (o.length > 0) {
          var a = o[cc.math.randomRangeInt(0, o.length)];
          var n = this.items[a];
          n.lv++;
          cc.butler.node.emit("lvup", a, n.lv);
        }

    }

    this.buffValues[t.type] += t.value;
    this.buffs.push(e);

    if (1 == t.type) {
      cc.butler.node.emit("maxHp");
    }
  },
  hasPreGame: function hasPreGame() {
    var e = cc.sys.localStorage.getItem("kapi-rt1");
    return !!e && (this.preData = JSON.parse(e), !0);
  },
  saveData: function saveData() {
    delete this.preData;
    cc.sys.localStorage.setItem("kapi-rt1", JSON.stringify(this));
  },
  removeData: function removeData() {
    cc.sys.localStorage.removeItem("kapi-rt1");
    delete this.preData;
  },
  initByPreData: function initByPreData() {
    var e = this;
    Object.keys(this.preData).forEach(function (t) {
      e[t] = e.preData[t];
    });
  }
};

if (cc.pvz) {//
} else {
  cc.pvz = {};
}

cc.pvz.runtimeData = o;
module.exports = o;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHRzL1J1bnRpbWVEYXRhLmpzIl0sIm5hbWVzIjpbIm8iLCJzaG93R2FtZTFzdCIsIm1vZGUiLCJsZXZlbCIsIm1vbmV5IiwiYXV0b1RpbWVzIiwiZnJlZVRpbWVzIiwibHYyQ291bnQiLCJ3YXZlIiwibHYiLCJleHAiLCJzcGVlZCIsImJsb2NrcyIsIml0ZW1zIiwiYmFnSXRlbXMiLCJidWZmcyIsImJ1ZmZWYWx1ZXMiLCJhY3RCdWZmMSIsImFjdEJ1ZmYyIiwib3BlblNwZWVkIiwiaGFzUmVib3JuIiwiZm9yY2VBZFdhdmUiLCJ0cnlQbGFudElkIiwic3RhdHMiLCJndWlkZSIsImFkQmxvY2tDb3VudCIsImJ1eUNvaW5Db3VudCIsImJ1ZmZSZWZyZXNoQ291bnQiLCJidWZmQWxsQ291bnQiLCJhbmdlciIsImhhc1VzZVJlYm9ybiIsImluaXQiLCJlIiwidCIsInJlbW92ZURhdGEiLCJjYyIsIkpzb25Db250cm9sIiwibGV2ZWxEYXRhSnNvbiIsImEiLCJuIiwicHVzaCIsIkFjdExldmVsSnNvbiIsInBsYXllciIsImFjdExldmVsRGF0YSIsImJ1ZmZMaXN0IiwiaSIsImMiLCJyYW5rTGV2ZWxKc29uRmlsZSIsImpzb24iLCJzIiwiciIsInN0YXJ0eWluYmkiLCJBcnJheSIsImZpbGwiLCJidWZmSW5mbyIsImxvYWRKc29uRGF0YSIsIlNldCIsImZvckVhY2giLCJpZCIsInR5cGUiLCJ2YWx1ZSIsImFkZCIsImFkZE1vbmV5IiwiYnV0bGVyIiwicGxheUVmZmVjdEFzeW5jIiwibm9kZSIsImVtaXQiLCJoYXNFbmFibGVCdWZmIiwic29tZSIsImdldEJ1ZmZWYWx1ZSIsImFkZEJ1ZmYiLCJsZW5ndGgiLCJtYXRoIiwicmFuZG9tUmFuZ2VJbnQiLCJoYXNQcmVHYW1lIiwic3lzIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInByZURhdGEiLCJKU09OIiwicGFyc2UiLCJzYXZlRGF0YSIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJyZW1vdmVJdGVtIiwiaW5pdEJ5UHJlRGF0YSIsIk9iamVjdCIsImtleXMiLCJwdnoiLCJydW50aW1lRGF0YSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsQ0FBQyxHQUFHO0VBQ0pDLFdBQVcsRUFBRSxDQUFDLENBRFY7RUFFSkMsSUFBSSxFQUFFLENBRkY7RUFHSkMsS0FBSyxFQUFFLENBSEg7RUFJSkMsS0FBSyxFQUFFLENBSkg7RUFLSkMsU0FBUyxFQUFFLENBTFA7RUFNSkMsU0FBUyxFQUFFLENBTlA7RUFPSkMsUUFBUSxFQUFFLENBUE47RUFRSkMsSUFBSSxFQUFFLENBUkY7RUFTSkMsRUFBRSxFQUFFLENBVEE7RUFVSkMsR0FBRyxFQUFFLENBVkQ7RUFXSkMsS0FBSyxFQUFFLENBWEg7RUFZSkMsTUFBTSxFQUFFLEVBWko7RUFhSkMsS0FBSyxFQUFFLEVBYkg7RUFjSkMsUUFBUSxFQUFFLEVBZE47RUFlSkMsS0FBSyxFQUFFLEVBZkg7RUFnQkpDLFVBQVUsRUFBRSxFQWhCUjtFQWlCSkMsUUFBUSxFQUFFLENBQUMsQ0FqQlA7RUFrQkpDLFFBQVEsRUFBRSxDQUFDLENBbEJQO0VBbUJKQyxTQUFTLEVBQUUsQ0FBQyxDQW5CUjtFQW9CSkMsU0FBUyxFQUFFLENBQUMsQ0FwQlI7RUFxQkpDLFdBQVcsRUFBRSxDQXJCVDtFQXNCSkMsVUFBVSxFQUFFLENBdEJSO0VBdUJKQyxLQUFLLEVBQUUsRUF2Qkg7RUF3QkpDLEtBQUssRUFBRSxDQXhCSDtFQXlCSkMsWUFBWSxFQUFFLENBekJWO0VBMEJKQyxZQUFZLEVBQUUsRUExQlY7RUEyQkpDLGdCQUFnQixFQUFFLENBM0JkO0VBNEJKQyxZQUFZLEVBQUUsQ0E1QlY7RUE2QkpDLEtBQUssRUFBRSxHQTdCSDtFQThCSkMsWUFBWSxFQUFFLENBQUMsQ0E5Qlg7RUErQkpDLElBQUksRUFBRSxjQUFVQyxDQUFWLEVBQWFDLENBQWIsRUFBZ0I7SUFDbEIsS0FBS0MsVUFBTDtJQUNBLEtBQUtqQyxXQUFM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Q0ksU0FBTCxDQUFlLElBQWYsQ0FBeEM7RUFDSCxDQWxLRztFQW1LSmpELFVBQVUsRUFBRSxzQkFBWTtJQUNwQkMsRUFBRSxDQUFDd0MsR0FBSCxDQUFPQyxZQUFQLENBQW9CUSxVQUFwQixDQUErQixVQUEvQjtJQUNBLE9BQU8sS0FBS04sT0FBWjtFQUNILENBdEtHO0VBdUtKTyxhQUFhLEVBQUUseUJBQVk7SUFDdkIsSUFBSXJELENBQUMsR0FBRyxJQUFSO0lBQ0FzRCxNQUFNLENBQUNDLElBQVAsQ0FBWSxLQUFLVCxPQUFqQixFQUEwQnJCLE9BQTFCLENBQWtDLFVBQVV4QixDQUFWLEVBQWE7TUFDM0NELENBQUMsQ0FBQ0MsQ0FBRCxDQUFELEdBQU9ELENBQUMsQ0FBQzhDLE9BQUYsQ0FBVTdDLENBQVYsQ0FBUDtJQUNILENBRkQ7RUFHSDtBQTVLRyxDQUFSOztBQThLQSxJQUFJRSxFQUFFLENBQUNxRCxHQUFQLEVBQVksQ0FDUjtBQUNILENBRkQsTUFFTztFQUNIckQsRUFBRSxDQUFDcUQsR0FBSCxHQUFTLEVBQVQ7QUFDSDs7QUFDRHJELEVBQUUsQ0FBQ3FELEdBQUgsQ0FBT0MsV0FBUCxHQUFxQnpGLENBQXJCO0FBQ0EwRixNQUFNLENBQUNDLE9BQVAsR0FBaUIzRixDQUFqQiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsidmFyIG8gPSB7XG4gICAgc2hvd0dhbWUxc3Q6ICExLFxuICAgIG1vZGU6IDAsXG4gICAgbGV2ZWw6IDEsXG4gICAgbW9uZXk6IDAsXG4gICAgYXV0b1RpbWVzOiAwLFxuICAgIGZyZWVUaW1lczogMSxcbiAgICBsdjJDb3VudDogMSxcbiAgICB3YXZlOiAwLFxuICAgIGx2OiAwLFxuICAgIGV4cDogMCxcbiAgICBzcGVlZDogMSxcbiAgICBibG9ja3M6IFtdLFxuICAgIGl0ZW1zOiBbXSxcbiAgICBiYWdJdGVtczogW10sXG4gICAgYnVmZnM6IFtdLFxuICAgIGJ1ZmZWYWx1ZXM6IHt9LFxuICAgIGFjdEJ1ZmYxOiAtMSxcbiAgICBhY3RCdWZmMjogLTEsXG4gICAgb3BlblNwZWVkOiAhMCxcbiAgICBoYXNSZWJvcm46ICExLFxuICAgIGZvcmNlQWRXYXZlOiAzLFxuICAgIHRyeVBsYW50SWQ6IDAsXG4gICAgc3RhdHM6IFtdLFxuICAgIGd1aWRlOiAwLFxuICAgIGFkQmxvY2tDb3VudDogMyxcbiAgICBidXlDb2luQ291bnQ6IDEwLFxuICAgIGJ1ZmZSZWZyZXNoQ291bnQ6IDMsXG4gICAgYnVmZkFsbENvdW50OiAxLFxuICAgIGFuZ2VyOiA1MDAsXG4gICAgaGFzVXNlUmVib3JuOiAhMSxcbiAgICBpbml0OiBmdW5jdGlvbiAoZSwgdCkge1xuICAgICAgICB0aGlzLnJlbW92ZURhdGEoKTtcbiAgICAgICAgdGhpcy5zaG93R2FtZTFzdCA9ICExO1xuICAgICAgICB0aGlzLm1vZGUgPSBlO1xuICAgICAgICB0aGlzLmxldmVsID0gdDtcbiAgICAgICAgdGhpcy5hbmdlciA9IDUwMDtcbiAgICAgICAgdGhpcy5oYXNVc2VSZWJvcm4gPSAhMTtcbiAgICAgICAgdGhpcy5ibG9ja3MgPSBbXTtcbiAgICAgICAgdmFyIG8gPSBudWxsO1xuICAgICAgICBzd2l0Y2ggKHRoaXMubW9kZSkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG8gPSBjYy5Kc29uQ29udHJvbC5sZXZlbERhdGFKc29uW3RoaXMubGV2ZWwgLSAxXTtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdEJ1ZmYxID0gLTE7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3RCdWZmMiA9IC0xO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGEgPSAyOyBhIDwgNTsgYSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG4gPSAxOyBuIDwgNDsgbisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJsb2Nrcy5wdXNoKDUgKiBhICsgbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgbyA9IGNjLkpzb25Db250cm9sLkFjdExldmVsSnNvblt0aGlzLmxldmVsIC0gMV07XG4gICAgICAgICAgICAgICAgdGhpcy5hY3RCdWZmMSA9IGNjLnBsYXllci5hY3RMZXZlbERhdGEuYnVmZkxpc3RbMF07XG4gICAgICAgICAgICAgICAgdGhpcy5hY3RCdWZmMiA9IGNjLnBsYXllci5hY3RMZXZlbERhdGEuYnVmZkxpc3RbMV07XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCA2OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYyA9IDE7IGMgPCA0OyBjKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmxvY2tzLnB1c2goNSAqIGkgKyBjKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBvID0gY2MuSnNvbkNvbnRyb2wucmFua0xldmVsSnNvbkZpbGUuanNvblswXTtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdEJ1ZmYxID0gLTE7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3RCdWZmMiA9IC0xO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHMgPSAyOyBzIDwgNTsgcysrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHIgPSAxOyByIDwgNDsgcisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJsb2Nrcy5wdXNoKDUgKiBzICsgcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5idXlDb2luQ291bnQgPSAyMDtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZSZWZyZXNoQ291bnQgPSAzO1xuICAgICAgICAgICAgICAgIHRoaXMuYnVmZkFsbENvdW50ID0gMTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vbmV5ID0gby5zdGFydHlpbmJpO1xuICAgICAgICB0aGlzLnRyeVBsYW50SWQgPSAwO1xuICAgICAgICB0aGlzLnN0YXRzID0gbmV3IEFycmF5KDE0KS5maWxsKDApO1xuICAgICAgICB0aGlzLmF1dG9UaW1lcyA9IDE7XG4gICAgICAgIHRoaXMuZnJlZVRpbWVzID0gMTtcbiAgICAgICAgdGhpcy5sdjJDb3VudCA9IDE7XG4gICAgICAgIHRoaXMud2F2ZSA9IDA7XG4gICAgICAgIHRoaXMubHYgPSAwO1xuICAgICAgICB0aGlzLmV4cCA9IDA7XG4gICAgICAgIHRoaXMuc3BlZWQgPSAxO1xuICAgICAgICB0aGlzLm9wZW5TcGVlZCA9ICEwO1xuICAgICAgICB0aGlzLml0ZW1zID0gW107XG4gICAgICAgIHRoaXMuYmFnSXRlbXMgPSBbXTtcbiAgICAgICAgdGhpcy5idWZmcyA9IFtdO1xuICAgICAgICB0aGlzLmJ1ZmZWYWx1ZXMgPSB7fTtcbiAgICAgICAgdGhpcy5idWZmSW5mbyA9IG51bGw7XG4gICAgICAgIHRoaXMuaGFzUmVib3JuID0gITE7XG4gICAgICAgIHRoaXMuZm9yY2VBZFdhdmUgPSAzO1xuICAgICAgICB0aGlzLmFkQmxvY2tDb3VudCA9IDM7XG4gICAgICAgIHRoaXMuZ3VpZGUgPSAwO1xuICAgIH0sXG4gICAgbG9hZEpzb25EYXRhOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgdCA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5idWZmSW5mbykge1xuICAgICAgICAgICAgdGhpcy5idWZmSW5mbyA9IHt9O1xuICAgICAgICAgICAgdmFyIG8gPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICBlLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICB0LmJ1ZmZJbmZvW2UuaWRdID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBlLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBlLnZhbHVlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBvLmFkZChlLnR5cGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBvLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICB0LmJ1ZmZWYWx1ZXNbZV0gPSAwO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFkZE1vbmV5OiBmdW5jdGlvbiAoZSkge1xuICAgICAgICB0aGlzLm1vbmV5ICs9IGU7XG4gICAgICAgIGlmIChlID4gMCkge1xuICAgICAgICAgICAgY2MuYnV0bGVyLnBsYXlFZmZlY3RBc3luYyhcImdhbWVcIiwgXCJzb3VuZC9nZXRTdW5TaGluZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBjYy5idXRsZXIubm9kZS5lbWl0KFwibW9uZXlcIik7XG4gICAgfSxcbiAgICBoYXNFbmFibGVCdWZmOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5idWZmcy5zb21lKGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICByZXR1cm4gdCA9PSBlO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGdldEJ1ZmZWYWx1ZTogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZlZhbHVlc1tlXTtcbiAgICB9LFxuICAgIGFkZEJ1ZmY6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciB0ID0gdGhpcy5idWZmSW5mb1tlXTtcbiAgICAgICAgc3dpdGNoICh0LnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICB0aGlzLmFkZE1vbmV5KHQudmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICB2YXIgbyA9IFtdO1xuICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoZSwgdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5sdiA8IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG8ucHVzaCh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChvLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSBvW2NjLm1hdGgucmFuZG9tUmFuZ2VJbnQoMCwgby5sZW5ndGgpXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSB0aGlzLml0ZW1zW2FdO1xuICAgICAgICAgICAgICAgICAgICBuLmx2Kys7XG4gICAgICAgICAgICAgICAgICAgIGNjLmJ1dGxlci5ub2RlLmVtaXQoXCJsdnVwXCIsIGEsIG4ubHYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ1ZmZWYWx1ZXNbdC50eXBlXSArPSB0LnZhbHVlO1xuICAgICAgICB0aGlzLmJ1ZmZzLnB1c2goZSk7XG4gICAgICAgIGlmICgxID09IHQudHlwZSkge1xuICAgICAgICAgICAgY2MuYnV0bGVyLm5vZGUuZW1pdChcIm1heEhwXCIpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBoYXNQcmVHYW1lOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlID0gY2Muc3lzLmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwia2FwaS1ydDFcIik7XG4gICAgICAgIHJldHVybiAhIWUgJiYgKCh0aGlzLnByZURhdGEgPSBKU09OLnBhcnNlKGUpKSwgITApO1xuICAgIH0sXG4gICAgc2F2ZURhdGE6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMucHJlRGF0YTtcbiAgICAgICAgY2Muc3lzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwia2FwaS1ydDFcIiwgSlNPTi5zdHJpbmdpZnkodGhpcykpO1xuICAgIH0sXG4gICAgcmVtb3ZlRGF0YTogZnVuY3Rpb24gKCkge1xuICAgICAgICBjYy5zeXMubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJrYXBpLXJ0MVwiKTtcbiAgICAgICAgZGVsZXRlIHRoaXMucHJlRGF0YTtcbiAgICB9LFxuICAgIGluaXRCeVByZURhdGE6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGUgPSB0aGlzO1xuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLnByZURhdGEpLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgIGVbdF0gPSBlLnByZURhdGFbdF07XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5pZiAoY2MucHZ6KSB7XG4gICAgLy9cbn0gZWxzZSB7XG4gICAgY2MucHZ6ID0ge307XG59XG5jYy5wdnoucnVudGltZURhdGEgPSBvO1xubW9kdWxlLmV4cG9ydHMgPSBvO1xuIl19