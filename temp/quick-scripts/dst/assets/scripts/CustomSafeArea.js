
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/CustomSafeArea.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ec394g+uDNETL/uJudd6l8Y', 'CustomSafeArea');
// scripts/CustomSafeArea.js

"use strict";

var o = cc.Enum({
  WIN: 0,
  PARENT: 1,
  CANVAS: 2
});
cc.Class({
  "extends": cc.SafeArea,
  properties: {
    fitTarget: {
      type: o,
      "default": o.WIN
    },
    ensureLeft: !0,
    ensureRight: !0,
    ensureTop: !0,
    ensureBottom: !0,
    top: 0
  },
  updateArea: function updateArea() {
    var e = this.getComponent(cc.Widget);

    if (e) {
      e.updateAlignment();
      this.node.position;
      this.node.getAnchorPoint();
      var t = 0;
      var a = 0;

      switch (this.fitTarget) {
        case o.WIN:
          t = cc.winSize.width;
          a = cc.winSize.height;
          break;

        case o.PARENT:
          t = this.node.parent.width;
          a = this.node.parent.height;
          break;

        case o.CANVAS:
          t = cc.view.getCanvasSize().width;
          a = cc.view.getCanvasSize().height;
      }

      var n = cc.sys.getSafeAreaRect();

      if (this.ensureLeft) {
        e.isAlignLeft = !0;

        if (cc.sys.platform == cc.sys.WECHAT_GAME) {
          var i;

          if (wx.getWindowInfo) {
            i = wx.getWindowInfo();
          } else {
            i = wx.getSystemInfoSync();
          }

          if (i.safeArea) {
            e.left = 1600 * i.safeArea.left / i.screenWidth;
          } else {
            e.left = 0;
          }
        } else {
          e.left = 0;
        }

        console.log("ensureLeft:", e.left);
      }

      if (this.ensureRight) {
        e.isAlignRight = !0;
        e.right = t - n.x - n.width;
        console.log("ensureRight:", e.right);
      }

      if (this.ensureTop) {
        e.isAlignTop = !0;
        e.top = a - n.y - n.height + this.top;
        console.log("ensureTop:", e.top);
      }

      if (this.ensureBottom) {
        e.isAlignBottom = !0;
        e.bottom = n.y;
        console.log("ensureBottom:", e.bottom);
      }

      e.updateAlignment();

      cc._widgetManager.add(e);
    }
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHRzL0N1c3RvbVNhZmVBcmVhLmpzIl0sIm5hbWVzIjpbIm8iLCJjYyIsIkVudW0iLCJXSU4iLCJQQVJFTlQiLCJDQU5WQVMiLCJDbGFzcyIsIlNhZmVBcmVhIiwicHJvcGVydGllcyIsImZpdFRhcmdldCIsInR5cGUiLCJlbnN1cmVMZWZ0IiwiZW5zdXJlUmlnaHQiLCJlbnN1cmVUb3AiLCJlbnN1cmVCb3R0b20iLCJ0b3AiLCJ1cGRhdGVBcmVhIiwiZSIsImdldENvbXBvbmVudCIsIldpZGdldCIsInVwZGF0ZUFsaWdubWVudCIsIm5vZGUiLCJwb3NpdGlvbiIsImdldEFuY2hvclBvaW50IiwidCIsImEiLCJ3aW5TaXplIiwid2lkdGgiLCJoZWlnaHQiLCJwYXJlbnQiLCJ2aWV3IiwiZ2V0Q2FudmFzU2l6ZSIsIm4iLCJzeXMiLCJnZXRTYWZlQXJlYVJlY3QiLCJpc0FsaWduTGVmdCIsInBsYXRmb3JtIiwiV0VDSEFUX0dBTUUiLCJpIiwid3giLCJnZXRXaW5kb3dJbmZvIiwiZ2V0U3lzdGVtSW5mb1N5bmMiLCJzYWZlQXJlYSIsImxlZnQiLCJzY3JlZW5XaWR0aCIsImNvbnNvbGUiLCJsb2ciLCJpc0FsaWduUmlnaHQiLCJyaWdodCIsIngiLCJpc0FsaWduVG9wIiwieSIsImlzQWxpZ25Cb3R0b20iLCJib3R0b20iLCJfd2lkZ2V0TWFuYWdlciIsImFkZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxDQUFDLEdBQUdDLEVBQUUsQ0FBQ0MsSUFBSCxDQUFRO0VBQ1pDLEdBQUcsRUFBRSxDQURPO0VBRVpDLE1BQU0sRUFBRSxDQUZJO0VBR1pDLE1BQU0sRUFBRTtBQUhJLENBQVIsQ0FBUjtBQUtBSixFQUFFLENBQUNLLEtBQUgsQ0FBUztFQUNMLFdBQVNMLEVBQUUsQ0FBQ00sUUFEUDtFQUVMQyxVQUFVLEVBQUU7SUFDUkMsU0FBUyxFQUFFO01BQ1BDLElBQUksRUFBRVYsQ0FEQztNQUVQLFdBQVNBLENB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TyxDQUFDLENBQUNtQixDQUFOLEdBQVVuQixDQUFDLENBQUNKLE1BQVosR0FBcUIsS0FBS2IsR0FBbEM7UUFDQThCLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFlBQVosRUFBMEI3QixDQUFDLENBQUNGLEdBQTVCO01BQ0g7O01BQ0QsSUFBSSxLQUFLRCxZQUFULEVBQXVCO1FBQ25CRyxDQUFDLENBQUNtQyxhQUFGLEdBQWtCLENBQUMsQ0FBbkI7UUFDQW5DLENBQUMsQ0FBQ29DLE1BQUYsR0FBV3JCLENBQUMsQ0FBQ21CLENBQWI7UUFDQU4sT0FBTyxDQUFDQyxHQUFSLENBQVksZUFBWixFQUE2QjdCLENBQUMsQ0FBQ29DLE1BQS9CO01BQ0g7O01BQ0RwQyxDQUFDLENBQUNHLGVBQUY7O01BQ0FuQixFQUFFLENBQUNxRCxjQUFILENBQWtCQyxHQUFsQixDQUFzQnRDLENBQXRCO0lBQ0g7RUFDSjtBQXhFSSxDQUFUIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbyA9IGNjLkVudW0oe1xuICAgIFdJTjogMCxcbiAgICBQQVJFTlQ6IDEsXG4gICAgQ0FOVkFTOiAyXG59KTtcbmNjLkNsYXNzKHtcbiAgICBleHRlbmRzOiBjYy5TYWZlQXJlYSxcbiAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgIGZpdFRhcmdldDoge1xuICAgICAgICAgICAgdHlwZTogbyxcbiAgICAgICAgICAgIGRlZmF1bHQ6IG8uV0lOXG4gICAgICAgIH0sXG4gICAgICAgIGVuc3VyZUxlZnQ6ICEwLFxuICAgICAgICBlbnN1cmVSaWdodDogITAsXG4gICAgICAgIGVuc3VyZVRvcDogITAsXG4gICAgICAgIGVuc3VyZUJvdHRvbTogITAsXG4gICAgICAgIHRvcDogMFxuICAgIH0sXG4gICAgdXBkYXRlQXJlYTogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZSA9IHRoaXMuZ2V0Q29tcG9uZW50KGNjLldpZGdldCk7XG4gICAgICAgIGlmIChlKSB7XG4gICAgICAgICAgICBlLnVwZGF0ZUFsaWdubWVudCgpO1xuICAgICAgICAgICAgdGhpcy5ub2RlLnBvc2l0aW9uO1xuICAgICAgICAgICAgdGhpcy5ub2RlLmdldEFuY2hvclBvaW50KCk7XG4gICAgICAgICAgICB2YXIgdCA9IDA7XG4gICAgICAgICAgICB2YXIgYSA9IDA7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuZml0VGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgY2FzZSBvLldJTjpcbiAgICAgICAgICAgICAgICAgICAgdCA9IGNjLndpblNpemUud2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIGEgPSBjYy53aW5TaXplLmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBvLlBBUkVOVDpcbiAgICAgICAgICAgICAgICAgICAgdCA9IHRoaXMubm9kZS5wYXJlbnQud2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIGEgPSB0aGlzLm5vZGUucGFyZW50LmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBvLkNBTlZBUzpcbiAgICAgICAgICAgICAgICAgICAgdCA9IGNjLnZpZXcuZ2V0Q2FudmFzU2l6ZSgpLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICBhID0gY2Mudmlldy5nZXRDYW52YXNTaXplKCkuaGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG4gPSBjYy5zeXMuZ2V0U2FmZUFyZWFSZWN0KCk7XG4gICAgICAgICAgICBpZiAodGhpcy5lbnN1cmVMZWZ0KSB7XG4gICAgICAgICAgICAgICAgZS5pc0FsaWduTGVmdCA9ICEwO1xuICAgICAgICAgICAgICAgIGlmIChjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLldFQ0hBVF9HQU1FKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpO1xuICAgICAgICAgICAgICAgICAgICBpZiAod3guZ2V0V2luZG93SW5mbykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaSA9IHd4LmdldFdpbmRvd0luZm8oKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSB3eC5nZXRTeXN0ZW1JbmZvU3luYygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChpLnNhZmVBcmVhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLmxlZnQgPSAoMTYwMCAqIGkuc2FmZUFyZWEubGVmdCkgLyBpLnNjcmVlbldpZHRoO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5sZWZ0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGUubGVmdCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZW5zdXJlTGVmdDpcIiwgZS5sZWZ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmVuc3VyZVJpZ2h0KSB7XG4gICAgICAgICAgICAgICAgZS5pc0FsaWduUmlnaHQgPSAhMDtcbiAgICAgICAgICAgICAgICBlLnJpZ2h0ID0gdCAtIG4ueCAtIG4ud2lkdGg7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJlbnN1cmVSaWdodDpcIiwgZS5yaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5lbnN1cmVUb3ApIHtcbiAgICAgICAgICAgICAgICBlLmlzQWxpZ25Ub3AgPSAhMDtcbiAgICAgICAgICAgICAgICBlLnRvcCA9IGEgLSBuLnkgLSBuLmhlaWdodCArIHRoaXMudG9wO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZW5zdXJlVG9wOlwiLCBlLnRvcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5lbnN1cmVCb3R0b20pIHtcbiAgICAgICAgICAgICAgICBlLmlzQWxpZ25Cb3R0b20gPSAhMDtcbiAgICAgICAgICAgICAgICBlLmJvdHRvbSA9IG4ueTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImVuc3VyZUJvdHRvbTpcIiwgZS5ib3R0b20pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZS51cGRhdGVBbGlnbm1lbnQoKTtcbiAgICAgICAgICAgIGNjLl93aWRnZXRNYW5hZ2VyLmFkZChlKTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuIl19