
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/PrefabInfo.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b969bx+7YhL9p7F4HPdvrXY', 'PrefabInfo');
// scripts/PrefabInfo.js

"use strict";

cc.Class({
  "extends": cc.Component,
  properties: {
    prefab: cc.Node,
    prefabAsset: cc.Prefab,
    clazz: "",
    count: 0,
    root: cc.Node
  },
  onLoad: function onLoad() {
    this.init();

    if (cc.hasHackNode) {//
    } else {
      cc.hasHackNode = !0;

      cc._BaseNode.prototype._onSetParent = function (e) {
        if (null == e && this.__pool) {
          this.__poolCounter++;
          this.__isInPool = !0;

          this.__pool.put(this);
        }
      };
    }
  },
  onDestroy: function onDestroy() {
    if (this.hasInit) {
      var e = 0;

      for (var t = this.pool.size(); e < t; e++) {
        this.pool.get().destroy();
      }
    }
  },
  lazyInit: function lazyInit() {
    if (this.hasInit) {//
    } else {
      this.hasInit = !0;

      if (this.prefab) {
        this.prefab.__isInPool = !1;
        this.prefab.active = !1;
        this.prefab.position = cc.Vec2.ZERO;
      }

      if (this.clazz.length > 0) {
        this.pool = new cc.NodePool(this.clazz);
      } else {
        this.pool = new cc.NodePool();
      }
    }
  },
  init: function init() {
    if (this.count >= 0) {
      this.lazyInit();
      var e = this.prefab || this.prefabAsset;

      for (var t = 0; t < this.count; t++) {
        var o = cc.instantiate(e);
        o.__poolCounter = 0;
        o.__isInPool = !0;
        o.__pool = this.pool;
        this.pool.put(o);
      }
    }
  },
  newNode: function newNode() {
    this.lazyInit();
    var e = null;

    if (this.pool && this.pool.size() > 0) {
      e = this.pool.get();
    } else {
      (e = cc.instantiate(this.prefab || this.prefabAsset)).__poolCounter = 0;
    }

    e.__isInPool = !1;
    e.__pool = this.pool;
    return e;
  },
  addNodeByWorldPos: function addNodeByWorldPos(e) {
    return this.addNode(this.root.convertToNodeSpaceAR(e));
  },
  addNode: function addNode(e) {
    return this.addNodeTo(this.root, e);
  },
  addNodeTo: function addNodeTo(e, t) {
    var o = this.newNode();

    if (t) {
      o.position = t;
    }

    o.parent = e;
    o.active = !0;

    o._calculWorldMatrix();

    return o;
  },
  addEffectNode: function addEffectNode(e, t, o) {
    if (void 0 === o) {
      o = 1;
    }

    var a = this.newNode();
    a.parent = this.root;
    a.active = !0;
    a.getComponent("EffectFly").initEffect(e, t, o);

    a._calculWorldMatrix();

    return a;
  },
  addBattleEffectNode: function addBattleEffectNode(e, t) {
    var o = this.newNode();
    o.parent = this.root;
    o.active = !0;
    o.getComponent("EffectBattleNum").initEffect(e, t);

    o._calculWorldMatrix();

    return o;
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHRzL1ByZWZhYkluZm8uanMiXSwibmFtZXMiOlsiY2MiLCJDbGFzcyIsIkNvbXBvbmVudCIsInByb3BlcnRpZXMiLCJwcmVmYWIiLCJOb2RlIiwicHJlZmFiQXNzZXQiLCJQcmVmYWIiLCJjbGF6eiIsImNvdW50Iiwicm9vdCIsIm9uTG9hZCIsImluaXQiLCJoYXNIYWNrTm9kZSIsIl9CYXNlTm9kZSIsInByb3RvdHlwZSIsIl9vblNldFBhcmVudCIsImUiLCJfX3Bvb2wiLCJfX3Bvb2xDb3VudGVyIiwiX19pc0luUG9vbCIsInB1dCIsIm9uRGVzdHJveSIsImhhc0luaXQiLCJ0IiwicG9vbCIsInNpemUiLCJnZXQiLCJkZXN0cm95IiwibGF6eUluaXQiLCJhY3RpdmUiLCJwb3NpdGlvbiIsIlZlYzIiLCJaRVJPIiwibGVuZ3RoIiwiTm9kZVBvb2wiLCJvIiwiaW5zdGFudGlhdGUiLCJuZXdOb2RlIiwiYWRkTm9kZUJ5V29ybGRQb3MiLCJhZGROb2RlIiwiY29udmVydFRvTm9kZVNwYWNlQVIiLCJhZGROb2RlVG8iLCJwYXJlbnQiLCJfY2FsY3VsV29ybGRNYXRyaXgiLCJhZGRFZmZlY3ROb2RlIiwiYSIsImdldENvbXBvbmVudCIsImluaXRFZmZlY3QiLCJhZGRCYXR0bGVFZmZlY3ROb2RlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBQSxFQUFFLENBQUNDLEtBQUgsQ0FBUztFQUNMLFdBQVNELEVBQUUsQ0FBQ0UsU0FEUDtFQUVMQyxVQUFVLEVBQUU7SUFDUkMsTUFBTSxFQUFFSixFQUFFLENBQUNLLElBREg7SUFFUkMsV0FBVyxFQUFFTixFQUFFLENBQUNPLE1BRlI7SUFHUkMsS0FBSyxFQUFFLEVBSEM7SUFJUkMsS0FBSyxFQUFFLENBSkM7SUFLUkMsSUFBSSxFQUFFVixFQUFFLENBQUNLO0VBTEQsQ0FGUDtFQVNMTSxNQUFNLEVBQUUsa0JBQVk7SUFDaEIsS0FBS0MsSUFBTDs7SUFDQSxJQUFJWixFQUFFLENB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Q0FBdUMvQixDQUF2QyxFQUEwQ08sQ0FBMUMsRUFBNkNZLENBQTdDOztJQUNBVSxDQUFDLENBQUNGLGtCQUFGOztJQUNBLE9BQU9FLENBQVA7RUFDSCxDQXBHSTtFQXFHTEcsbUJBQW1CLEVBQUUsNkJBQVVoQyxDQUFWLEVBQWFPLENBQWIsRUFBZ0I7SUFDakMsSUFBSVksQ0FBQyxHQUFHLEtBQUtFLE9BQUwsRUFBUjtJQUNBRixDQUFDLENBQUNPLE1BQUYsR0FBVyxLQUFLakMsSUFBaEI7SUFDQTBCLENBQUMsQ0FBQ04sTUFBRixHQUFXLENBQUMsQ0FBWjtJQUNBTSxDQUFDLENBQUNXLFlBQUYsQ0FBZSxpQkFBZixFQUFrQ0MsVUFBbEMsQ0FBNkMvQixDQUE3QyxFQUFnRE8sQ0FBaEQ7O0lBQ0FZLENBQUMsQ0FBQ1Esa0JBQUY7O0lBQ0EsT0FBT1IsQ0FBUDtFQUNIO0FBNUdJLENBQVQiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImNjLkNsYXNzKHtcbiAgICBleHRlbmRzOiBjYy5Db21wb25lbnQsXG4gICAgcHJvcGVydGllczoge1xuICAgICAgICBwcmVmYWI6IGNjLk5vZGUsXG4gICAgICAgIHByZWZhYkFzc2V0OiBjYy5QcmVmYWIsXG4gICAgICAgIGNsYXp6OiBcIlwiLFxuICAgICAgICBjb3VudDogMCxcbiAgICAgICAgcm9vdDogY2MuTm9kZVxuICAgIH0sXG4gICAgb25Mb2FkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgICAgICBpZiAoY2MuaGFzSGFja05vZGUpIHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYy5oYXNIYWNrTm9kZSA9ICEwO1xuICAgICAgICAgICAgY2MuX0Jhc2VOb2RlLnByb3RvdHlwZS5fb25TZXRQYXJlbnQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIGlmIChudWxsID09IGUgJiYgdGhpcy5fX3Bvb2wpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX3Bvb2xDb3VudGVyKys7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX19pc0luUG9vbCA9ICEwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fcG9vbC5wdXQodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgb25EZXN0cm95OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc0luaXQpIHtcbiAgICAgICAgICAgIHZhciBlID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIHQgPSB0aGlzLnBvb2wuc2l6ZSgpOyBlIDwgdDsgZSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wb29sLmdldCgpLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgbGF6eUluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzSW5pdCkge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaGFzSW5pdCA9ICEwO1xuICAgICAgICAgICAgaWYgKHRoaXMucHJlZmFiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmVmYWIuX19pc0luUG9vbCA9ICExO1xuICAgICAgICAgICAgICAgIHRoaXMucHJlZmFiLmFjdGl2ZSA9ICExO1xuICAgICAgICAgICAgICAgIHRoaXMucHJlZmFiLnBvc2l0aW9uID0gY2MuVmVjMi5aRVJPO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuY2xhenoubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMucG9vbCA9IG5ldyBjYy5Ob2RlUG9vbCh0aGlzLmNsYXp6KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wb29sID0gbmV3IGNjLk5vZGVQb29sKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY291bnQgPj0gMCkge1xuICAgICAgICAgICAgdGhpcy5sYXp5SW5pdCgpO1xuICAgICAgICAgICAgdmFyIGUgPSB0aGlzLnByZWZhYiB8fCB0aGlzLnByZWZhYkFzc2V0O1xuICAgICAgICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPCB0aGlzLmNvdW50OyB0KyspIHtcbiAgICAgICAgICAgICAgICB2YXIgbyA9IGNjLmluc3RhbnRpYXRlKGUpO1xuICAgICAgICAgICAgICAgIG8uX19wb29sQ291bnRlciA9IDA7XG4gICAgICAgICAgICAgICAgby5fX2lzSW5Qb29sID0gITA7XG4gICAgICAgICAgICAgICAgby5fX3Bvb2wgPSB0aGlzLnBvb2w7XG4gICAgICAgICAgICAgICAgdGhpcy5wb29sLnB1dChvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgbmV3Tm9kZTogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmxhenlJbml0KCk7XG4gICAgICAgIHZhciBlID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMucG9vbCAmJiB0aGlzLnBvb2wuc2l6ZSgpID4gMCkge1xuICAgICAgICAgICAgZSA9IHRoaXMucG9vbC5nZXQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIChlID0gY2MuaW5zdGFudGlhdGUodGhpcy5wcmVmYWIgfHwgdGhpcy5wcmVmYWJBc3NldCkpLl9fcG9vbENvdW50ZXIgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGUuX19pc0luUG9vbCA9ICExO1xuICAgICAgICBlLl9fcG9vbCA9IHRoaXMucG9vbDtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfSxcbiAgICBhZGROb2RlQnlXb3JsZFBvczogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkTm9kZSh0aGlzLnJvb3QuY29udmVydFRvTm9kZVNwYWNlQVIoZSkpO1xuICAgIH0sXG4gICAgYWRkTm9kZTogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkTm9kZVRvKHRoaXMucm9vdCwgZSk7XG4gICAgfSxcbiAgICBhZGROb2RlVG86IGZ1bmN0aW9uIChlLCB0KSB7XG4gICAgICAgIHZhciBvID0gdGhpcy5uZXdOb2RlKCk7XG4gICAgICAgIGlmICh0KSB7XG4gICAgICAgICAgICBvLnBvc2l0aW9uID0gdDtcbiAgICAgICAgfVxuICAgICAgICBvLnBhcmVudCA9IGU7XG4gICAgICAgIG8uYWN0aXZlID0gITA7XG4gICAgICAgIG8uX2NhbGN1bFdvcmxkTWF0cml4KCk7XG4gICAgICAgIHJldHVybiBvO1xuICAgIH0sXG4gICAgYWRkRWZmZWN0Tm9kZTogZnVuY3Rpb24gKGUsIHQsIG8pIHtcbiAgICAgICAgaWYgKHZvaWQgMCA9PT0gbykge1xuICAgICAgICAgICAgbyA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGEgPSB0aGlzLm5ld05vZGUoKTtcbiAgICAgICAgYS5wYXJlbnQgPSB0aGlzLnJvb3Q7XG4gICAgICAgIGEuYWN0aXZlID0gITA7XG4gICAgICAgIGEuZ2V0Q29tcG9uZW50KFwiRWZmZWN0Rmx5XCIpLmluaXRFZmZlY3QoZSwgdCwgbyk7XG4gICAgICAgIGEuX2NhbGN1bFdvcmxkTWF0cml4KCk7XG4gICAgICAgIHJldHVybiBhO1xuICAgIH0sXG4gICAgYWRkQmF0dGxlRWZmZWN0Tm9kZTogZnVuY3Rpb24gKGUsIHQpIHtcbiAgICAgICAgdmFyIG8gPSB0aGlzLm5ld05vZGUoKTtcbiAgICAgICAgby5wYXJlbnQgPSB0aGlzLnJvb3Q7XG4gICAgICAgIG8uYWN0aXZlID0gITA7XG4gICAgICAgIG8uZ2V0Q29tcG9uZW50KFwiRWZmZWN0QmF0dGxlTnVtXCIpLmluaXRFZmZlY3QoZSwgdCk7XG4gICAgICAgIG8uX2NhbGN1bFdvcmxkTWF0cml4KCk7XG4gICAgICAgIHJldHVybiBvO1xuICAgIH1cbn0pO1xuIl19